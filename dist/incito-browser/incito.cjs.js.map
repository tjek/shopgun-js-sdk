{"version":3,"file":"incito.cjs.js","sources":["../../lib/incito-browser/utils.js","../../lib/incito-browser/incito.js"],"sourcesContent":["export const formatUnit = (unit) => {\n    if (unit == null) {\n        return 0;\n    } else if (typeof unit === 'number') {\n        return unit + 'px';\n    } else if (typeof unit === 'string') {\n        return unit.replace('dp', 'px');\n    } else {\n        return 0;\n    }\n};\n\nexport const escapeAttrValue = (value) => {\n    if (typeof value === 'string') {\n        return value.replace(/\"/g, '&quot;');\n    }\n\n    return value;\n};\n\nexport const isDefinedStr = (value) =>\n    typeof value === 'string' && value.length > 0;\n\nexport const escapeHTML = (unsafe = '') =>\n    unsafe\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#039;');\n\nexport const getShadow = (view) => {\n    if (isDefinedStr(view.shadow_color)) {\n        const dx = typeof view.shadow_dx === 'number' ? view.shadow_dx : 0;\n        const dy = typeof view.shadow_dy === 'number' ? view.shadow_dy : 0;\n        const radius =\n            typeof view.shadow_radius === 'number' ? view.shadow_radius : 0;\n        const color = view.shadow_color;\n\n        return {\n            dx,\n            dy,\n            radius,\n            color\n        };\n    }\n};\n\nexport const getTransforms = (view) => {\n    const transforms = [];\n    const translateX = formatUnit(view.transform_translate_x);\n    const translateY = formatUnit(view.transform_translate_y);\n\n    if (translateX !== 0) {\n        transforms.push(`translateX(${translateX})`);\n    }\n\n    if (translateY !== 0) {\n        transforms.push(`translateY(${translateY})`);\n    }\n\n    if (\n        typeof view.transform_rotate === 'number' &&\n        view.transform_rotate !== 0\n    ) {\n        transforms.push(`rotate(${view.transform_rotate}deg)`);\n    }\n\n    if (\n        typeof view.transform_scale === 'number' &&\n        view.transform_scale !== 1\n    ) {\n        transforms.push(`scale(${view.transform_scale})`);\n    }\n\n    return transforms;\n};\n\nexport const parseSpans = (text, spans = []) => {\n    const result = [];\n\n    if (spans.length === 0) {\n        result.push({\n            text\n        });\n    } else if (spans[0].start > 0) {\n        result.push({\n            text: text.slice(0, spans[0].start)\n        });\n    }\n\n    spans.forEach((span, i) => {\n        const startIndex = span.start;\n        const endIndex = span.end;\n\n        result.push({\n            text: text.slice(startIndex, endIndex),\n            span\n        });\n\n        if (i === spans.length - 1) {\n            if (endIndex < text.length) {\n                result.push({\n                    text: text.slice(endIndex, text.length)\n                });\n            }\n        } else if (endIndex < spans[i + 1].start) {\n            result.push({\n                text: text.slice(endIndex, spans[i + 1].start)\n            });\n        }\n    });\n\n    return result;\n};\n\nexport const getTextShadow = (view) => {\n    if (isDefinedStr(view.text_shadow_color)) {\n        const dx =\n            typeof view.text_shadow_dx === 'number' ? view.text_shadow_dx : 0;\n        const dy =\n            typeof view.text_shadow_dy === 'number' ? view.text_shadow_dy : 0;\n        const radius =\n            typeof view.text_shadow_radius === 'number'\n                ? view.text_shadow_radius\n                : 0;\n        const color = view.text_shadow_color;\n\n        return {\n            dx,\n            dy,\n            radius,\n            color\n        };\n    }\n};\n\nexport const loadFonts = (fontAssets = {}) => {\n    const styleEl = document.createElement('style');\n\n    for (const key in fontAssets) {\n        const value = fontAssets[key];\n        const urls = value.src\n            .map(([, url]) => {\n                return `url('${url}')`;\n            })\n            .join(', ');\n\n        styleEl.appendChild(\n            document.createTextNode(\n                `@font-face { font-family: '${key}'; font-display: swap; src: ${urls}; }`\n            )\n        );\n    }\n\n    document.head.appendChild(styleEl);\n};\n","import MicroEvent from 'microevent';\nimport './incito.styl';\nimport {\n    isDefinedStr,\n    formatUnit,\n    escapeHTML,\n    escapeAttrValue,\n    getShadow,\n    getTransforms,\n    parseSpans,\n    getTextShadow,\n    loadFonts\n} from './utils.js';\n\nexport default class Incito extends MicroEvent {\n    constructor(containerEl, {incito = {}}) {\n        super();\n\n        this.containerEl = containerEl;\n        this.incito = incito;\n        this.el = document.createElement('div');\n        this.imageCount = 0;\n        this.preloadImageCount = 20;\n        this.ids = {};\n        this.sections = [];\n        this.shouldLazyload = 'IntersectionObserver' in window;\n    }\n\n    start() {\n        loadFonts(this.incito.font_assets);\n\n        const html = this.renderHtml();\n        const theme = this.incito.theme || {};\n\n        this.el.dataset.readme = 'Incito by Tjek (https://incito.io)';\n        this.el.className = 'incito';\n\n        if (Array.isArray(theme.font_family)) {\n            this.el.style.fontFamily = theme.font_family.join(', ');\n        }\n\n        if (isDefinedStr(theme.background_color)) {\n            this.el.style.backgroundColor = theme.background_color;\n        }\n\n        if (isDefinedStr(theme.text_color)) {\n            this.el.style.color = theme.text_color;\n        }\n\n        if (typeof theme.line_spacing_multiplier === 'number') {\n            this.el.style.lineHeight = theme.line_spacing_multiplier;\n        }\n\n        // By setting the language we help the browser with stuff like hyphenation.\n        if (this.incito.locale != null) {\n            this.el.setAttribute('lang', this.incito.locale);\n        }\n\n        this.el.innerHTML = html;\n\n        this.el.addEventListener('click', (e) => {\n            const link = e.target.getAttribute('data-link');\n\n            if (isDefinedStr(link)) {\n                window.open(link, '_blank');\n            }\n        });\n\n        this.containerEl.appendChild(this.el);\n\n        if (this.shouldLazyload) {\n            this.lazyloader = new IntersectionObserver(\n                (entries) => {\n                    entries.forEach((entry) => {\n                        if (entry.isIntersecting) {\n                            this.loadEl(entry.target);\n                            this.lazyloader.unobserve(entry.target);\n                        }\n                    });\n                },\n                {\n                    rootMargin: '500px'\n                }\n            );\n\n            this.el.querySelectorAll('.incito--lazy').forEach((lazyEl) => {\n                this.lazyloader.observe(lazyEl);\n            });\n        }\n    }\n\n    destroy() {\n        if (this.lazyloader) {\n            this.lazyloader.disconnect();\n        }\n\n        this.containerEl.removeChild(this.el);\n\n        this.trigger('destroyed');\n    }\n\n    loadEl(el) {\n        if (el.dataset.bg) {\n            el.style.backgroundImage = `url(${el.dataset.bg})`;\n        } else if (el.dataset.src) {\n            el.src = el.dataset.src;\n        }\n\n        if (el.tagName.toLowerCase() === 'video') {\n            if (el.getAttribute('data-controls')) {\n                el.setAttribute('controls', 'true');\n            }\n\n            el.querySelectorAll('[data-src]').forEach((sourceEl) => {\n                sourceEl.setAttribute('src', sourceEl.dataset.src);\n            });\n\n            el.load();\n        }\n    }\n\n    renderView(view) {\n        let tagName = 'div';\n        let contents;\n        const classNames = ['incito__view'];\n        const styles = {};\n        const attrs = {};\n\n        if (view.view_name === 'TextView') {\n            tagName = 'p';\n            classNames.push('incito__text-view');\n\n            const textStyles = (view.text_style || '').split('|');\n            let {text} = view;\n\n            if (Array.isArray(view.spans) && view.spans.length > 0) {\n                const parsedText = parseSpans(text, view.spans);\n\n                text = parsedText.map((item) => {\n                    const escapedText = escapeHTML(item.text || '');\n\n                    if (item.span?.name === 'link' && item.span.url != null) {\n                        return `<a href=\"${encodeURI(\n                            item.span.url\n                        )}\" rel=\"external\" target=\"_blank\">${escapedText}</a>`;\n                    }\n                    if (item.span?.name != null) {\n                        const spanName = item.span.name;\n\n                        return `<span data-name=\"${spanName}\">${escapedText}</span>`;\n                    }\n                    return escapedText;\n                });\n                text = text.join('');\n            } else {\n                text = escapeHTML(text);\n            }\n\n            if (view.text_prevent_widow) {\n                text = text\n                    .replace(/&nbsp;([^\\s]+)$/, ' $1')\n                    .replace(/\\s([^\\s]+)\\s*$/, '&nbsp;$1');\n            }\n\n            contents = text.replace(/\\n/g, '<br>');\n\n            if (\n                Array.isArray(view.font_family) &&\n                view.font_family.length > 0\n            ) {\n                styles['font-family'] = view.font_family.join(', ');\n            }\n\n            if (view.text_size != null) {\n                styles['font-size'] = `${view.text_size}px`;\n            }\n\n            if (view.line_spacing_multiplier != null) {\n                styles['line-height'] = view.line_spacing_multiplier;\n            }\n\n            if (view.text_color != null) {\n                styles.color = view.text_color;\n            }\n\n            if (textStyles.indexOf('bold') !== -1) {\n                styles['font-weight'] = 'bold';\n            }\n\n            if (textStyles.indexOf('italic') !== -1) {\n                styles['font-style'] = 'italic';\n            }\n\n            if (Array.isArray(view.text_decoration_line)) {\n                styles['text-decoration-line'] = view.text_decoration_line.join(\n                    ' '\n                );\n            }\n\n            const textShadow = getTextShadow(view);\n\n            if (isDefinedStr(view.text_shadow)) {\n                styles['text-shadow'] = view.text_shadow;\n            } else if (textShadow != null) {\n                styles[\n                    'text-shadow'\n                ] = `${textShadow.dx}px ${textShadow.dy}px ${textShadow.radius}px ${textShadow.color}`;\n            }\n\n            if (view.text_alignment === 'left') {\n                styles['text-align'] = 'left';\n            } else if (view.text_alignment === 'center') {\n                styles['text-align'] = 'center';\n            } else if (view.text_alignment === 'right') {\n                styles['text-align'] = 'right';\n            }\n\n            if (view.single_line === true || view.max_lines === 1) {\n                attrs['data-single-line'] = true;\n            } else if (typeof view.max_lines === 'number') {\n                styles.display = '-webkit-box';\n                styles['webkit-line-clamp'] = view.max_lines;\n                styles['webkit-box-orient'] = 'vertical';\n            }\n\n            if (view.text_all_caps === true) {\n                styles['text-transform'] = 'uppercase';\n            }\n        } else if (view.view_name === 'ImageView') {\n            tagName = 'img';\n            classNames.push('incito__image-view');\n\n            attrs.onerror = `this.style.display='none'`;\n\n            if (isDefinedStr(view.src)) {\n                if (\n                    this.imageCount >= this.preloadImageCount &&\n                    this.shouldLazyload\n                ) {\n                    classNames.push('incito--lazy');\n\n                    attrs['data-src'] = view.src;\n                } else {\n                    attrs.src = view.src;\n                }\n\n                this.imageCount++;\n            }\n\n            if (isDefinedStr(view.label)) {\n                attrs['alt'] = view.label;\n            }\n        } else if (view.view_name === 'VideoView') {\n            tagName = 'video';\n            classNames.push('incito__video-view');\n\n            attrs['muted'] = true;\n            attrs.preload = 'metadata';\n            attrs.playsinline = true;\n            attrs['webkit-playsinline'] = true;\n\n            if (view.autoplay === true) {\n                attrs['autoplay'] = true;\n            }\n\n            if (view.loop === true) {\n                attrs['loop'] = true;\n            }\n\n            if (view.controls === true) {\n                attrs['data-controls'] = true;\n            }\n\n            if (this.shouldLazyload) {\n                classNames.push('incito--lazy');\n                contents = `<source type=\"${view.mime}\" data-src=\"${view.src}\"/>`;\n            } else {\n                contents = `<source type=\"${view.mime}\" src=\"${view.src}\"/>`;\n            }\n        } else if (view.view_name === 'HTMLView') {\n            if (isDefinedStr(view.style)) {\n                view.style\n                    .trim()\n                    .split(';')\n                    .forEach((style) => {\n                        const [key, value] = style.trim().split(':');\n\n                        styles[key] = value;\n                    });\n            }\n        } else if (\n            view.view_name === 'VideoEmbedView' ||\n            view.view_name === 'HTMLEmbedView'\n        ) {\n            tagName = 'iframe';\n            classNames.push('incito__html-embed-view');\n\n            attrs.sandbox = 'allow-scripts allow-same-origin';\n            attrs.allowfullscreen = '';\n\n            if (this.shouldLazyload) {\n                classNames.push('incito--lazy');\n                attrs['data-src'] = view.src;\n            } else {\n                attrs.src = view.src;\n            }\n        } else if (view.view_name === 'AbsoluteLayout') {\n            classNames.push('incito__absolute-layout-view');\n        } else if (view.view_name === 'FlexLayout') {\n            const flexAlignItemModes = [\n                'stretch',\n                'center',\n                'flex-start',\n                'flex-end',\n                'baseline'\n            ];\n            const flexJustifyModes = [\n                'flex-start',\n                'flex-end',\n                'center',\n                'space-between',\n                'space-around'\n            ];\n            const flexDirectionModes = ['row', 'column'];\n\n            classNames.push('incito__flex-layout-view');\n\n            styles.display = 'flex';\n\n            if (\n                flexAlignItemModes.indexOf(view.layout_flex_align_items) !== -1\n            ) {\n                styles['align-items'] = view.layout_flex_align_items;\n                styles['ms-align-items'] = view.layout_flex_align_items;\n            }\n\n            if (\n                flexJustifyModes.indexOf(view.layout_flex_justify_content) !==\n                -1\n            ) {\n                styles['justify-content'] = view.layout_flex_justify_content;\n                styles['ms-flex-pack'] = view.layout_flex_justify_content;\n            }\n\n            if (flexDirectionModes.indexOf(view.layout_flex_direction) !== -1) {\n                styles['flex-direction'] = view.layout_flex_direction;\n                styles['ms-flex-direction'] = view.layout_flex_direction;\n            }\n        }\n\n        if (isDefinedStr(view.id)) {\n            attrs['data-id'] = escapeAttrValue(view.id);\n        }\n\n        if (isDefinedStr(view.role)) {\n            attrs['data-role'] = escapeAttrValue(view.role);\n        }\n\n        if (isDefinedStr(view.accessibility_label)) {\n            attrs['aria-label'] = escapeAttrValue(view.accessibility_label);\n        }\n\n        if (view.accessibility_hidden === true) {\n            attrs['aria-hidden'] = true;\n        }\n\n        if (Array.isArray(view.feature_labels)) {\n            const featureLabels = view.feature_labels.filter((featureLabel) =>\n                /^[a-z_-]{1,14}$/.test(featureLabel)\n            );\n\n            if (featureLabels.length) {\n                attrs['data-feature-labels'] = featureLabels.join(',');\n            }\n        }\n\n        if (isDefinedStr(view.title)) {\n            attrs['title'] = escapeAttrValue(view.title);\n        }\n\n        if (view.gravity) {\n            attrs['data-gravity'] = view.gravity;\n        }\n\n        if (isDefinedStr(view.link)) {\n            attrs['data-link'] = view.link;\n        }\n\n        if (view.layout_width === 'match_parent') {\n            styles.width = '100%';\n        } else if (view.layout_width === 'wrap_content') {\n            styles.display = 'inline-block';\n        } else if (view.layout_width != null) {\n            styles.width = formatUnit(view.layout_width);\n        }\n\n        if (view.layout_height === 'match_parent') {\n            styles.height = '100%';\n        } else if (view.layout_height === 'wrap_content') {\n            styles.height = 'auto';\n        } else if (view.layout_height != null) {\n            styles.height = formatUnit(view.layout_height);\n        }\n\n        if (view.min_width != null) {\n            styles['min-width'] = formatUnit(view.min_width);\n        }\n\n        if (view.max_width != null) {\n            styles['max-width'] = formatUnit(view.max_width);\n        }\n\n        if (view.min_height != null) {\n            styles['min-height'] = formatUnit(view.min_height);\n        }\n\n        if (view.max_height != null) {\n            styles['max-height'] = formatUnit(view.max_height);\n        }\n\n        if (view.layout_top != null) {\n            styles.top = formatUnit(view.layout_top);\n        }\n        if (view.layout_left != null) {\n            styles.left = formatUnit(view.layout_left);\n        }\n        if (view.layout_right != null) {\n            styles.right = formatUnit(view.layout_right);\n        }\n        if (view.layout_bottom != null) {\n            styles.bottom = formatUnit(view.layout_bottom);\n        }\n\n        if (view.background_color) {\n            styles['background-color'] = view.background_color;\n        }\n\n        if (isDefinedStr(view.background_image)) {\n            if (\n                this.imageCount >= this.preloadImageCount &&\n                this.shouldLazyload\n            ) {\n                classNames.push('incito--lazy');\n\n                attrs['data-bg'] = view.background_image;\n            } else {\n                styles['background-image'] = `url(${view.background_image})`;\n            }\n\n            this.imageCount++;\n        }\n\n        if (\n            ['repeat_x', 'repeat_y', 'repeat'].indexOf(\n                view.background_tile_mode\n            ) !== -1\n        ) {\n            styles['background-repeat'] = view.background_tile_mode.replace(\n                '_',\n                '-'\n            );\n        }\n\n        if (isDefinedStr(view.background_image_position)) {\n            styles[\n                'background-position'\n            ] = view.background_image_position.replace('_', ' ');\n        }\n\n        if (view.background_image_scale_type === 'center_crop') {\n            styles['background-size'] = 'cover';\n        } else if (view.background_image_scale_type === 'center_inside') {\n            styles['background-size'] = 'contain';\n        }\n\n        if (view.layout_margin != null) {\n            styles.margin = formatUnit(view.layout_margin);\n        }\n        if (view.layout_margin_top != null) {\n            styles['margin-top'] = formatUnit(view.layout_margin_top);\n        }\n        if (view.layout_margin_left != null) {\n            styles['margin-left'] = formatUnit(view.layout_margin_left);\n        }\n        if (view.layout_margin_right != null) {\n            styles['margin-right'] = formatUnit(view.layout_margin_right);\n        }\n        if (view.layout_margin_bottom != null) {\n            styles['margin-bottom'] = formatUnit(view.layout_margin_bottom);\n        }\n\n        if (view.padding != null) {\n            styles.padding = formatUnit(view.padding);\n        }\n        if (view.padding_top != null) {\n            styles['padding-top'] = formatUnit(view.padding_top);\n        }\n        if (view.padding_left != null) {\n            styles['padding-left'] = formatUnit(view.padding_left);\n        }\n        if (view.padding_right != null) {\n            styles['padding-right'] = formatUnit(view.padding_right);\n        }\n        if (view.padding_bottom != null) {\n            styles['padding-bottom'] = formatUnit(view.padding_bottom);\n        }\n\n        if (view.corner_radius != null) {\n            styles['border-radius'] = formatUnit(view.corner_radius);\n        }\n        if (view.corner_top_left_radius != null) {\n            styles['border-top-left-radius'] = formatUnit(\n                view.corner_top_left_radius\n            );\n        }\n        if (view.corner_top_right_radius != null) {\n            styles['border-top-right-radius'] = formatUnit(\n                view.corner_top_right_radius\n            );\n        }\n        if (view.corner_bottom_left_radius != null) {\n            styles['border-bottom-left-radius'] = formatUnit(\n                view.corner_bottom_left_radius\n            );\n        }\n        if (view.corner_bottom_right_radius != null) {\n            styles['border-bottom-right-radius'] = formatUnit(\n                view.corner_bottom_right_radius\n            );\n        }\n\n        // Clip children.\n        if (view.clip_children === false) {\n            styles['overflow'] = 'visible';\n        }\n\n        const shadow = getShadow(view);\n\n        if (shadow != null) {\n            styles[\n                'box-shadow'\n            ] = `${shadow.dx}px ${shadow.dy}px ${shadow.radius}px ${shadow.color}`;\n        }\n\n        const strokeStyles = ['solid', 'dotted', 'dashed'];\n\n        if (view.stroke_width != null) {\n            styles['border-width'] = formatUnit(view.stroke_width);\n        }\n        if (view.stroke_color != null) {\n            styles['border-color'] = view.stroke_color;\n        }\n        if (strokeStyles.indexOf(view.stroke_style) !== -1) {\n            styles['border-style'] = view.stroke_style;\n        }\n\n        if (view.stroke_top_width != null) {\n            styles['border-top-width'] = formatUnit(view.stroke_top_width);\n        }\n        if (view.stroke_top_color != null) {\n            styles['border-top-color'] = view.stroke_top_color;\n        }\n\n        if (view.stroke_left_width != null) {\n            styles['border-left-width'] = formatUnit(view.stroke_left_width);\n        }\n        if (view.stroke_left_color != null) {\n            styles['border-left-color'] = view.stroke_left_color;\n        }\n\n        if (view.stroke_right_width != null) {\n            styles['border-right-width'] = formatUnit(view.stroke_right_width);\n        }\n        if (view.stroke_right_color != null) {\n            styles['border-right-color'] = view.stroke_right_color;\n        }\n\n        if (view.stroke_bottom_width != null) {\n            styles['border-bottom-width'] = formatUnit(\n                view.stroke_bottom_width\n            );\n        }\n        if (view.stroke_bottom_color != null) {\n            styles['border-bottom-color'] = view.stroke_bottom_color;\n        }\n\n        if (typeof view.layout_flex_shrink === 'number') {\n            styles['flex-shrink'] = view.layout_flex_shrink;\n            styles['ms-flex-shrink'] = view.layout_flex_shrink;\n        }\n        if (typeof view.layout_flex_grow === 'number') {\n            styles['flex-grow'] = view.layout_flex_grow;\n            styles['ms-flex-grow'] = view.layout_flex_grow;\n        }\n        if (view.layout_flex_basis != null) {\n            styles['flex-basis'] = formatUnit(view.layout_flex_basis);\n            styles['ms-flex-basis'] = formatUnit(view.layout_flex_basis);\n        }\n\n        const transforms = getTransforms(view);\n\n        if (transforms.length > 0) {\n            styles.transform = transforms.join(' ');\n        }\n\n        // Transform origin.\n        if (\n            Array.isArray(view.transform_origin) &&\n            view.transform_origin.length === 2\n        ) {\n            styles['transform-origin'] = [\n                formatUnit(view.transform_origin[0]),\n                formatUnit(view.transform_origin[1])\n            ].join(' ');\n        }\n\n        return {\n            tagName,\n            contents,\n            classNames,\n            styles,\n            attrs\n        };\n    }\n\n    renderHtml() {\n        let html = '';\n        const iter = (view) => {\n            try {\n                const {\n                    tagName,\n                    contents,\n                    classNames,\n                    styles,\n                    attrs\n                } = this.renderView(view);\n\n                if (view.id != null && typeof view.meta === 'object') {\n                    this.ids[view.id] = view.meta;\n                }\n\n                if (view.role === 'section') {\n                    this.sections.push({\n                        id: view.id,\n                        meta: view.meta\n                    });\n                }\n\n                html += `<${tagName}`;\n                html += ` class=\"${classNames.join(' ')}\"`;\n\n                for (const key in attrs) {\n                    const value = attrs[key];\n\n                    html += ` ${key}=\"${value}\"`;\n                }\n\n                html += ' style=\"';\n\n                for (const key in styles) {\n                    const value = styles[key];\n\n                    html += `${key}:${value}; `;\n                }\n\n                html += '\"';\n\n                for (const key in attrs) {\n                    const value = attrs[key];\n\n                    html += ` ${key}=\"${value}\"`;\n                }\n\n                html += '>';\n\n                if (Array.isArray(view.child_views)) {\n                    view.child_views.forEach((childView) => {\n                        iter(childView);\n                    });\n                }\n\n                if (contents) {\n                    html += contents;\n                }\n\n                html += `</${tagName}>`;\n            } catch (error) {}\n        };\n\n        iter(this.incito.root_view);\n\n        return html;\n    }\n}\n"],"names":["formatUnit","unit","replace","escapeAttrValue","value","isDefinedStr","length","escapeHTML","unsafe","getShadow","view","shadow_color","dx","shadow_dx","dy","shadow_dy","radius","shadow_radius","color","getTransforms","transforms","translateX","transform_translate_x","translateY","transform_translate_y","push","transform_rotate","transform_scale","parseSpans","text","spans","result","start","_sliceInstanceProperty","span","i","startIndex","endIndex","end","getTextShadow","text_shadow_color","text_shadow_dx","text_shadow_dy","text_shadow_radius","loadFonts","fontAssets","styleEl","document","createElement","key","urls","_mapInstanceProperty","src","url","join","appendChild","createTextNode","head","Incito","containerEl","incito","el","imageCount","preloadImageCount","ids","sections","shouldLazyload","window","font_assets","html","renderHtml","theme","dataset","readme","className","_Array$isArray","font_family","style","fontFamily","background_color","backgroundColor","text_color","line_spacing_multiplier","lineHeight","locale","setAttribute","innerHTML","addEventListener","e","link","target","getAttribute","open","lazyloader","IntersectionObserver","entries","entry","isIntersecting","loadEl","unobserve","rootMargin","querySelectorAll","lazyEl","observe","disconnect","removeChild","trigger","bg","backgroundImage","tagName","toLowerCase","sourceEl","load","contents","classNames","styles","attrs","view_name","textStyles","text_style","split","parsedText","item","escapedText","name","encodeURI","spanName","text_prevent_widow","text_size","_indexOfInstanceProperty","text_decoration_line","textShadow","text_shadow","text_alignment","single_line","max_lines","display","text_all_caps","onerror","label","preload","playsinline","autoplay","loop","controls","mime","_trimInstanceProperty","sandbox","allowfullscreen","flexAlignItemModes","flexJustifyModes","flexDirectionModes","layout_flex_align_items","layout_flex_justify_content","layout_flex_direction","id","role","accessibility_label","accessibility_hidden","feature_labels","featureLabels","_filterInstanceProperty","featureLabel","test","title","gravity","layout_width","width","layout_height","height","min_width","max_width","min_height","max_height","layout_top","top","layout_left","left","layout_right","right","layout_bottom","bottom","background_image","background_tile_mode","background_image_position","background_image_scale_type","layout_margin","margin","layout_margin_top","layout_margin_left","layout_margin_right","layout_margin_bottom","padding","padding_top","padding_left","padding_right","padding_bottom","corner_radius","corner_top_left_radius","corner_top_right_radius","corner_bottom_left_radius","corner_bottom_right_radius","clip_children","shadow","strokeStyles","stroke_width","stroke_color","stroke_style","stroke_top_width","stroke_top_color","stroke_left_width","stroke_left_color","stroke_right_width","stroke_right_color","stroke_bottom_width","stroke_bottom_color","layout_flex_shrink","layout_flex_grow","layout_flex_basis","transform","transform_origin","iter","renderView","meta","child_views","childView","error","root_view","MicroEvent"],"mappings":"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"}