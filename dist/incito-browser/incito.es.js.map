{"version":3,"file":"incito.es.js","sources":["../../lib/incito-browser/utils.js","../../lib/incito-browser/incito.js"],"sourcesContent":["export const formatUnit = (unit) => {\n    if (unit == null) {\n        return 0;\n    } else if (typeof unit === 'number') {\n        return unit + 'px';\n    } else if (typeof unit === 'string') {\n        return unit.replace('dp', 'px');\n    } else {\n        return 0;\n    }\n};\n\nexport const escapeAttrValue = (value) => {\n    if (typeof value === 'string') {\n        return value.replace(/\"/g, '&quot;');\n    }\n\n    return value;\n};\n\nexport const isDefinedStr = (value) =>\n    typeof value === 'string' && value.length > 0;\n\nexport const escapeHTML = (unsafe = '') =>\n    unsafe\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#039;');\n\nexport const getShadow = (view) => {\n    if (isDefinedStr(view.shadow_color)) {\n        const dx = typeof view.shadow_dx === 'number' ? view.shadow_dx : 0;\n        const dy = typeof view.shadow_dy === 'number' ? view.shadow_dy : 0;\n        const radius =\n            typeof view.shadow_radius === 'number' ? view.shadow_radius : 0;\n        const color = view.shadow_color;\n\n        return {\n            dx,\n            dy,\n            radius,\n            color\n        };\n    }\n};\n\nexport const getTransforms = (view) => {\n    const transforms = [];\n    const translateX = formatUnit(view.transform_translate_x);\n    const translateY = formatUnit(view.transform_translate_y);\n\n    if (translateX !== 0) {\n        transforms.push(`translateX(${translateX})`);\n    }\n\n    if (translateY !== 0) {\n        transforms.push(`translateY(${translateY})`);\n    }\n\n    if (\n        typeof view.transform_rotate === 'number' &&\n        view.transform_rotate !== 0\n    ) {\n        transforms.push(`rotate(${view.transform_rotate}deg)`);\n    }\n\n    if (\n        typeof view.transform_scale === 'number' &&\n        view.transform_scale !== 1\n    ) {\n        transforms.push(`scale(${view.transform_scale})`);\n    }\n\n    return transforms;\n};\n\nexport const parseSpans = (text, spans = []) => {\n    const result = [];\n\n    if (spans.length === 0) {\n        result.push({\n            text\n        });\n    } else if (spans[0].start > 0) {\n        result.push({\n            text: text.slice(0, spans[0].start)\n        });\n    }\n\n    spans.forEach((span, i) => {\n        const startIndex = span.start;\n        const endIndex = span.end;\n\n        result.push({\n            text: text.slice(startIndex, endIndex),\n            span\n        });\n\n        if (i === spans.length - 1) {\n            if (endIndex < text.length) {\n                result.push({\n                    text: text.slice(endIndex, text.length)\n                });\n            }\n        } else if (endIndex < spans[i + 1].start) {\n            result.push({\n                text: text.slice(endIndex, spans[i + 1].start)\n            });\n        }\n    });\n\n    return result;\n};\n\nexport const getTextShadow = (view) => {\n    if (isDefinedStr(view.text_shadow_color)) {\n        const dx =\n            typeof view.text_shadow_dx === 'number' ? view.text_shadow_dx : 0;\n        const dy =\n            typeof view.text_shadow_dy === 'number' ? view.text_shadow_dy : 0;\n        const radius =\n            typeof view.text_shadow_radius === 'number'\n                ? view.text_shadow_radius\n                : 0;\n        const color = view.text_shadow_color;\n\n        return {\n            dx,\n            dy,\n            radius,\n            color\n        };\n    }\n};\n\nexport const loadFonts = (fontAssets = {}) => {\n    const styleEl = document.createElement('style');\n\n    for (const key in fontAssets) {\n        const value = fontAssets[key];\n        const urls = value.src\n            .map(([, url]) => {\n                return `url('${url}')`;\n            })\n            .join(', ');\n\n        styleEl.appendChild(\n            document.createTextNode(\n                `@font-face { font-family: '${key}'; font-display: swap; src: ${urls}; }`\n            )\n        );\n    }\n\n    document.head.appendChild(styleEl);\n};\n","import MicroEvent from 'microevent';\nimport './incito.styl';\nimport {\n    isDefinedStr,\n    formatUnit,\n    escapeHTML,\n    escapeAttrValue,\n    getShadow,\n    getTransforms,\n    parseSpans,\n    getTextShadow,\n    loadFonts\n} from './utils.js';\n\nexport default class Incito extends MicroEvent {\n    constructor(containerEl, {incito = {}}) {\n        super();\n\n        this.containerEl = containerEl;\n        this.incito = incito;\n        this.el = document.createElement('div');\n        this.imageCount = 0;\n        this.preloadImageCount = 20;\n        this.ids = {};\n        this.sections = [];\n        this.shouldLazyload = 'IntersectionObserver' in window;\n    }\n\n    start() {\n        loadFonts(this.incito.font_assets);\n\n        const html = this.renderHtml();\n        const theme = this.incito.theme || {};\n\n        this.el.dataset.readme = 'Incito by Tjek (https://incito.io)';\n        this.el.className = 'incito';\n\n        if (Array.isArray(theme.font_family)) {\n            this.el.style.fontFamily = theme.font_family.join(', ');\n        }\n\n        if (isDefinedStr(theme.background_color)) {\n            this.el.style.backgroundColor = theme.background_color;\n        }\n\n        if (isDefinedStr(theme.text_color)) {\n            this.el.style.color = theme.text_color;\n        }\n\n        if (typeof theme.line_spacing_multiplier === 'number') {\n            this.el.style.lineHeight = theme.line_spacing_multiplier;\n        }\n\n        // By setting the language we help the browser with stuff like hyphenation.\n        if (this.incito.locale != null) {\n            this.el.setAttribute('lang', this.incito.locale);\n        }\n\n        this.el.innerHTML = html;\n\n        this.el.addEventListener('click', (e) => {\n            const link = e.target.getAttribute('data-link');\n\n            if (isDefinedStr(link)) {\n                window.open(link, '_blank');\n            }\n        });\n\n        this.containerEl.appendChild(this.el);\n\n        if (this.shouldLazyload) {\n            this.lazyloader = new IntersectionObserver(\n                (entries) => {\n                    entries.forEach((entry) => {\n                        if (entry.isIntersecting) {\n                            this.loadEl(entry.target);\n                            this.lazyloader.unobserve(entry.target);\n                        }\n                    });\n                },\n                {\n                    rootMargin: '500px'\n                }\n            );\n\n            this.el.querySelectorAll('.incito--lazy').forEach((lazyEl) => {\n                this.lazyloader.observe(lazyEl);\n            });\n        }\n    }\n\n    destroy() {\n        if (this.lazyloader) {\n            this.lazyloader.disconnect();\n        }\n\n        this.containerEl.removeChild(this.el);\n\n        this.trigger('destroyed');\n    }\n\n    loadEl(el) {\n        if (el.dataset.bg) {\n            el.style.backgroundImage = `url(${el.dataset.bg})`;\n        } else if (el.dataset.src) {\n            el.src = el.dataset.src;\n        }\n\n        if (el.tagName.toLowerCase() === 'video') {\n            if (el.getAttribute('data-controls')) {\n                el.setAttribute('controls', 'true');\n            }\n\n            el.querySelectorAll('[data-src]').forEach((sourceEl) => {\n                sourceEl.setAttribute('src', sourceEl.dataset.src);\n            });\n\n            el.load();\n        }\n    }\n\n    renderView(view) {\n        let tagName = 'div';\n        let contents;\n        const classNames = ['incito__view'];\n        const styles = {};\n        const attrs = {};\n\n        if (view.view_name === 'TextView') {\n            tagName = 'p';\n            classNames.push('incito__text-view');\n\n            const textStyles = (view.text_style || '').split('|');\n            let {text} = view;\n\n            if (Array.isArray(view.spans) && view.spans.length > 0) {\n                const parsedText = parseSpans(text, view.spans);\n\n                text = parsedText.map((item) => {\n                    const escapedText = escapeHTML(item.text || '');\n\n                    if (item.span?.name === 'link' && item.span.url != null) {\n                        return `<a href=\"${encodeURI(\n                            item.span.url\n                        )}\" rel=\"external\" target=\"_blank\">${escapedText}</a>`;\n                    }\n                    if (item.span?.name != null) {\n                        const spanName = item.span.name;\n\n                        return `<span data-name=\"${spanName}\">${escapedText}</span>`;\n                    }\n                    return escapedText;\n                });\n                text = text.join('');\n            } else {\n                text = escapeHTML(text);\n            }\n\n            if (view.text_prevent_widow) {\n                text = text\n                    .replace(/&nbsp;([^\\s]+)$/, ' $1')\n                    .replace(/\\s([^\\s]+)\\s*$/, '&nbsp;$1');\n            }\n\n            contents = text.replace(/\\n/g, '<br>');\n\n            if (\n                Array.isArray(view.font_family) &&\n                view.font_family.length > 0\n            ) {\n                styles['font-family'] = view.font_family.join(', ');\n            }\n\n            if (view.text_size != null) {\n                styles['font-size'] = `${view.text_size}px`;\n            }\n\n            if (view.line_spacing_multiplier != null) {\n                styles['line-height'] = view.line_spacing_multiplier;\n            }\n\n            if (view.text_color != null) {\n                styles.color = view.text_color;\n            }\n\n            if (textStyles.indexOf('bold') !== -1) {\n                styles['font-weight'] = 'bold';\n            }\n\n            if (textStyles.indexOf('italic') !== -1) {\n                styles['font-style'] = 'italic';\n            }\n\n            if (Array.isArray(view.text_decoration_line)) {\n                styles['text-decoration-line'] = view.text_decoration_line.join(\n                    ' '\n                );\n            }\n\n            const textShadow = getTextShadow(view);\n\n            if (isDefinedStr(view.text_shadow)) {\n                styles['text-shadow'] = view.text_shadow;\n            } else if (textShadow != null) {\n                styles[\n                    'text-shadow'\n                ] = `${textShadow.dx}px ${textShadow.dy}px ${textShadow.radius}px ${textShadow.color}`;\n            }\n\n            if (view.text_alignment === 'left') {\n                styles['text-align'] = 'left';\n            } else if (view.text_alignment === 'center') {\n                styles['text-align'] = 'center';\n            } else if (view.text_alignment === 'right') {\n                styles['text-align'] = 'right';\n            }\n\n            if (view.single_line === true || view.max_lines === 1) {\n                attrs['data-single-line'] = true;\n            } else if (typeof view.max_lines === 'number') {\n                styles.display = '-webkit-box';\n                styles['webkit-line-clamp'] = view.max_lines;\n                styles['webkit-box-orient'] = 'vertical';\n            }\n\n            if (view.text_all_caps === true) {\n                styles['text-transform'] = 'uppercase';\n            }\n        } else if (view.view_name === 'ImageView') {\n            tagName = 'img';\n            classNames.push('incito__image-view');\n\n            attrs.onerror = `this.style.display='none'`;\n\n            if (isDefinedStr(view.src)) {\n                if (\n                    this.imageCount >= this.preloadImageCount &&\n                    this.shouldLazyload\n                ) {\n                    classNames.push('incito--lazy');\n\n                    attrs['data-src'] = view.src;\n                } else {\n                    attrs.src = view.src;\n                }\n\n                this.imageCount++;\n            }\n\n            if (isDefinedStr(view.label)) {\n                attrs['alt'] = view.label;\n            }\n        } else if (view.view_name === 'VideoView') {\n            tagName = 'video';\n            classNames.push('incito__video-view');\n\n            attrs['muted'] = true;\n            attrs.preload = 'metadata';\n            attrs.playsinline = true;\n            attrs['webkit-playsinline'] = true;\n\n            if (view.autoplay === true) {\n                attrs['autoplay'] = true;\n            }\n\n            if (view.loop === true) {\n                attrs['loop'] = true;\n            }\n\n            if (view.controls === true) {\n                attrs['data-controls'] = true;\n            }\n\n            if (this.shouldLazyload) {\n                classNames.push('incito--lazy');\n                contents = `<source type=\"${view.mime}\" data-src=\"${view.src}\"/>`;\n            } else {\n                contents = `<source type=\"${view.mime}\" src=\"${view.src}\"/>`;\n            }\n        } else if (view.view_name === 'HTMLView') {\n            if (isDefinedStr(view.style)) {\n                view.style\n                    .trim()\n                    .split(';')\n                    .forEach((style) => {\n                        const [key, value] = style.trim().split(':');\n\n                        styles[key] = value;\n                    });\n            }\n        } else if (\n            view.view_name === 'VideoEmbedView' ||\n            view.view_name === 'HTMLEmbedView'\n        ) {\n            tagName = 'iframe';\n            classNames.push('incito__html-embed-view');\n\n            attrs.sandbox = 'allow-scripts allow-same-origin';\n            attrs.allowfullscreen = '';\n\n            if (this.shouldLazyload) {\n                classNames.push('incito--lazy');\n                attrs['data-src'] = view.src;\n            } else {\n                attrs.src = view.src;\n            }\n        } else if (view.view_name === 'AbsoluteLayout') {\n            classNames.push('incito__absolute-layout-view');\n        } else if (view.view_name === 'FlexLayout') {\n            const flexAlignItemModes = [\n                'stretch',\n                'center',\n                'flex-start',\n                'flex-end',\n                'baseline'\n            ];\n            const flexJustifyModes = [\n                'flex-start',\n                'flex-end',\n                'center',\n                'space-between',\n                'space-around'\n            ];\n            const flexDirectionModes = ['row', 'column'];\n\n            classNames.push('incito__flex-layout-view');\n\n            styles.display = 'flex';\n\n            if (\n                flexAlignItemModes.indexOf(view.layout_flex_align_items) !== -1\n            ) {\n                styles['align-items'] = view.layout_flex_align_items;\n                styles['ms-align-items'] = view.layout_flex_align_items;\n            }\n\n            if (\n                flexJustifyModes.indexOf(view.layout_flex_justify_content) !==\n                -1\n            ) {\n                styles['justify-content'] = view.layout_flex_justify_content;\n                styles['ms-flex-pack'] = view.layout_flex_justify_content;\n            }\n\n            if (flexDirectionModes.indexOf(view.layout_flex_direction) !== -1) {\n                styles['flex-direction'] = view.layout_flex_direction;\n                styles['ms-flex-direction'] = view.layout_flex_direction;\n            }\n        }\n\n        if (isDefinedStr(view.id)) {\n            attrs['data-id'] = escapeAttrValue(view.id);\n        }\n\n        if (isDefinedStr(view.role)) {\n            attrs['data-role'] = escapeAttrValue(view.role);\n        }\n\n        if (isDefinedStr(view.accessibility_label)) {\n            attrs['aria-label'] = escapeAttrValue(view.accessibility_label);\n        }\n\n        if (view.accessibility_hidden === true) {\n            attrs['aria-hidden'] = true;\n        }\n\n        if (Array.isArray(view.feature_labels)) {\n            const featureLabels = view.feature_labels.filter((featureLabel) =>\n                /^[a-z_-]{1,14}$/.test(featureLabel)\n            );\n\n            if (featureLabels.length) {\n                attrs['data-feature-labels'] = featureLabels.join(',');\n            }\n        }\n\n        if (isDefinedStr(view.title)) {\n            attrs['title'] = escapeAttrValue(view.title);\n        }\n\n        if (view.gravity) {\n            attrs['data-gravity'] = view.gravity;\n        }\n\n        if (isDefinedStr(view.link)) {\n            attrs['data-link'] = view.link;\n        }\n\n        if (view.layout_width === 'match_parent') {\n            styles.width = '100%';\n        } else if (view.layout_width === 'wrap_content') {\n            styles.display = 'inline-block';\n        } else if (view.layout_width != null) {\n            styles.width = formatUnit(view.layout_width);\n        }\n\n        if (view.layout_height === 'match_parent') {\n            styles.height = '100%';\n        } else if (view.layout_height === 'wrap_content') {\n            styles.height = 'auto';\n        } else if (view.layout_height != null) {\n            styles.height = formatUnit(view.layout_height);\n        }\n\n        if (view.min_width != null) {\n            styles['min-width'] = formatUnit(view.min_width);\n        }\n\n        if (view.max_width != null) {\n            styles['max-width'] = formatUnit(view.max_width);\n        }\n\n        if (view.min_height != null) {\n            styles['min-height'] = formatUnit(view.min_height);\n        }\n\n        if (view.max_height != null) {\n            styles['max-height'] = formatUnit(view.max_height);\n        }\n\n        if (view.layout_top != null) {\n            styles.top = formatUnit(view.layout_top);\n        }\n        if (view.layout_left != null) {\n            styles.left = formatUnit(view.layout_left);\n        }\n        if (view.layout_right != null) {\n            styles.right = formatUnit(view.layout_right);\n        }\n        if (view.layout_bottom != null) {\n            styles.bottom = formatUnit(view.layout_bottom);\n        }\n\n        if (view.background_color) {\n            styles['background-color'] = view.background_color;\n        }\n\n        if (isDefinedStr(view.background_image)) {\n            if (\n                this.imageCount >= this.preloadImageCount &&\n                this.shouldLazyload\n            ) {\n                classNames.push('incito--lazy');\n\n                attrs['data-bg'] = view.background_image;\n            } else {\n                styles['background-image'] = `url(${view.background_image})`;\n            }\n\n            this.imageCount++;\n        }\n\n        if (\n            ['repeat_x', 'repeat_y', 'repeat'].indexOf(\n                view.background_tile_mode\n            ) !== -1\n        ) {\n            styles['background-repeat'] = view.background_tile_mode.replace(\n                '_',\n                '-'\n            );\n        }\n\n        if (isDefinedStr(view.background_image_position)) {\n            styles[\n                'background-position'\n            ] = view.background_image_position.replace('_', ' ');\n        }\n\n        if (view.background_image_scale_type === 'center_crop') {\n            styles['background-size'] = 'cover';\n        } else if (view.background_image_scale_type === 'center_inside') {\n            styles['background-size'] = 'contain';\n        }\n\n        if (view.layout_margin != null) {\n            styles.margin = formatUnit(view.layout_margin);\n        }\n        if (view.layout_margin_top != null) {\n            styles['margin-top'] = formatUnit(view.layout_margin_top);\n        }\n        if (view.layout_margin_left != null) {\n            styles['margin-left'] = formatUnit(view.layout_margin_left);\n        }\n        if (view.layout_margin_right != null) {\n            styles['margin-right'] = formatUnit(view.layout_margin_right);\n        }\n        if (view.layout_margin_bottom != null) {\n            styles['margin-bottom'] = formatUnit(view.layout_margin_bottom);\n        }\n\n        if (view.padding != null) {\n            styles.padding = formatUnit(view.padding);\n        }\n        if (view.padding_top != null) {\n            styles['padding-top'] = formatUnit(view.padding_top);\n        }\n        if (view.padding_left != null) {\n            styles['padding-left'] = formatUnit(view.padding_left);\n        }\n        if (view.padding_right != null) {\n            styles['padding-right'] = formatUnit(view.padding_right);\n        }\n        if (view.padding_bottom != null) {\n            styles['padding-bottom'] = formatUnit(view.padding_bottom);\n        }\n\n        if (view.corner_radius != null) {\n            styles['border-radius'] = formatUnit(view.corner_radius);\n        }\n        if (view.corner_top_left_radius != null) {\n            styles['border-top-left-radius'] = formatUnit(\n                view.corner_top_left_radius\n            );\n        }\n        if (view.corner_top_right_radius != null) {\n            styles['border-top-right-radius'] = formatUnit(\n                view.corner_top_right_radius\n            );\n        }\n        if (view.corner_bottom_left_radius != null) {\n            styles['border-bottom-left-radius'] = formatUnit(\n                view.corner_bottom_left_radius\n            );\n        }\n        if (view.corner_bottom_right_radius != null) {\n            styles['border-bottom-right-radius'] = formatUnit(\n                view.corner_bottom_right_radius\n            );\n        }\n\n        // Clip children.\n        if (view.clip_children === false) {\n            styles['overflow'] = 'visible';\n        }\n\n        const shadow = getShadow(view);\n\n        if (shadow != null) {\n            styles[\n                'box-shadow'\n            ] = `${shadow.dx}px ${shadow.dy}px ${shadow.radius}px ${shadow.color}`;\n        }\n\n        const strokeStyles = ['solid', 'dotted', 'dashed'];\n\n        if (view.stroke_width != null) {\n            styles['border-width'] = formatUnit(view.stroke_width);\n        }\n        if (view.stroke_color != null) {\n            styles['border-color'] = view.stroke_color;\n        }\n        if (strokeStyles.indexOf(view.stroke_style) !== -1) {\n            styles['border-style'] = view.stroke_style;\n        }\n\n        if (view.stroke_top_width != null) {\n            styles['border-top-width'] = formatUnit(view.stroke_top_width);\n        }\n        if (view.stroke_top_color != null) {\n            styles['border-top-color'] = view.stroke_top_color;\n        }\n\n        if (view.stroke_left_width != null) {\n            styles['border-left-width'] = formatUnit(view.stroke_left_width);\n        }\n        if (view.stroke_left_color != null) {\n            styles['border-left-color'] = view.stroke_left_color;\n        }\n\n        if (view.stroke_right_width != null) {\n            styles['border-right-width'] = formatUnit(view.stroke_right_width);\n        }\n        if (view.stroke_right_color != null) {\n            styles['border-right-color'] = view.stroke_right_color;\n        }\n\n        if (view.stroke_bottom_width != null) {\n            styles['border-bottom-width'] = formatUnit(\n                view.stroke_bottom_width\n            );\n        }\n        if (view.stroke_bottom_color != null) {\n            styles['border-bottom-color'] = view.stroke_bottom_color;\n        }\n\n        if (typeof view.layout_flex_shrink === 'number') {\n            styles['flex-shrink'] = view.layout_flex_shrink;\n            styles['ms-flex-shrink'] = view.layout_flex_shrink;\n        }\n        if (typeof view.layout_flex_grow === 'number') {\n            styles['flex-grow'] = view.layout_flex_grow;\n            styles['ms-flex-grow'] = view.layout_flex_grow;\n        }\n        if (view.layout_flex_basis != null) {\n            styles['flex-basis'] = formatUnit(view.layout_flex_basis);\n            styles['ms-flex-basis'] = formatUnit(view.layout_flex_basis);\n        }\n\n        const transforms = getTransforms(view);\n\n        if (transforms.length > 0) {\n            styles.transform = transforms.join(' ');\n        }\n\n        // Transform origin.\n        if (\n            Array.isArray(view.transform_origin) &&\n            view.transform_origin.length === 2\n        ) {\n            styles['transform-origin'] = [\n                formatUnit(view.transform_origin[0]),\n                formatUnit(view.transform_origin[1])\n            ].join(' ');\n        }\n\n        return {\n            tagName,\n            contents,\n            classNames,\n            styles,\n            attrs\n        };\n    }\n\n    renderHtml() {\n        let html = '';\n        const iter = (view) => {\n            try {\n                const {\n                    tagName,\n                    contents,\n                    classNames,\n                    styles,\n                    attrs\n                } = this.renderView(view);\n\n                if (view.id != null && typeof view.meta === 'object') {\n                    this.ids[view.id] = view.meta;\n                }\n\n                if (view.role === 'section') {\n                    this.sections.push({\n                        id: view.id,\n                        meta: view.meta\n                    });\n                }\n\n                html += `<${tagName}`;\n                html += ` class=\"${classNames.join(' ')}\"`;\n\n                for (const key in attrs) {\n                    const value = attrs[key];\n\n                    html += ` ${key}=\"${value}\"`;\n                }\n\n                html += ' style=\"';\n\n                for (const key in styles) {\n                    const value = styles[key];\n\n                    html += `${key}:${value}; `;\n                }\n\n                html += '\"';\n\n                for (const key in attrs) {\n                    const value = attrs[key];\n\n                    html += ` ${key}=\"${value}\"`;\n                }\n\n                html += '>';\n\n                if (Array.isArray(view.child_views)) {\n                    view.child_views.forEach((childView) => {\n                        iter(childView);\n                    });\n                }\n\n                if (contents) {\n                    html += contents;\n                }\n\n                html += `</${tagName}>`;\n            } catch (error) {}\n        };\n\n        iter(this.incito.root_view);\n\n        return html;\n    }\n}\n"],"names":["formatUnit","unit","replace","escapeAttrValue","value","isDefinedStr","length","escapeHTML","unsafe","getShadow","view","shadow_color","dx","shadow_dx","dy","shadow_dy","radius","shadow_radius","color","getTransforms","transforms","translateX","transform_translate_x","translateY","transform_translate_y","push","transform_rotate","transform_scale","parseSpans","text","spans","result","start","span","i","startIndex","endIndex","end","getTextShadow","text_shadow_color","text_shadow_dx","text_shadow_dy","text_shadow_radius","loadFonts","fontAssets","styleEl","document","createElement","key","urls","src","url","join","appendChild","createTextNode","head","Incito","containerEl","incito","el","imageCount","preloadImageCount","ids","sections","shouldLazyload","window","font_assets","html","renderHtml","theme","dataset","readme","className","font_family","style","fontFamily","background_color","backgroundColor","text_color","line_spacing_multiplier","lineHeight","locale","setAttribute","innerHTML","addEventListener","e","link","target","getAttribute","open","lazyloader","IntersectionObserver","entries","entry","isIntersecting","loadEl","unobserve","rootMargin","querySelectorAll","lazyEl","observe","disconnect","removeChild","trigger","bg","backgroundImage","tagName","toLowerCase","sourceEl","load","contents","classNames","styles","attrs","view_name","textStyles","text_style","split","parsedText","item","escapedText","name","encodeURI","spanName","text_prevent_widow","text_size","text_decoration_line","textShadow","text_shadow","text_alignment","single_line","max_lines","display","text_all_caps","onerror","label","preload","playsinline","autoplay","loop","controls","mime","sandbox","allowfullscreen","flexAlignItemModes","flexJustifyModes","flexDirectionModes","layout_flex_align_items","layout_flex_justify_content","layout_flex_direction","id","role","accessibility_label","accessibility_hidden","feature_labels","featureLabels","featureLabel","test","title","gravity","layout_width","width","layout_height","height","min_width","max_width","min_height","max_height","layout_top","top","layout_left","left","layout_right","right","layout_bottom","bottom","background_image","background_tile_mode","background_image_position","background_image_scale_type","layout_margin","margin","layout_margin_top","layout_margin_left","layout_margin_right","layout_margin_bottom","padding","padding_top","padding_left","padding_right","padding_bottom","corner_radius","corner_top_left_radius","corner_top_right_radius","corner_bottom_left_radius","corner_bottom_right_radius","clip_children","shadow","strokeStyles","stroke_width","stroke_color","stroke_style","stroke_top_width","stroke_top_color","stroke_left_width","stroke_left_color","stroke_right_width","stroke_right_color","stroke_bottom_width","stroke_bottom_color","layout_flex_shrink","layout_flex_grow","layout_flex_basis","transform","transform_origin","iter","renderView","meta","child_views","childView","error","root_view","MicroEvent"],"mappings":"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"}