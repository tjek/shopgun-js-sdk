!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof rollupNeedsAnOptionToDisableAMDInUMD&&rollupNeedsAnOptionToDisableAMDInUMD.amd?rollupNeedsAnOptionToDisableAMDInUMD(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SGN=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},l=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},u={}.toString,f=function(t){return u.call(t).slice(8,-1)},h="".split,p=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,d=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return p(d(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,b=function(t,e){return m.call(t,e)},w=r.document,_=g(w)&&g(w.createElement),k=function(t){return _?w.createElement(t):{}},x=!o&&!i((function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})),S=Object.getOwnPropertyDescriptor,E={f:o?S:function(t,e){if(t=v(t),e=y(e,!0),x)try{return S(t,e)}catch(t){}if(b(t,e))return l(!c.f.call(t,e),t[e])}},T=/#|\.prototype\./,P=function(t,e){var n=O[A(t)];return n==L||n!=I&&("function"==typeof e?i(e):!!e)},A=P.normalize=function(t){return String(t).replace(T,".").toLowerCase()},O=P.data={},I=P.NATIVE="N",L=P.POLYFILL="P",C=P,j={},R=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},M=function(t,e,n){if(R(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},N=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},D=Object.defineProperty,z={f:o?D:function(t,e,n){if(N(t),e=y(e,!0),N(n),x)try{return D(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},U=o?function(t,e,n){return z.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t},F=E.f,B=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},q=function(t,e){var n,i,o,a,s,c,l,u,f=t.target,h=t.global,p=t.stat,d=t.proto,v=h?r:p?r[f]:(r[f]||{}).prototype,g=h?j:j[f]||(j[f]={}),y=g.prototype;for(o in e)n=!C(h?o:f+(p?".":"#")+o,t.forced)&&v&&b(v,o),s=g[o],n&&(c=t.noTargetGet?(u=F(v,o))&&u.value:v[o]),a=n&&c?c:e[o],n&&typeof s==typeof a||(l=t.bind&&n?M(a,r):t.wrap&&n?B(a):d&&"function"==typeof a?M(Function.call,a):a,(t.sham||a&&a.sham||s&&s.sham)&&U(l,"sham",!0),g[o]=l,d&&(b(j,i=f+"Prototype")||U(j,i,{}),j[i][o]=a,t.real&&y&&!y[o]&&U(y,o,a)))},V=[].slice,H={},W=function(t,e,n){if(!(e in H)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";H[e]=Function("C,a","return new C("+r.join(",")+")")}return H[e](t,n)},Y=Function.bind||function(t){var e=R(this),n=V.call(arguments,1),r=function(){var i=n.concat(V.call(arguments));return this instanceof r?W(e,i.length,i):e.apply(t,i)};return g(e.prototype)&&(r.prototype=e.prototype),r};q({target:"Function",proto:!0},{bind:Y});var X,G=function(t){return j[t+"Prototype"]},$=G("Function").bind,Z=Function.prototype,K=function(t){var e=t.bind;return t===Z||t instanceof Function&&e===Z.bind?$:e},J=function(t){return"function"==typeof t?t:void 0},Q=function(t,e){return arguments.length<2?J(j[t])||J(r[t]):j[t]&&j[t][e]||r[t]&&r[t][e]},tt=Math.ceil,et=Math.floor,nt=function(t){return isNaN(t=+t)?0:(t>0?et:tt)(t)},rt=Math.min,it=function(t){return t>0?rt(nt(t),9007199254740991):0},ot=Math.max,at=Math.min,st=function(t,e){var n=nt(t);return n<0?ot(n+e,0):at(n,e)},ct=function(t){return function(e,n,r){var i,o=v(e),a=it(o.length),s=st(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},lt={includes:ct(!0),indexOf:ct(!1)},ut={},ft=lt.indexOf,ht=function(t,e){var n,r=v(t),i=0,o=[];for(n in r)!b(ut,n)&&b(r,n)&&o.push(n);for(;e.length>i;)b(r,n=e[i++])&&(~ft(o,n)||o.push(n));return o},pt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dt=Object.keys||function(t){return ht(t,pt)},vt=o?Object.defineProperties:function(t,e){N(t);for(var n,r=dt(e),i=r.length,o=0;i>o;)z.f(t,n=r[o++],e[n]);return t},gt=Q("document","documentElement"),yt=!0,mt="__core-js_shared__",bt=r[mt]||function(t,e){try{U(r,t,e)}catch(n){r[t]=e}return e}(mt,{}),wt=e((function(t){(t.exports=function(t,e){return bt[t]||(bt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"pure",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),_t=0,kt=Math.random(),xt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++_t+kt).toString(36)},St=wt("keys"),Et=function(t){return St[t]||(St[t]=xt(t))},Tt=Et("IE_PROTO"),Pt=function(){},At=function(t){return"<script>"+t+"</"+"script>"},Ot=function(){try{X=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ot=X?function(t){t.write(At("")),t.close();var e=t.parentWindow.Object;return t=null,e}(X):((e=k("iframe")).style.display="none",gt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(At("document.F=Object")),t.close(),t.F);for(var n=pt.length;n--;)delete Ot.prototype[pt[n]];return Ot()};ut[Tt]=!0;var It=Object.create||function(t,e){var n;return null!==t?(Pt.prototype=N(t),n=new Pt,Pt.prototype=null,n[Tt]=t):n=Ot(),void 0===e?n:vt(n,e)},Lt=Q("Reflect","construct"),Ct=i((function(){function t(){}return!(Lt((function(){}),[],t)instanceof t)})),jt=!i((function(){Lt((function(){}))})),Rt=Ct||jt;q({target:"Reflect",stat:!0,forced:Rt,sham:Rt},{construct:function(t,e){R(t),N(e);var n=arguments.length<3?t:R(arguments[2]);if(jt&&!Ct)return Lt(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(Y.apply(t,r))}var i=n.prototype,o=It(g(i)?i:Object.prototype),a=Function.apply.call(t,o,e);return g(a)?a:o}});var Mt=j.Reflect.construct,Nt=function(t){return Object(d(t))},Dt=i((function(){dt(1)}));q({target:"Object",stat:!0,forced:Dt},{keys:function(t){return dt(Nt(t))}});var zt,Ut,Ft=j.Object.keys,Bt="process"==f(r.process),qt=Q("navigator","userAgent")||"",Vt=r.process,Ht=Vt&&Vt.versions,Wt=Ht&&Ht.v8;Wt?Ut=(zt=Wt.split("."))[0]+zt[1]:qt&&(!(zt=qt.match(/Edge\/(\d+)/))||zt[1]>=74)&&(zt=qt.match(/Chrome\/(\d+)/))&&(Ut=zt[1]);var Yt=Ut&&+Ut,Xt=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(Bt?38===Yt:Yt>37&&Yt<41)})),Gt=Xt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$t=Array.isArray||function(t){return"Array"==f(t)},Zt=pt.concat("length","prototype"),Kt={f:Object.getOwnPropertyNames||function(t){return ht(t,Zt)}},Jt=Kt.f,Qt={}.toString,te="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ee={f:function(t){return te&&"[object Window]"==Qt.call(t)?function(t){try{return Jt(t)}catch(t){return te.slice()}}(t):Jt(v(t))}},ne={f:Object.getOwnPropertySymbols},re=function(t,e,n,r){r&&r.enumerable?t[e]=n:U(t,e,n)},ie=wt("wks"),oe=r.Symbol,ae=Gt?oe:oe&&oe.withoutSetter||xt,se=function(t){return b(ie,t)&&(Xt||"string"==typeof ie[t])||(Xt&&b(oe,t)?ie[t]=oe[t]:ie[t]=ae("Symbol."+t)),ie[t]},ce={f:se},le=z.f,ue=function(t){var e=j.Symbol||(j.Symbol={});b(e,t)||le(e,t,{value:ce.f(t)})},fe={};fe[se("toStringTag")]="z";var he="[object z]"===String(fe),pe=se("toStringTag"),de="Arguments"==f(function(){return arguments}()),ve=he?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),pe))?n:de?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},ge=he?{}.toString:function(){return"[object "+ve(this)+"]"},ye=z.f,me=se("toStringTag"),be=function(t,e,n,r){if(t){var i=n?t:t.prototype;b(i,me)||ye(i,me,{configurable:!0,value:e}),r&&!he&&U(i,"toString",ge)}},we=Function.toString;"function"!=typeof bt.inspectSource&&(bt.inspectSource=function(t){return we.call(t)});var _e,ke,xe,Se=bt.inspectSource,Ee=r.WeakMap,Te="function"==typeof Ee&&/native code/.test(Se(Ee)),Pe=r.WeakMap;if(Te){var Ae=bt.state||(bt.state=new Pe),Oe=Ae.get,Ie=Ae.has,Le=Ae.set;_e=function(t,e){return e.facade=t,Le.call(Ae,t,e),e},ke=function(t){return Oe.call(Ae,t)||{}},xe=function(t){return Ie.call(Ae,t)}}else{var Ce=Et("state");ut[Ce]=!0,_e=function(t,e){return e.facade=t,U(t,Ce,e),e},ke=function(t){return b(t,Ce)?t[Ce]:{}},xe=function(t){return b(t,Ce)}}var je={set:_e,get:ke,has:xe,enforce:function(t){return xe(t)?ke(t):_e(t,{})},getterFor:function(t){return function(e){var n;if(!g(e)||(n=ke(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Re=se("species"),Me=function(t,e){var n;return $t(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!$t(n.prototype)?g(n)&&null===(n=n[Re])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Ne=[].push,De=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(c,l,u,f){for(var h,d,v=Nt(c),g=p(v),y=M(l,u,3),m=it(g.length),b=0,w=f||Me,_=e?w(c,m):n||a?w(c,0):void 0;m>b;b++)if((s||b in g)&&(d=y(h=g[b],b,v),t))if(e)_[b]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return b;case 2:Ne.call(_,h)}else switch(t){case 4:return!1;case 7:Ne.call(_,h)}return o?-1:r||i?i:_}},ze={forEach:De(0),map:De(1),filter:De(2),some:De(3),every:De(4),find:De(5),findIndex:De(6),filterOut:De(7)},Ue=ze.forEach,Fe=Et("hidden"),Be="Symbol",qe=se("toPrimitive"),Ve=je.set,He=je.getterFor(Be),We=Object.prototype,Ye=r.Symbol,Xe=Q("JSON","stringify"),Ge=E.f,$e=z.f,Ze=ee.f,Ke=c.f,Je=wt("symbols"),Qe=wt("op-symbols"),tn=wt("string-to-symbol-registry"),en=wt("symbol-to-string-registry"),nn=wt("wks"),rn=r.QObject,on=!rn||!rn.prototype||!rn.prototype.findChild,an=o&&i((function(){return 7!=It($e({},"a",{get:function(){return $e(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Ge(We,e);r&&delete We[e],$e(t,e,n),r&&t!==We&&$e(We,e,r)}:$e,sn=function(t,e){var n=Je[t]=It(Ye.prototype);return Ve(n,{type:Be,tag:t,description:e}),o||(n.description=e),n},cn=Gt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Ye},ln=function(t,e,n){t===We&&ln(Qe,e,n),N(t);var r=y(e,!0);return N(n),b(Je,r)?(n.enumerable?(b(t,Fe)&&t[Fe][r]&&(t[Fe][r]=!1),n=It(n,{enumerable:l(0,!1)})):(b(t,Fe)||$e(t,Fe,l(1,{})),t[Fe][r]=!0),an(t,r,n)):$e(t,r,n)},un=function(t,e){N(t);var n=v(e),r=dt(n).concat(dn(n));return Ue(r,(function(e){o&&!fn.call(n,e)||ln(t,e,n[e])})),t},fn=function(t){var e=y(t,!0),n=Ke.call(this,e);return!(this===We&&b(Je,e)&&!b(Qe,e))&&(!(n||!b(this,e)||!b(Je,e)||b(this,Fe)&&this[Fe][e])||n)},hn=function(t,e){var n=v(t),r=y(e,!0);if(n!==We||!b(Je,r)||b(Qe,r)){var i=Ge(n,r);return!i||!b(Je,r)||b(n,Fe)&&n[Fe][r]||(i.enumerable=!0),i}},pn=function(t){var e=Ze(v(t)),n=[];return Ue(e,(function(t){b(Je,t)||b(ut,t)||n.push(t)})),n},dn=function(t){var e=t===We,n=Ze(e?Qe:v(t)),r=[];return Ue(n,(function(t){!b(Je,t)||e&&!b(We,t)||r.push(Je[t])})),r};if(Xt||(re((Ye=function(){if(this instanceof Ye)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=xt(t),n=function(t){this===We&&n.call(Qe,t),b(this,Fe)&&b(this[Fe],e)&&(this[Fe][e]=!1),an(this,e,l(1,t))};return o&&on&&an(We,e,{configurable:!0,set:n}),sn(e,t)}).prototype,"toString",(function(){return He(this).tag})),re(Ye,"withoutSetter",(function(t){return sn(xt(t),t)})),c.f=fn,z.f=ln,E.f=hn,Kt.f=ee.f=pn,ne.f=dn,ce.f=function(t){return sn(se(t),t)},o&&$e(Ye.prototype,"description",{configurable:!0,get:function(){return He(this).description}})),q({global:!0,wrap:!0,forced:!Xt,sham:!Xt},{Symbol:Ye}),Ue(dt(nn),(function(t){ue(t)})),q({target:Be,stat:!0,forced:!Xt},{for:function(t){var e=String(t);if(b(tn,e))return tn[e];var n=Ye(e);return tn[e]=n,en[n]=e,n},keyFor:function(t){if(!cn(t))throw TypeError(t+" is not a symbol");if(b(en,t))return en[t]},useSetter:function(){on=!0},useSimple:function(){on=!1}}),q({target:"Object",stat:!0,forced:!Xt,sham:!o},{create:function(t,e){return void 0===e?It(t):un(It(t),e)},defineProperty:ln,defineProperties:un,getOwnPropertyDescriptor:hn}),q({target:"Object",stat:!0,forced:!Xt},{getOwnPropertyNames:pn,getOwnPropertySymbols:dn}),q({target:"Object",stat:!0,forced:i((function(){ne.f(1)}))},{getOwnPropertySymbols:function(t){return ne.f(Nt(t))}}),Xe){var vn=!Xt||i((function(){var t=Ye();return"[null]"!=Xe([t])||"{}"!=Xe({a:t})||"{}"!=Xe(Object(t))}));q({target:"JSON",stat:!0,forced:vn},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(g(e)||void 0!==t)&&!cn(t))return $t(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!cn(e))return e}),i[1]=e,Xe.apply(null,i)}})}Ye.prototype[qe]||U(Ye.prototype,qe,Ye.prototype.valueOf),be(Ye,Be),ut[Fe]=!0;var gn=j.Object.getOwnPropertySymbols,yn=se("species"),mn=function(t){return Yt>=51||!i((function(){var e=[];return(e.constructor={})[yn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},bn=ze.filter,wn=mn("filter");q({target:"Array",proto:!0,forced:!wn},{filter:function(t){return bn(this,t,arguments.length>1?arguments[1]:void 0)}});var _n=G("Array").filter,kn=Array.prototype,xn=function(t){var e=t.filter;return t===kn||t instanceof Array&&e===kn.filter?_n:e},Sn=E.f,En=i((function(){Sn(1)}));q({target:"Object",stat:!0,forced:!o||En,sham:!o},{getOwnPropertyDescriptor:function(t,e){return Sn(v(t),e)}});var Tn,Pn,An,On=e((function(t){var e=j.Object,n=t.exports=function(t,n){return e.getOwnPropertyDescriptor(t,n)};e.getOwnPropertyDescriptor.sham&&(n.sham=!0)})),In={},Ln=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Cn=Et("IE_PROTO"),jn=Object.prototype,Rn=Ln?Object.getPrototypeOf:function(t){return t=Nt(t),b(t,Cn)?t[Cn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?jn:null},Mn=se("iterator"),Nn=!1;[].keys&&("next"in(An=[].keys())?(Pn=Rn(Rn(An)))!==Object.prototype&&(Tn=Pn):Nn=!0);var Dn=null==Tn||i((function(){var t={};return Tn[Mn].call(t)!==t}));Dn&&(Tn={}),Dn&&!b(Tn,Mn)&&U(Tn,Mn,(function(){return this}));var zn={IteratorPrototype:Tn,BUGGY_SAFARI_ITERATORS:Nn},Un=zn.IteratorPrototype,Fn=function(){return this},Bn=function(t,e,n){var r=e+" Iterator";return t.prototype=It(Un,{next:l(1,n)}),be(t,r,!1,!0),In[r]=Fn,t},qn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return N(n),function(t){if(!g(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Vn=zn.IteratorPrototype,Hn=zn.BUGGY_SAFARI_ITERATORS,Wn=se("iterator"),Yn="keys",Xn="values",Gn="entries",$n=function(){return this},Zn=function(t,e,n,r,i,o,a){Bn(n,e,r);var s,c,l,u=function(t){if(t===i&&v)return v;if(!Hn&&t in p)return p[t];switch(t){case Yn:case Xn:case Gn:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,p=t.prototype,d=p[Wn]||p["@@iterator"]||i&&p[i],v=!Hn&&d||u(i),g="Array"==e&&p.entries||d;if(g&&(s=Rn(g.call(new t)),Vn!==Object.prototype&&s.next&&(be(s,f,!0,!0),In[f]=$n)),i==Xn&&d&&d.name!==Xn&&(h=!0,v=function(){return d.call(this)}),a&&p[Wn]!==v&&U(p,Wn,v),In[e]=v,i)if(c={values:u(Xn),keys:o?v:u(Yn),entries:u(Gn)},a)for(l in c)(Hn||h||!(l in p))&&re(p,l,c[l]);else q({target:e,proto:!0,forced:Hn||h},c);return c},Kn="Array Iterator",Jn=je.set,Qn=je.getterFor(Kn);Zn(Array,"Array",(function(t,e){Jn(this,{type:Kn,target:v(t),index:0,kind:e})}),(function(){var t=Qn(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");In.Arguments=In.Array;var tr=se("toStringTag");for(var er in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var nr=r[er],rr=nr&&nr.prototype;rr&&ve(rr)!==tr&&U(rr,tr,er),In[er]=In.Array}var ir=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))},or=ze.forEach,ar=ir("forEach")?[].forEach:function(t){return or(this,t,arguments.length>1?arguments[1]:void 0)};q({target:"Array",proto:!0,forced:[].forEach!=ar},{forEach:ar});var sr=G("Array").forEach,cr=Array.prototype,lr={DOMTokenList:!0,NodeList:!0},ur=function(t){var e=t.forEach;return t===cr||t instanceof Array&&e===cr.forEach||lr.hasOwnProperty(ve(t))?sr:e},fr=Q("Reflect","ownKeys")||function(t){var e=Kt.f(N(t)),n=ne.f;return n?e.concat(n(t)):e},hr=function(t,e,n){var r=y(e);r in t?z.f(t,r,l(0,n)):t[r]=n};q({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=v(t),i=E.f,o=fr(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&hr(a,e,n);return a}});var pr=j.Object.getOwnPropertyDescriptors;q({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:vt});var dr=e((function(t){var e=j.Object,n=t.exports=function(t,n){return e.defineProperties(t,n)};e.defineProperties.sham&&(n.sham=!0)}));q({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:z.f});var vr=e((function(t){var e=j.Object,n=t.exports=function(t,n,r){return e.defineProperty(t,n,r)};e.defineProperty.sham&&(n.sham=!0)})),gr=vr;function yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mr=vr;function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),mr(t,r.key,r)}}function wr(t,e,n){return e&&br(t.prototype,e),n&&br(t,n),t}function _r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}q({target:"Object",stat:!0,sham:!o},{create:It});var kr=j.Object,xr=function(t,e){return kr.create(t,e)},Sr=xr;q({target:"Object",stat:!0},{setPrototypeOf:qn});var Er=j.Object.setPrototypeOf;function Tr(t,e){return(Tr=Er||function(t,e){return t.__proto__=e,t})(t,e)}function Pr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Sr(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}var Ar=se("isConcatSpreadable"),Or=9007199254740991,Ir="Maximum allowed index exceeded",Lr=Yt>=51||!i((function(){var t=[];return t[Ar]=!1,t.concat()[0]!==t})),Cr=mn("concat"),jr=function(t){if(!g(t))return!1;var e=t[Ar];return void 0!==e?!!e:$t(t)};q({target:"Array",proto:!0,forced:!Lr||!Cr},{concat:function(t){var e,n,r,i,o,a=Nt(this),s=Me(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(jr(o=-1===e?a:arguments[e])){if(c+(i=it(o.length))>Or)throw TypeError(Ir);for(n=0;n<i;n++,c++)n in o&&hr(s,c,o[n])}else{if(c>=Or)throw TypeError(Ir);hr(s,c++,o)}return s.length=c,s}});ue("asyncIterator");ue("hasInstance"),ue("isConcatSpreadable"),ue("iterator"),ue("match"),ue("matchAll"),ue("replace"),ue("search"),ue("species"),ue("split"),ue("toPrimitive"),ue("toStringTag"),ue("unscopables"),be(r.JSON,"JSON",!0);var Rr=j.Symbol;ue("asyncDispose"),ue("dispose"),ue("observable"),ue("patternMatch"),ue("replaceAll");var Mr=Rr,Nr=function(t){return function(e,n){var r,i,o=String(d(e)),a=nt(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Dr={codeAt:Nr(!1),charAt:Nr(!0)},zr=Dr.charAt,Ur="String Iterator",Fr=je.set,Br=je.getterFor(Ur);Zn(String,"String",(function(t){Fr(this,{type:Ur,string:String(t),index:0})}),(function(){var t,e=Br(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=zr(n,r),e.index+=t.length,{value:t,done:!1})}));var qr=ce.f("iterator");function Vr(t){return(Vr="function"==typeof Mr&&"symbol"==typeof qr?function(t){return typeof t}:function(t){return t&&"function"==typeof Mr&&t.constructor===Mr&&t!==Mr.prototype?"symbol":typeof t})(t)}function Hr(t,e){return!e||"object"!==Vr(e)&&"function"!=typeof e?_r(t):e}var Wr=i((function(){Rn(1)}));q({target:"Object",stat:!0,forced:Wr,sham:!Ln},{getPrototypeOf:function(t){return Rn(Nt(t))}});var Yr=j.Object.getPrototypeOf;function Xr(t){return(Xr=Er?Yr:function(t){return t.__proto__||Yr(t)})(t)}function Gr(t,e,n){return e in t?mr(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $r,Zr,Kr=function(t){return t&&t.Math==Math&&t},Jr=Kr("object"==typeof globalThis&&globalThis)||Kr("object"==typeof window&&window)||Kr("object"==typeof self&&self)||Kr("object"==typeof t&&t)||function(){return this}()||Function("return this")(),Qr=function(t){try{return!!t()}catch(t){return!0}},ti=!Qr((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ei=function(t){return"object"==typeof t?null!==t:"function"==typeof t},ni=Jr.document,ri=ei(ni)&&ei(ni.createElement),ii=function(t){return ri?ni.createElement(t):{}},oi=!ti&&!Qr((function(){return 7!=Object.defineProperty(ii("div"),"a",{get:function(){return 7}}).a})),ai=function(t){if(!ei(t))throw TypeError(String(t)+" is not an object");return t},si=function(t,e){if(!ei(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!ei(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!ei(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!ei(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},ci=Object.defineProperty,li={f:ti?ci:function(t,e,n){if(ai(t),e=si(e,!0),ai(n),oi)try{return ci(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},ui=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},fi=ti?function(t,e,n){return li.f(t,e,ui(1,n))}:function(t,e,n){return t[e]=n,t},hi=function(t,e){try{fi(Jr,t,e)}catch(n){Jr[t]=e}return e},pi="__core-js_shared__",di=Jr[pi]||hi(pi,{}),vi=e((function(t){(t.exports=function(t,e){return di[t]||(di[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),gi={}.hasOwnProperty,yi=function(t,e){return gi.call(t,e)},mi=0,bi=Math.random(),wi=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++mi+bi).toString(36)},_i={}.toString,ki=function(t){return _i.call(t).slice(8,-1)},xi="process"==ki(Jr.process),Si=Jr,Ei=function(t){return"function"==typeof t?t:void 0},Ti=function(t,e){return arguments.length<2?Ei(Si[t])||Ei(Jr[t]):Si[t]&&Si[t][e]||Jr[t]&&Jr[t][e]},Pi=Ti("navigator","userAgent")||"",Ai=Jr.process,Oi=Ai&&Ai.versions,Ii=Oi&&Oi.v8;Ii?Zr=($r=Ii.split("."))[0]+$r[1]:Pi&&(!($r=Pi.match(/Edge\/(\d+)/))||$r[1]>=74)&&($r=Pi.match(/Chrome\/(\d+)/))&&(Zr=$r[1]);var Li=Zr&&+Zr,Ci=!!Object.getOwnPropertySymbols&&!Qr((function(){return!Symbol.sham&&(xi?38===Li:Li>37&&Li<41)})),ji=Ci&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ri=vi("wks"),Mi=Jr.Symbol,Ni=ji?Mi:Mi&&Mi.withoutSetter||wi,Di=function(t){return yi(Ri,t)&&(Ci||"string"==typeof Ri[t])||(Ci&&yi(Mi,t)?Ri[t]=Mi[t]:Ri[t]=Ni("Symbol."+t)),Ri[t]},zi={};zi[Di("toStringTag")]="z";var Ui="[object z]"===String(zi),Fi=Function.toString;"function"!=typeof di.inspectSource&&(di.inspectSource=function(t){return Fi.call(t)});var Bi,qi,Vi,Hi=di.inspectSource,Wi=Jr.WeakMap,Yi="function"==typeof Wi&&/native code/.test(Hi(Wi)),Xi=vi("keys"),Gi=function(t){return Xi[t]||(Xi[t]=wi(t))},$i={},Zi=Jr.WeakMap;if(Yi){var Ki=di.state||(di.state=new Zi),Ji=Ki.get,Qi=Ki.has,to=Ki.set;Bi=function(t,e){return e.facade=t,to.call(Ki,t,e),e},qi=function(t){return Ji.call(Ki,t)||{}},Vi=function(t){return Qi.call(Ki,t)}}else{var eo=Gi("state");$i[eo]=!0,Bi=function(t,e){return e.facade=t,fi(t,eo,e),e},qi=function(t){return yi(t,eo)?t[eo]:{}},Vi=function(t){return yi(t,eo)}}var no={set:Bi,get:qi,has:Vi,enforce:function(t){return Vi(t)?qi(t):Bi(t,{})},getterFor:function(t){return function(e){var n;if(!ei(e)||(n=qi(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},ro=e((function(t){var e=no.get,n=no.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a,s=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||yi(i,"name")||fi(i,"name",e),(a=n(i)).source||(a.source=r.join("string"==typeof e?e:""))),t!==Jr?(s?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:fi(t,e,i)):c?t[e]=i:hi(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Hi(this)}))})),io=Di("toStringTag"),oo="Arguments"==ki(function(){return arguments}()),ao=Ui?ki:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),io))?n:oo?ki(e):"Object"==(r=ki(e))&&"function"==typeof e.callee?"Arguments":r},so=Ui?{}.toString:function(){return"[object "+ao(this)+"]"};Ui||ro(Object.prototype,"toString",so,{unsafe:!0});var co,lo="".split,uo=Qr((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==ki(t)?lo.call(t,""):Object(t)}:Object,fo=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},ho=function(t){return uo(fo(t))},po=Math.ceil,vo=Math.floor,go=function(t){return isNaN(t=+t)?0:(t>0?vo:po)(t)},yo=Math.min,mo=function(t){return t>0?yo(go(t),9007199254740991):0},bo=Math.max,wo=Math.min,_o=function(t){return function(e,n,r){var i,o=ho(e),a=mo(o.length),s=function(t,e){var n=go(t);return n<0?bo(n+e,0):wo(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ko={includes:_o(!0),indexOf:_o(!1)}.indexOf,xo=function(t,e){var n,r=ho(t),i=0,o=[];for(n in r)!yi($i,n)&&yi(r,n)&&o.push(n);for(;e.length>i;)yi(r,n=e[i++])&&(~ko(o,n)||o.push(n));return o},So=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Eo=Object.keys||function(t){return xo(t,So)},To=ti?Object.defineProperties:function(t,e){ai(t);for(var n,r=Eo(e),i=r.length,o=0;i>o;)li.f(t,n=r[o++],e[n]);return t},Po=Ti("document","documentElement"),Ao=Gi("IE_PROTO"),Oo=function(){},Io=function(t){return"<script>"+t+"</"+"script>"},Lo=function(){try{co=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Lo=co?function(t){t.write(Io("")),t.close();var e=t.parentWindow.Object;return t=null,e}(co):((e=ii("iframe")).style.display="none",Po.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Io("document.F=Object")),t.close(),t.F);for(var n=So.length;n--;)delete Lo.prototype[So[n]];return Lo()};$i[Ao]=!0;var Co=Object.create||function(t,e){var n;return null!==t?(Oo.prototype=ai(t),n=new Oo,Oo.prototype=null,n[Ao]=t):n=Lo(),void 0===e?n:To(n,e)},jo=Di("unscopables"),Ro=Array.prototype;null==Ro[jo]&&li.f(Ro,jo,{configurable:!0,value:Co(null)});var Mo,No,Do,zo=function(t){Ro[jo][t]=!0},Uo={},Fo={}.propertyIsEnumerable,Bo=Object.getOwnPropertyDescriptor,qo={f:Bo&&!Fo.call({1:2},1)?function(t){var e=Bo(this,t);return!!e&&e.enumerable}:Fo},Vo=Object.getOwnPropertyDescriptor,Ho={f:ti?Vo:function(t,e){if(t=ho(t),e=si(e,!0),oi)try{return Vo(t,e)}catch(t){}if(yi(t,e))return ui(!qo.f.call(t,e),t[e])}},Wo=So.concat("length","prototype"),Yo={f:Object.getOwnPropertyNames||function(t){return xo(t,Wo)}},Xo={f:Object.getOwnPropertySymbols},Go=Ti("Reflect","ownKeys")||function(t){var e=Yo.f(ai(t)),n=Xo.f;return n?e.concat(n(t)):e},$o=function(t,e){for(var n=Go(e),r=li.f,i=Ho.f,o=0;o<n.length;o++){var a=n[o];yi(t,a)||r(t,a,i(e,a))}},Zo=/#|\.prototype\./,Ko=function(t,e){var n=Qo[Jo(t)];return n==ea||n!=ta&&("function"==typeof e?Qr(e):!!e)},Jo=Ko.normalize=function(t){return String(t).replace(Zo,".").toLowerCase()},Qo=Ko.data={},ta=Ko.NATIVE="N",ea=Ko.POLYFILL="P",na=Ko,ra=Ho.f,ia=function(t,e){var n,r,i,o,a,s=t.target,c=t.global,l=t.stat;if(n=c?Jr:l?Jr[s]||hi(s,{}):(Jr[s]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(a=ra(n,r))&&a.value:n[r],!na(c?r:s+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;$o(o,i)}(t.sham||i&&i.sham)&&fi(o,"sham",!0),ro(n,r,o,t)}},oa=function(t){return Object(fo(t))},aa=!Qr((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),sa=Gi("IE_PROTO"),ca=Object.prototype,la=aa?Object.getPrototypeOf:function(t){return t=oa(t),yi(t,sa)?t[sa]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ca:null},ua=Di("iterator"),fa=!1;[].keys&&("next"in(Do=[].keys())?(No=la(la(Do)))!==Object.prototype&&(Mo=No):fa=!0);var ha=null==Mo||Qr((function(){var t={};return Mo[ua].call(t)!==t}));ha&&(Mo={}),yi(Mo,ua)||fi(Mo,ua,(function(){return this}));var pa={IteratorPrototype:Mo,BUGGY_SAFARI_ITERATORS:fa},da=li.f,va=Di("toStringTag"),ga=function(t,e,n){t&&!yi(t=n?t:t.prototype,va)&&da(t,va,{configurable:!0,value:e})},ya=pa.IteratorPrototype,ma=function(){return this},ba=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return ai(n),function(t){if(!ei(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),wa=pa.IteratorPrototype,_a=pa.BUGGY_SAFARI_ITERATORS,ka=Di("iterator"),xa="keys",Sa="values",Ea="entries",Ta=function(){return this},Pa=function(t,e,n,r,i,o,a){!function(t,e,n){var r=e+" Iterator";t.prototype=Co(ya,{next:ui(1,n)}),ga(t,r,!1),Uo[r]=ma}(n,e,r);var s,c,l,u=function(t){if(t===i&&v)return v;if(!_a&&t in p)return p[t];switch(t){case xa:case Sa:case Ea:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,p=t.prototype,d=p[ka]||p["@@iterator"]||i&&p[i],v=!_a&&d||u(i),g="Array"==e&&p.entries||d;if(g&&(s=la(g.call(new t)),wa!==Object.prototype&&s.next&&(la(s)!==wa&&(ba?ba(s,wa):"function"!=typeof s[ka]&&fi(s,ka,Ta)),ga(s,f,!0))),i==Sa&&d&&d.name!==Sa&&(h=!0,v=function(){return d.call(this)}),p[ka]!==v&&fi(p,ka,v),Uo[e]=v,i)if(c={values:u(Sa),keys:o?v:u(xa),entries:u(Ea)},a)for(l in c)(_a||h||!(l in p))&&ro(p,l,c[l]);else ia({target:e,proto:!0,forced:_a||h},c);return c},Aa="Array Iterator",Oa=no.set,Ia=no.getterFor(Aa),La=Pa(Array,"Array",(function(t,e){Oa(this,{type:Aa,target:ho(t),index:0,kind:e})}),(function(){var t=Ia(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");Uo.Arguments=Uo.Array,zo("keys"),zo("values"),zo("entries");var Ca={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ja=Di("iterator"),Ra=Di("toStringTag"),Ma=La.values;for(var Na in Ca){var Da=Jr[Na],za=Da&&Da.prototype;if(za){if(za[ja]!==Ma)try{fi(za,ja,Ma)}catch(tp){za[ja]=Ma}if(za[Ra]||fi(za,Ra,Na),Ca[Na])for(var Ua in La)if(za[Ua]!==La[Ua])try{fi(za,Ua,La[Ua])}catch(tp){za[Ua]=La[Ua]}}}var Fa=G("Array").concat,Ba=Array.prototype,qa=function(t){var e=t.concat;return t===Ba||t instanceof Array&&e===Ba.concat?Fa:e},Va=lt.includes;q({target:"Array",proto:!0},{includes:function(t){return Va(this,t,arguments.length>1?arguments[1]:void 0)}});var Ha=G("Array").includes,Wa=se("match"),Ya=function(t){if(function(t){var e;return g(t)&&(void 0!==(e=t[Wa])?!!e:"RegExp"==f(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},Xa=se("match");q({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Xa]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(d(this)).indexOf(Ya(t),arguments.length>1?arguments[1]:void 0)}});var Ga=G("String").includes,$a=Array.prototype,Za=String.prototype,Ka=function(t){var e=t.includes;return t===$a||t instanceof Array&&e===$a.includes?Ha:"string"==typeof t||t===Za||t instanceof String&&e===Za.includes?Ga:e},Ja=G("Array").keys,Qa=Array.prototype,ts={DOMTokenList:!0,NodeList:!0},es=function(t){var e=t.keys;return t===Qa||t instanceof Array&&e===Qa.keys||ts.hasOwnProperty(ve(t))?Ja:e},ns=e((function(t){var e=function(){};e.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(t){for(var n=["bind","unbind","trigger"],r=0;r<n.length;r++)t.prototype[n[r]]=e.prototype[n[r]]},"exports"in t&&(t.exports=e)})),rs="https://wolf-api.tjek.com/sync",is=Object.freeze({__proto__:null,coreUrl:"https://squid-api.tjek.com",eventsTrackUrl:rs});function os(t,e){var n=Ft(t);if(gn){var r=gn(t);e&&(r=xn(r).call(r,(function(e){return On(t,e).enumerable}))),n.push.apply(n,r)}return n}function as(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)ur(n=os(Object(r),!0)).call(n,(function(e){Gr(t,e,r[e])}));else if(pr)dr(t,pr(r));else{var i;ur(i=os(Object(r))).call(i,(function(e){gr(t,e,On(r,e))}))}}return t}function ss(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var cs=function(t){Pr(n,t);var e=ss(n);function n(){var t,r;yr(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return Gr(_r(r=e.call.apply(e,qa(t=[this]).call(t,o))),"attrs",as({},is)),r}return wr(n,[{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};for(var n in t){var r,i=t[n];Ka(r=es(this)).call(r,n)&&(this.attrs[n]=i,e[n]=i)}this.trigger("change",e)}},{key:"get",value:function(t){return this.attrs[t]}}]),n}(ns);cs.prototype.keys=["appVersion","appKey","authToken","eventTracker","coreUrl","eventsTrackUrl"];var ls=function(){var t=ai(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function us(t,e){return RegExp(t,e)}var fs={UNSUPPORTED_Y:Qr((function(){var t=us("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:Qr((function(){var t=us("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},hs=RegExp.prototype.exec,ps=String.prototype.replace,ds=hs,vs=function(){var t=/a/,e=/b*/g;return hs.call(t,"a"),hs.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),gs=fs.UNSUPPORTED_Y||fs.BROKEN_CARET,ys=void 0!==/()??/.exec("")[1];(vs||ys||gs)&&(ds=function(t){var e,n,r,i,o=this,a=gs&&o.sticky,s=ls.call(o),c=o.source,l=0,u=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",u=" "+u,l++),n=new RegExp("^(?:"+c+")",s)),ys&&(n=new RegExp("^"+c+"$(?!\\s)",s)),vs&&(e=o.lastIndex),r=hs.call(a?n:o,u),a?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:vs&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),ys&&r&&r.length>1&&ps.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var ms=ds;ia({target:"RegExp",proto:!0,forced:/./.exec!==ms},{exec:ms});var bs=Di("species"),ws=!Qr((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),_s="$0"==="a".replace(/./,"$0"),ks=Di("replace"),xs=!!/./[ks]&&""===/./[ks]("a","$0"),Ss=!Qr((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Es=function(t,e,n,r){var i=Di(t),o=!Qr((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!Qr((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[bs]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!a||"replace"===t&&(!ws||!_s||xs)||"split"===t&&!Ss){var s=/./[i],c=n(i,""[t],(function(t,e,n,r,i){return e.exec===ms?o&&!i?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:_s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:xs}),l=c[0],u=c[1];ro(String.prototype,t,l),ro(RegExp.prototype,i,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}r&&fi(RegExp.prototype[i],"sham",!0)},Ts=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Ps=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==ki(t))throw TypeError("RegExp#exec called on incompatible receiver");return ms.call(t,e)};Es("search",1,(function(t,e,n){return[function(e){var n=fo(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=ai(t),o=String(this),a=i.lastIndex;Ts(a,0)||(i.lastIndex=0);var s=Ps(i,o);return Ts(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var As="toString",Os=RegExp.prototype,Is=Os.toString,Ls=Qr((function(){return"/a/b"!=Is.call({source:"a",flags:"b"})})),Cs=Is.name!=As;(Ls||Cs)&&ro(RegExp.prototype,As,(function(){var t=ai(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in Os)?ls.call(t):n)}),{unsafe:!0});var js=se("iterator"),Rs=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[js]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Ms=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Ns=Object.assign,Ds=Object.defineProperty,zs=!Ns||i((function(){if(o&&1!==Ns({b:1},Ns(Ds({},"a",{enumerable:!0,get:function(){Ds(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Ns({},t)[n]||dt(Ns({},e)).join("")!=r}))?function(t,e){for(var n=Nt(t),r=arguments.length,i=1,a=ne.f,s=c.f;r>i;)for(var l,u=p(arguments[i++]),f=a?dt(u).concat(a(u)):dt(u),h=f.length,d=0;h>d;)l=f[d++],o&&!s.call(u,l)||(n[l]=u[l]);return n}:Ns,Us=function(t){var e=t.return;if(void 0!==e)return N(e.call(t)).value},Fs=function(t,e,n,r){try{return r?e(N(n)[0],n[1]):e(n)}catch(e){throw Us(t),e}},Bs=se("iterator"),qs=Array.prototype,Vs=function(t){return void 0!==t&&(In.Array===t||qs[Bs]===t)},Hs=se("iterator"),Ws=function(t){if(null!=t)return t[Hs]||t["@@iterator"]||In[ve(t)]},Ys=function(t){var e,n,r,i,o,a,s=Nt(t),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,f=void 0!==u,h=Ws(s),p=0;if(f&&(u=M(u,l>2?arguments[2]:void 0,2)),null==h||c==Array&&Vs(h))for(n=new c(e=it(s.length));e>p;p++)a=f?u(s[p],p):s[p],hr(n,p,a);else for(o=(i=h.call(s)).next,n=new c;!(r=o.call(i)).done;p++)a=f?Fs(i,u,[r.value,p],!0):r.value,hr(n,p,a);return n.length=p,n},Xs=2147483647,Gs=/[^\0-\u007E]/,$s=/[.\u3002\uFF0E\uFF61]/g,Zs="Overflow: input needs wider integers to process",Ks=Math.floor,Js=String.fromCharCode,Qs=function(t){return t+22+75*(t<26)},tc=function(t,e,n){var r=0;for(t=n?Ks(t/700):t>>1,t+=Ks(t/e);t>455;r+=36)t=Ks(t/35);return Ks(r+36*t/(t+38))},ec=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,o=128,a=0,s=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(Js(n));var c=r.length,l=c;for(c&&r.push("-");l<i;){var u=Xs;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<u&&(u=n);var f=l+1;if(u-o>Ks((Xs-a)/f))throw RangeError(Zs);for(a+=(u-o)*f,o=u,e=0;e<t.length;e++){if((n=t[e])<o&&++a>Xs)throw RangeError(Zs);if(n==o){for(var h=a,p=36;;p+=36){var d=p<=s?1:p>=s+26?26:p-s;if(h<d)break;var v=h-d,g=36-d;r.push(Js(Qs(d+v%g))),h=Ks(v/g)}r.push(Js(Qs(h))),s=tc(a,f,l==c),a=0,++l}}++a,++o}return r.join("")},nc=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:re(t,r,e[r],n);return t},rc=function(t){var e=Ws(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return N(e.call(t))},ic=Q("fetch"),oc=Q("Headers"),ac=se("iterator"),sc="URLSearchParams",cc="URLSearchParamsIterator",lc=je.set,uc=je.getterFor(sc),fc=je.getterFor(cc),hc=/\+/g,pc=Array(4),dc=function(t){return pc[t-1]||(pc[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},vc=function(t){try{return decodeURIComponent(t)}catch(e){return t}},gc=function(t){var e=t.replace(hc," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(dc(n--),vc);return e}},yc=/[!'()~]|%20/g,mc={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},bc=function(t){return mc[t]},wc=function(t){return encodeURIComponent(t).replace(yc,bc)},_c=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:gc(r.shift()),value:gc(r.join("="))}))},kc=function(t){this.entries.length=0,_c(this.entries,t)},xc=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Sc=Bn((function(t,e){lc(this,{type:cc,iterator:rc(uc(t).entries),kind:e})}),"Iterator",(function(){var t=fc(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),Ec=function(){Ms(this,Ec,sc);var t,e,n,r,i,o,a,s,c,l=arguments.length>0?arguments[0]:void 0,u=this,f=[];if(lc(u,{type:sc,entries:f,updateURL:function(){},updateSearchParams:kc}),void 0!==l)if(g(l))if("function"==typeof(t=Ws(l)))for(n=(e=t.call(l)).next;!(r=n.call(e)).done;){if((a=(o=(i=rc(N(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(c in l)b(l,c)&&f.push({key:c,value:l[c]+""});else _c(f,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},Tc=Ec.prototype;nc(Tc,{append:function(t,e){xc(arguments.length,2);var n=uc(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){xc(arguments.length,1);for(var e=uc(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){xc(arguments.length,1);for(var e=uc(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){xc(arguments.length,1);for(var e=uc(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){xc(arguments.length,1);for(var e=uc(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){xc(arguments.length,1);for(var n,r=uc(this),i=r.entries,o=!1,a=t+"",s=e+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=uc(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=uc(this).entries,r=M(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new Sc(this,"keys")},values:function(){return new Sc(this,"values")},entries:function(){return new Sc(this,"entries")}},{enumerable:!0}),re(Tc,ac,Tc.entries),re(Tc,"toString",(function(){for(var t,e=uc(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(wc(t.key)+"="+wc(t.value));return n.join("&")}),{enumerable:!0}),be(Ec,sc),q({global:!0,forced:!Rs},{URLSearchParams:Ec}),Rs||"function"!=typeof ic||"function"!=typeof oc||q({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(g(e=arguments[1])&&(n=e.body,ve(n)===sc&&((r=e.headers?new oc(e.headers):new oc).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=It(e,{body:l(0,String(n)),headers:l(0,r)}))),i.push(e)),ic.apply(this,i)}});var Pc,Ac={URLSearchParams:Ec,getState:uc},Oc=Dr.codeAt,Ic=r.URL,Lc=Ac.URLSearchParams,Cc=Ac.getState,jc=je.set,Rc=je.getterFor("URL"),Mc=Math.floor,Nc=Math.pow,Dc="Invalid scheme",zc="Invalid host",Uc="Invalid port",Fc=/[A-Za-z]/,Bc=/[\d+-.A-Za-z]/,qc=/\d/,Vc=/^(0x|0X)/,Hc=/^[0-7]+$/,Wc=/^\d+$/,Yc=/^[\dA-Fa-f]+$/,Xc=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,Gc=/[\u0000\t\u000A\u000D #/:?@[\\]]/,$c=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Zc=/[\t\u000A\u000D]/g,Kc=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return zc;if(!(n=Qc(e.slice(1,-1))))return zc;t.host=n}else if(sl(t)){if(e=function(t){var e,n,r=[],i=t.toLowerCase().replace($s,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(Gs.test(n)?"xn--"+ec(n):n);return r.join(".")}(e),Xc.test(e))return zc;if(null===(n=Jc(e)))return zc;t.host=n}else{if(Gc.test(e))return zc;for(n="",r=Ys(e),i=0;i<r.length;i++)n+=ol(r[i],el);t.host=n}},Jc=function(t){var e,n,r,i,o,a,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=c[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=Vc.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?Wc:8==o?Hc:Yc).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=Nc(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*Nc(256,3-r);return s},Qc=function(t){var e,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,f=0,h=function(){return t.charAt(f)};if(":"==h()){if(":"!=t.charAt(1))return;f+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(e=n=0;n<4&&Yc.test(h());)e=16*e+parseInt(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;f++}if(!qc.test(h()))return;for(;qc.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}c[l]=256*c[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[l++]=e}else{if(null!==u)return;f++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c},tl=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=Mc(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},el={},nl=zs({},el,{" ":1,'"':1,"<":1,">":1,"`":1}),rl=zs({},nl,{"#":1,"?":1,"{":1,"}":1}),il=zs({},rl,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ol=function(t,e){var n=Oc(t,0);return n>32&&n<127&&!b(e,t)?t:encodeURIComponent(t)},al={ftp:21,file:null,http:80,https:443,ws:80,wss:443},sl=function(t){return b(al,t.scheme)},cl=function(t){return""!=t.username||""!=t.password},ll=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},ul=function(t,e){var n;return 2==t.length&&Fc.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},fl=function(t){var e;return t.length>1&&ul(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},hl=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&ul(e[0],!0)||e.pop()},pl=function(t){return"."===t||"%2e"===t.toLowerCase()},dl={},vl={},gl={},yl={},ml={},bl={},wl={},_l={},kl={},xl={},Sl={},El={},Tl={},Pl={},Al={},Ol={},Il={},Ll={},Cl={},jl={},Rl={},Ml=function(t,e,n,r){var i,o,a,s,c,l=n||dl,u=0,f="",h=!1,p=!1,d=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace($c,"")),e=e.replace(Zc,""),i=Ys(e);u<=i.length;){switch(o=i[u],l){case dl:if(!o||!Fc.test(o)){if(n)return Dc;l=gl;continue}f+=o.toLowerCase(),l=vl;break;case vl:if(o&&(Bc.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return Dc;f="",l=gl,u=0;continue}if(n&&(sl(t)!=b(al,f)||"file"==f&&(cl(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=f,n)return void(sl(t)&&al[t.scheme]==t.port&&(t.port=null));f="","file"==t.scheme?l=Pl:sl(t)&&r&&r.scheme==t.scheme?l=yl:sl(t)?l=_l:"/"==i[u+1]?(l=ml,u++):(t.cannotBeABaseURL=!0,t.path.push(""),l=Cl)}break;case gl:if(!r||r.cannotBeABaseURL&&"#"!=o)return Dc;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,l=Rl;break}l="file"==r.scheme?Pl:bl;continue;case yl:if("/"!=o||"/"!=i[u+1]){l=bl;continue}l=kl,u++;break;case ml:if("/"==o){l=xl;break}l=Ll;continue;case bl:if(t.scheme=r.scheme,o==Pc)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&sl(t))l=wl;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",l=jl;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),l=Ll;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=Rl}break;case wl:if(!sl(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,l=Ll;continue}l=xl}else l=kl;break;case _l:if(l=kl,"/"!=o||"/"!=f.charAt(u+1))continue;u++;break;case kl:if("/"!=o&&"\\"!=o){l=xl;continue}break;case xl:if("@"==o){h&&(f="%40"+f),h=!0,a=Ys(f);for(var v=0;v<a.length;v++){var g=a[v];if(":"!=g||d){var y=ol(g,il);d?t.password+=y:t.username+=y}else d=!0}f=""}else if(o==Pc||"/"==o||"?"==o||"#"==o||"\\"==o&&sl(t)){if(h&&""==f)return"Invalid authority";u-=Ys(f).length+1,f="",l=Sl}else f+=o;break;case Sl:case El:if(n&&"file"==t.scheme){l=Ol;continue}if(":"!=o||p){if(o==Pc||"/"==o||"?"==o||"#"==o||"\\"==o&&sl(t)){if(sl(t)&&""==f)return zc;if(n&&""==f&&(cl(t)||null!==t.port))return;if(s=Kc(t,f))return s;if(f="",l=Il,n)return;continue}"["==o?p=!0:"]"==o&&(p=!1),f+=o}else{if(""==f)return zc;if(s=Kc(t,f))return s;if(f="",l=Tl,n==El)return}break;case Tl:if(!qc.test(o)){if(o==Pc||"/"==o||"?"==o||"#"==o||"\\"==o&&sl(t)||n){if(""!=f){var m=parseInt(f,10);if(m>65535)return Uc;t.port=sl(t)&&m===al[t.scheme]?null:m,f=""}if(n)return;l=Il;continue}return Uc}f+=o;break;case Pl:if(t.scheme="file","/"==o||"\\"==o)l=Al;else{if(!r||"file"!=r.scheme){l=Ll;continue}if(o==Pc)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",l=jl;else{if("#"!=o){fl(i.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),hl(t)),l=Ll;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=Rl}}break;case Al:if("/"==o||"\\"==o){l=Ol;break}r&&"file"==r.scheme&&!fl(i.slice(u).join(""))&&(ul(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),l=Ll;continue;case Ol:if(o==Pc||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&ul(f))l=Ll;else if(""==f){if(t.host="",n)return;l=Il}else{if(s=Kc(t,f))return s;if("localhost"==t.host&&(t.host=""),n)return;f="",l=Il}continue}f+=o;break;case Il:if(sl(t)){if(l=Ll,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Pc&&(l=Ll,"/"!=o))continue}else t.fragment="",l=Rl;else t.query="",l=jl;break;case Ll:if(o==Pc||"/"==o||"\\"==o&&sl(t)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(hl(t),"/"==o||"\\"==o&&sl(t)||t.path.push("")):pl(f)?"/"==o||"\\"==o&&sl(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&ul(f)&&(t.host&&(t.host=""),f=f.charAt(0)+":"),t.path.push(f)),f="","file"==t.scheme&&(o==Pc||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",l=jl):"#"==o&&(t.fragment="",l=Rl)}else f+=ol(o,rl);break;case Cl:"?"==o?(t.query="",l=jl):"#"==o?(t.fragment="",l=Rl):o!=Pc&&(t.path[0]+=ol(o,el));break;case jl:n||"#"!=o?o!=Pc&&("'"==o&&sl(t)?t.query+="%27":t.query+="#"==o?"%23":ol(o,el)):(t.fragment="",l=Rl);break;case Rl:o!=Pc&&(t.fragment+=ol(o,nl))}u++}},Nl=function(t){var e,n,r=Ms(this,Nl,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=jc(r,{type:"URL"});if(void 0!==i)if(i instanceof Nl)e=Rc(i);else if(n=Ml(e={},String(i)))throw TypeError(n);if(n=Ml(s,a,null,e))throw TypeError(n);var c=s.searchParams=new Lc,l=Cc(c);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(c)||null},o||(r.href=zl.call(r),r.origin=Ul.call(r),r.protocol=Fl.call(r),r.username=Bl.call(r),r.password=ql.call(r),r.host=Vl.call(r),r.hostname=Hl.call(r),r.port=Wl.call(r),r.pathname=Yl.call(r),r.search=Xl.call(r),r.searchParams=Gl.call(r),r.hash=$l.call(r))},Dl=Nl.prototype,zl=function(){var t=Rc(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,c=t.fragment,l=e+":";return null!==i?(l+="//",cl(t)&&(l+=n+(r?":"+r:"")+"@"),l+=tl(i),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},Ul=function(){var t=Rc(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&sl(t)?e+"://"+tl(t.host)+(null!==n?":"+n:""):"null"},Fl=function(){return Rc(this).scheme+":"},Bl=function(){return Rc(this).username},ql=function(){return Rc(this).password},Vl=function(){var t=Rc(this),e=t.host,n=t.port;return null===e?"":null===n?tl(e):tl(e)+":"+n},Hl=function(){var t=Rc(this).host;return null===t?"":tl(t)},Wl=function(){var t=Rc(this).port;return null===t?"":String(t)},Yl=function(){var t=Rc(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Xl=function(){var t=Rc(this).query;return t?"?"+t:""},Gl=function(){return Rc(this).searchParams},$l=function(){var t=Rc(this).fragment;return t?"#"+t:""},Zl=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&vt(Dl,{href:Zl(zl,(function(t){var e=Rc(this),n=String(t),r=Ml(e,n);if(r)throw TypeError(r);Cc(e.searchParams).updateSearchParams(e.query)})),origin:Zl(Ul),protocol:Zl(Fl,(function(t){var e=Rc(this);Ml(e,String(t)+":",dl)})),username:Zl(Bl,(function(t){var e=Rc(this),n=Ys(String(t));if(!ll(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=ol(n[r],il)}})),password:Zl(ql,(function(t){var e=Rc(this),n=Ys(String(t));if(!ll(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=ol(n[r],il)}})),host:Zl(Vl,(function(t){var e=Rc(this);e.cannotBeABaseURL||Ml(e,String(t),Sl)})),hostname:Zl(Hl,(function(t){var e=Rc(this);e.cannotBeABaseURL||Ml(e,String(t),El)})),port:Zl(Wl,(function(t){var e=Rc(this);ll(e)||(""==(t=String(t))?e.port=null:Ml(e,t,Tl))})),pathname:Zl(Yl,(function(t){var e=Rc(this);e.cannotBeABaseURL||(e.path=[],Ml(e,t+"",Il))})),search:Zl(Xl,(function(t){var e=Rc(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Ml(e,t,jl)),Cc(e.searchParams).updateSearchParams(e.query)})),searchParams:Zl(Gl),hash:Zl($l,(function(t){var e=Rc(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Ml(e,t,Rl)):e.fragment=null}))}),re(Dl,"toJSON",(function(){return zl.call(this)}),{enumerable:!0}),re(Dl,"toString",(function(){return zl.call(this)}),{enumerable:!0}),Ic){var Kl=Ic.createObjectURL,Jl=Ic.revokeObjectURL;Kl&&re(Nl,"createObjectURL",(function(t){return Kl.apply(Ic,arguments)})),Jl&&re(Nl,"revokeObjectURL",(function(t){return Jl.apply(Ic,arguments)}))}be(Nl,"URL"),q({global:!0,forced:!Rs,sham:!o},{URL:Nl});var Ql=j.URL,tu=j.URLSearchParams,eu=e((function(e,n){var r=function(t){function e(){this.fetch=!1,this.DOMException=t.DOMException}return e.prototype=t,new e}("undefined"!=typeof self?self:t);!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function v(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=d(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=l(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[l(t)]},h.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},h.prototype.set=function(t,e){this.map[l(t)]=u(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var n,r,i=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];_.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,n){return new Promise((function(r,o){var a=new b(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}x.polyfill=!0,t.fetch||(t.fetch=x,t.Headers=h,t.Request=b,t.Response=_),e.Headers=h,e.Request=b,e.Response=_,e.fetch=x}({})}(r),delete r.fetch.polyfill,(n=r.fetch).default=r.fetch,n.fetch=r.fetch,n.Headers=r.Headers,n.Request=r.Request,n.Response=r.Response,e.exports=n})),nu=lt.indexOf,ru=[].indexOf,iu=!!ru&&1/[1].indexOf(1,-0)<0,ou=ir("indexOf");q({target:"Array",proto:!0,forced:iu||!ou},{indexOf:function(t){return iu?ru.apply(this,arguments)||0:nu(this,t,arguments.length>1?arguments[1]:void 0)}});var au=G("Array").indexOf,su=Array.prototype,cu=function(t){var e=t.indexOf;return t===su||t instanceof Array&&e===su.indexOf?au:e},lu=Math.min,uu=[].lastIndexOf,fu=!!uu&&1/[1].lastIndexOf(1,-0)<0,hu=ir("lastIndexOf"),pu=fu||!hu?function(t){if(fu)return uu.apply(this,arguments)||0;var e=v(this),n=it(e.length),r=n-1;for(arguments.length>1&&(r=lu(r,nt(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:uu;q({target:"Array",proto:!0,forced:pu!==[].lastIndexOf},{lastIndexOf:pu});var du=G("Array").lastIndexOf,vu=Array.prototype,gu=function(t){var e=t.lastIndexOf;return t===vu||t instanceof Array&&e===vu.lastIndexOf?du:e},yu="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",mu="["+yu+"]",bu=RegExp("^"+mu+mu+"*"),wu=RegExp(mu+mu+"*$"),_u=function(t){return function(e){var n=String(d(e));return 1&t&&(n=n.replace(bu,"")),2&t&&(n=n.replace(wu,"")),n}},ku={start:_u(1),end:_u(2),trim:_u(3)},xu=ku.trim,Su=r.parseInt,Eu=/^[+-]?0[Xx]/,Tu=8!==Su(yu+"08")||22!==Su(yu+"0x16")?function(t,e){var n=xu(String(t));return Su(n,e>>>0||(Eu.test(n)?16:10))}:Su;q({global:!0,forced:parseInt!=Tu},{parseInt:Tu});var Pu=j.parseInt,Au=mn("splice"),Ou=Math.max,Iu=Math.min,Lu=9007199254740991,Cu="Maximum allowed length exceeded";q({target:"Array",proto:!0,forced:!Au},{splice:function(t,e){var n,r,i,o,a,s,c=Nt(this),l=it(c.length),u=st(t,l),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=l-u):(n=f-2,r=Iu(Ou(nt(e),0),l-u)),l+n-r>Lu)throw TypeError(Cu);for(i=Me(c,r),o=0;o<r;o++)(a=u+o)in c&&hr(i,o,c[a]);if(i.length=r,n<r){for(o=u;o<l-r;o++)s=o+n,(a=o+r)in c?c[s]=c[a]:delete c[s];for(o=l;o>l-r+n;o--)delete c[o-1]}else if(n>r)for(o=l-r;o>u;o--)s=o+n-1,(a=o+r-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<n;o++)c[o+u]=arguments[o+2];return c.length=l-r+n,i}});var ju=G("Array").splice,Ru=Array.prototype,Mu=function(t){var e=t.splice;return t===Ru||t instanceof Array&&e===Ru.splice?ju:e},Nu=[].slice,Du=/MSIE .\./.test(qt),zu=function(t){return function(e,n){var r=arguments.length>2,i=r?Nu.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};q({global:!0,bind:!0,forced:Du},{setTimeout:zu(r.setTimeout),setInterval:zu(r.setInterval)});var Uu=j.setTimeout,Fu=function(t,e){this.stopped=t,this.result=e},Bu=function(t,e,n){var r,i,o,a,s,c,l,u=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),d=M(e,u,1+f+p),v=function(t){return r&&Us(r),new Fu(!0,t)},g=function(t){return f?(N(t),p?d(t[0],t[1],v):d(t[0],t[1])):p?d(t,v):d(t)};if(h)r=t;else{if("function"!=typeof(i=Ws(t)))throw TypeError("Target is not iterable");if(Vs(i)){for(o=0,a=it(t.length);a>o;o++)if((s=g(t[o]))&&s instanceof Fu)return s;return new Fu(!1)}r=i.call(t)}for(c=r.next;!(l=c.call(r)).done;){try{s=g(l.value)}catch(t){throw Us(r),t}if("object"==typeof s&&s&&s instanceof Fu)return s}return new Fu(!1)},qu=function(t,e){var n=this;if(!(n instanceof qu))return new qu(t,e);qn&&(n=qn(new Error(void 0),Rn(n))),void 0!==e&&U(n,"message",String(e));var r=[];return Bu(t,r.push,{that:r}),U(n,"errors",r),n};qu.prototype=It(Error.prototype,{constructor:l(5,qu),message:l(5,""),name:l(5,"AggregateError")}),q({global:!0},{AggregateError:qu});var Vu=r.Promise,Hu=se("species"),Wu=se("iterator"),Yu=!1;try{var Xu=0,Gu={next:function(){return{done:!!Xu++}},return:function(){Yu=!0}};Gu[Wu]=function(){return this},Array.from(Gu,(function(){throw 2}))}catch(tp){}var $u,Zu,Ku,Ju=function(t,e){if(!e&&!Yu)return!1;var n=!1;try{var r={};r[Wu]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Qu=se("species"),tf=function(t,e){var n,r=N(t).constructor;return void 0===r||null==(n=N(r)[Qu])?e:R(n)},ef=/(iphone|ipod|ipad).*applewebkit/i.test(qt),nf=r.location,rf=r.setImmediate,of=r.clearImmediate,af=r.process,sf=r.MessageChannel,cf=r.Dispatch,lf=0,uf={},ff="onreadystatechange",hf=function(t){if(uf.hasOwnProperty(t)){var e=uf[t];delete uf[t],e()}},pf=function(t){return function(){hf(t)}},df=function(t){hf(t.data)},vf=function(t){r.postMessage(t+"",nf.protocol+"//"+nf.host)};rf&&of||(rf=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return uf[++lf]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},$u(lf),lf},of=function(t){delete uf[t]},Bt?$u=function(t){af.nextTick(pf(t))}:cf&&cf.now?$u=function(t){cf.now(pf(t))}:sf&&!ef?(Ku=(Zu=new sf).port2,Zu.port1.onmessage=df,$u=M(Ku.postMessage,Ku,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&nf&&"file:"!==nf.protocol&&!i(vf)?($u=vf,r.addEventListener("message",df,!1)):$u=ff in k("script")?function(t){gt.appendChild(k("script")).onreadystatechange=function(){gt.removeChild(this),hf(t)}}:function(t){setTimeout(pf(t),0)});var gf,yf,mf,bf,wf,_f,kf,xf,Sf={set:rf,clear:of},Ef=/web0s(?!.*chrome)/i.test(qt),Tf=E.f,Pf=Sf.set,Af=r.MutationObserver||r.WebKitMutationObserver,Of=r.document,If=r.process,Lf=r.Promise,Cf=Tf(r,"queueMicrotask"),jf=Cf&&Cf.value;jf||(gf=function(){var t,e;for(Bt&&(t=If.domain)&&t.exit();yf;){e=yf.fn,yf=yf.next;try{e()}catch(t){throw yf?bf():mf=void 0,t}}mf=void 0,t&&t.enter()},ef||Bt||Ef||!Af||!Of?Lf&&Lf.resolve?(kf=Lf.resolve(void 0),xf=kf.then,bf=function(){xf.call(kf,gf)}):bf=Bt?function(){If.nextTick(gf)}:function(){Pf.call(r,gf)}:(wf=!0,_f=Of.createTextNode(""),new Af(gf).observe(_f,{characterData:!0}),bf=function(){_f.data=wf=!wf}));var Rf,Mf,Nf,Df=jf||function(t){var e={fn:t,next:void 0};mf&&(mf.next=e),yf||(yf=e,bf()),mf=e},zf=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=R(e),this.reject=R(n)},Uf={f:function(t){return new zf(t)}},Ff=function(t,e){if(N(t),g(e)&&e.constructor===t)return e;var n=Uf.f(t);return(0,n.resolve)(e),n.promise},Bf=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},qf=Sf.set,Vf=se("species"),Hf="Promise",Wf=je.get,Yf=je.set,Xf=je.getterFor(Hf),Gf=Vu,$f=r.TypeError,Zf=r.document,Kf=r.process,Jf=(Q("fetch"),Uf.f),Qf=Jf,th=!!(Zf&&Zf.createEvent&&r.dispatchEvent),eh="function"==typeof PromiseRejectionEvent,nh="unhandledrejection",rh=C(Hf,(function(){if(!(Se(Gf)!==String(Gf))){if(66===Yt)return!0;if(!Bt&&!eh)return!0}if(!Gf.prototype.finally)return!0;if(Yt>=51&&/native code/.test(Gf))return!1;var t=Gf.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Vf]=e,!(t.then((function(){}))instanceof e)})),ih=rh||!Ju((function(t){Gf.all(t).catch((function(){}))})),oh=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},ah=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Df((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,c,l=n[o++],u=i?l.ok:l.fail,f=l.resolve,h=l.reject,p=l.domain;try{u?(i||(2===t.rejection&&uh(t),t.rejection=1),!0===u?a=r:(p&&p.enter(),a=u(r),p&&(p.exit(),c=!0)),a===l.promise?h($f("Promise-chain cycle")):(s=oh(a))?s.call(a,f,h):f(a)):h(r)}catch(t){p&&!c&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ch(t)}))}},sh=function(t,e,n){var i,o;th?((i=Zf.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),r.dispatchEvent(i)):i={promise:e,reason:n},!eh&&(o=r["on"+t])?o(i):t===nh&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},ch=function(t){qf.call(r,(function(){var e,n=t.facade,r=t.value;if(lh(t)&&(e=Bf((function(){Bt?Kf.emit("unhandledRejection",r,n):sh(nh,n,r)})),t.rejection=Bt||lh(t)?2:1,e.error))throw e.value}))},lh=function(t){return 1!==t.rejection&&!t.parent},uh=function(t){qf.call(r,(function(){var e=t.facade;Bt?Kf.emit("rejectionHandled",e):sh("rejectionhandled",e,t.value)}))},fh=function(t,e,n){return function(r){t(e,r,n)}},hh=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ah(t,!0))},ph=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw $f("Promise can't be resolved itself");var r=oh(e);r?Df((function(){var n={done:!1};try{r.call(e,fh(ph,n,t),fh(hh,n,t))}catch(e){hh(n,e,t)}})):(t.value=e,t.state=1,ah(t,!1))}catch(e){hh({done:!1},e,t)}}};rh&&(Gf=function(t){Ms(this,Gf,Hf),R(t),Rf.call(this);var e=Wf(this);try{t(fh(ph,e),fh(hh,e))}catch(t){hh(e,t)}},(Rf=function(t){Yf(this,{type:Hf,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=nc(Gf.prototype,{then:function(t,e){var n=Xf(this),r=Jf(tf(this,Gf));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Bt?Kf.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ah(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Mf=function(){var t=new Rf,e=Wf(t);this.promise=t,this.resolve=fh(ph,e),this.reject=fh(hh,e)},Uf.f=Jf=function(t){return t===Gf||t===Nf?new Mf(t):Qf(t)}),q({global:!0,wrap:!0,forced:rh},{Promise:Gf}),be(Gf,Hf,!1,!0),function(t){var e=Q(t),n=z.f;o&&e&&!e[Hu]&&n(e,Hu,{configurable:!0,get:function(){return this}})}(Hf),Nf=Q(Hf),q({target:Hf,stat:!0,forced:rh},{reject:function(t){var e=Jf(this);return e.reject.call(void 0,t),e.promise}}),q({target:Hf,stat:!0,forced:yt},{resolve:function(t){return Ff(this===Nf?Gf:this,t)}}),q({target:Hf,stat:!0,forced:ih},{all:function(t){var e=this,n=Jf(e),r=n.resolve,i=n.reject,o=Bf((function(){var n=R(e.resolve),o=[],a=0,s=1;Bu(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Jf(e),r=n.reject,i=Bf((function(){var i=R(e.resolve);Bu(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),q({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Uf.f(e),r=n.resolve,i=n.reject,o=Bf((function(){var n=R(e.resolve),i=[],o=0,a=1;Bu(t,(function(t){var s=o++,c=!1;i.push(void 0),a++,n.call(e,t).then((function(t){c||(c=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){c||(c=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var dh="No one promise resolved";q({target:"Promise",stat:!0},{any:function(t){var e=this,n=Uf.f(e),r=n.resolve,i=n.reject,o=Bf((function(){var n=R(e.resolve),o=[],a=0,s=1,c=!1;Bu(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||c||(c=!0,r(t))}),(function(t){u||c||(u=!0,o[l]=t,--s||i(new(Q("AggregateError"))(o,dh)))}))})),--s||i(new(Q("AggregateError"))(o,dh))}));return o.error&&i(o.value),n.promise}});var vh=!!Vu&&i((function(){Vu.prototype.finally.call({then:function(){}},(function(){}))}));q({target:"Promise",proto:!0,real:!0,forced:vh},{finally:function(t){var e=tf(this,Q("Promise")),n="function"==typeof t;return this.then(n?function(n){return Ff(e,t()).then((function(){return n}))}:t,n?function(n){return Ff(e,t()).then((function(){throw n}))}:t)}});var gh=j.Promise,yh=gh,mh=li.f,bh=Function.prototype,wh=bh.toString,_h=/^\s*function ([^ (]*)/,kh="name";ti&&!(kh in bh)&&mh(bh,kh,{configurable:!0,get:function(){try{return wh.call(this).match(_h)[1]}catch(t){return""}}});var xh=function(t){return function(e,n){var r,i,o=String(fo(e)),a=go(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Sh={codeAt:xh(!1),charAt:xh(!0)},Eh=Sh.charAt,Th=function(t,e,n){return e+(n?Eh(t,e).length:1)},Ph=Math.floor,Ah="".replace,Oh=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ih=/\$([$&'`]|\d{1,2})/g,Lh=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,c=Ih;return void 0!==i&&(i=oa(i),c=Oh),Ah.call(o,c,(function(o,c){var l;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":l=i[c.slice(1,-1)];break;default:var u=+c;if(0===u)return o;if(u>s){var f=Ph(u/10);return 0===f?o:f<=s?void 0===r[f-1]?c.charAt(1):r[f-1]+c.charAt(1):o}l=r[u-1]}return void 0===l?"":l}))},Ch=Math.max,jh=Math.min;Es("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=fo(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(e,t,this,r);if(s.done)return s.value}var c=ai(t),l=String(this),u="function"==typeof r;u||(r=String(r));var f=c.global;if(f){var h=c.unicode;c.lastIndex=0}for(var p=[];;){var d=Ps(c,l);if(null===d)break;if(p.push(d),!f)break;""===String(d[0])&&(c.lastIndex=Th(l,mo(c.lastIndex),h))}for(var v,g="",y=0,m=0;m<p.length;m++){d=p[m];for(var b=String(d[0]),w=Ch(jh(go(d.index),l.length),0),_=[],k=1;k<d.length;k++)_.push(void 0===(v=d[k])?v:String(v));var x=d.groups;if(u){var S=[b].concat(_,w,l);void 0!==x&&S.push(x);var E=String(r.apply(void 0,S))}else E=Lh(b,l,w,_,x,r);w>=y&&(g+=l.slice(y,w)+E,y=w+b.length)}return g+l.slice(y)}]}));var Rh=function(t,e,n){var r,i;return ba&&"function"==typeof(r=e.constructor)&&r!==n&&ei(i=r.prototype)&&i!==n.prototype&&ba(t,i),t},Mh=Di("match"),Nh=function(t){var e;return ei(t)&&(void 0!==(e=t[Mh])?!!e:"RegExp"==ki(t))},Dh=Di("species"),zh=function(t){var e=Ti(t),n=li.f;ti&&e&&!e[Dh]&&n(e,Dh,{configurable:!0,get:function(){return this}})},Uh=li.f,Fh=Yo.f,Bh=no.set,qh=Di("match"),Vh=Jr.RegExp,Hh=Vh.prototype,Wh=/a/g,Yh=/a/g,Xh=new Vh(Wh)!==Wh,Gh=fs.UNSUPPORTED_Y;if(ti&&na("RegExp",!Xh||Gh||Qr((function(){return Yh[qh]=!1,Vh(Wh)!=Wh||Vh(Yh)==Yh||"/a/i"!=Vh(Wh,"i")})))){for(var $h=function(t,e){var n,r=this instanceof $h,i=Nh(t),o=void 0===e;if(!r&&i&&t.constructor===$h&&o)return t;Xh?i&&!o&&(t=t.source):t instanceof $h&&(o&&(e=ls.call(t)),t=t.source),Gh&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Rh(Xh?new Vh(t,e):Vh(t,e),r?this:Hh,$h);return Gh&&n&&Bh(a,{sticky:n}),a},Zh=function(t){t in $h||Uh($h,t,{configurable:!0,get:function(){return Vh[t]},set:function(e){Vh[t]=e}})},Kh=Fh(Vh),Jh=0;Kh.length>Jh;)Zh(Kh[Jh++]);Hh.constructor=$h,$h.prototype=Hh,ro(Jr,"RegExp",$h)}function Qh(){return"object"==typeof window&&"object"==typeof document}function tp(t,e){if(t.message=t.message||null,"string"==typeof e)t.message=e;else if("object"==typeof e&&null!=e){for(var n in e){var r=e[n];t[n]=r}null!=e.message&&(t.message=e.message),null==e.code&&null==e.message||(t.code=e.code||e.name),null!=e.stack&&(t.stack=e.stack)}return t.name=(null==e?void 0:e.name)||t.name||t.code||"Error",t.time=new Date,t}function ep(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function np(){var t="desktop";return"iPod"===navigator.platform||"iPhone"===navigator.platform?t="mobile":"iPad"===navigator.platform?t="tablet":("Android"===navigator.platform||/android/gi.test(navigator.userAgent))&&(t=/tablet/gi.test(navigator.userAgent)?"tablet":"mobile"),t}function rp(){var t="fine";return matchMedia("(pointer:coarse)").matches&&(t="coarse"),t}function ip(t,e){return t===e?"quadratic":t>e?"horizontal":"vertical"}function op(t){t=t.replace("#","");for(var e=Pu((e+"").replace(/[^a-f0-9]/gi,""),16),n=[],r=0,i=0;i<3;){var o=Pu(t.substring(2*i,2),16);n[i]=o,o>0&&(r+=o),++i}return r<=381?"dark":"light"}function ap(t){if(Qh())return window.btoa(t);return(t instanceof Buffer?t:Buffer.from(t.toString(),"binary")).toString("base64")}function sp(t,e){for(var n=[];t.length;)n.push(Mu(t).call(t,0,e));return n}function cp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2?arguments[2]:void 0,r=void 0,i=void 0;return function(){var o=n||this,a=(new Date).getTime(),s=arguments;r&&a<r+e?(clearTimeout(i),i=Uu((function(){r=a,t.apply(o,s)}),e)):(r=a,t.apply(o,s))}}function lp(t,e){var n=new Image;return n.onload=function(){return e(null,n.width,n.height)},n.onerror=function(){return e(new Error)},n.src=t,n}function up(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length-1,r=function(t,n,r){return new yh((function(i,o){for(var a=function(t,e){return t?o(t):i(e)},s=[],c=0,l=Math.max(r.length,n)+1,u=0<=l;u?c<l:c>l;u?c++:c--)s.push(c===n?a:r[c]);return t.apply(e,s)}))};return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];if("function"==typeof i[n])return t.apply(null,i);if("function"==typeof yh)return r(t,n,i);throw new Error("To be able to use this asynchronous method you should:\nSupply a callback function as argument #".concat(1+n,".\nThis callback function will be called with the method call response.\nAlternatively, when supported, it can return a Promise if no callback function is given."))}}zh("RegExp");var fp=Object.freeze({__proto__:null,isBrowser:Qh,isNode:function(){return"object"==typeof process},error:tp,uuid:ep,getQueryParam:function(t,e){var n=e||window.location.href,r=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(n);if(r)return r[1]},getRandomNumberBetween:function(t,e){return Math.floor(Math.random()*e)+t},getOS:function(){var t=null,e=window.navigator.userAgent;return cu(e).call(e,"Windows")>-1?t="Windows":cu(e).call(e,"Mac")>-1?t="macOS":cu(e).call(e,"X11")>-1?t="unix":cu(e).call(e,"Linux")>-1?t="Linux":cu(e).call(e,"iOS")>-1?t="iOS":cu(e).call(e,"Android")>-1&&(t="Android"),t},getDeviceCategory:np,getPointer:rp,getOrientation:ip,getScreenDimensions:function(){var t,e=null!==(t=window.devicePixelRatio)&&void 0!==t?t:1,n={width:window.screen.width,height:window.screen.height};return{density:e,logical:n,physical:{width:Math.round(n.width*e),height:Math.round(n.height*e)}}},getUtcOffsetSeconds:function(){var t=new Date,e=new Date(t.getFullYear(),0,1,0,0,0,0),n=e.toGMTString();return(e-new Date(n.substring(0,gu(n).call(n," ")-1)))/1e3},getUtcDstOffsetSeconds:function(){return 60*(new Date).getTimezoneOffset()*-1},getColorBrightness:op,btoa:ap,chunk:sp,throttle:cp,loadImage:lp,distance:function(t,e,n,r){var i=Math.PI*t/180,o=Math.PI*n/180,a=e-r,s=Math.PI*a/180,c=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(s);return c=1.609344*(c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515)*1e3},promiseCallbackInterop:up});var hp=up((function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=Fb.config.get("coreUrl")+(null!==(t=n.url)&&void 0!==t?t:""),o=n.method||"get",a=null!==(e=n.headers)&&void 0!==e?e:{},s=Fb.config.get("appKey"),c=Fb.config.get("clientVersion"),l=n.body;if(a["X-Api-Key"]=s,a.Accept||(a.Accept="application/json"),null!=c&&(a["X-Client-Version"]=c),n.qs){var u=new Ql(i),f=new tu(u.search);for(var h in n.qs)f.append(h,n.qs[h]);i=u.origin+u.pathname+"?"+f.toString()}eu(i,{method:o,body:l,headers:a,credentials:"same-origin"}).then((function(t){t.status>=200&&t.status<300||304===t.status?t.json().then((function(t){r(null,t)})).catch(r):r(tp(new Error("Core API error"),{code:"CoreAPIError",statusCode:t.status}),t.text())})).catch(r)}),1),pp=Object.freeze({__proto__:null,request:hp});Es("match",1,(function(t,e,n){return[function(e){var n=fo(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=ai(t),o=String(this);if(!i.global)return Ps(i,o);var a=i.unicode;i.lastIndex=0;for(var s,c=[],l=0;null!==(s=Ps(i,o));){var u=String(s[0]);c[l]=u,""===u&&(i.lastIndex=Th(o,mo(i.lastIndex),a)),l++}return 0===l?null:c}]}));var dp=e((function(t){var e,n=0,r=0,i={},o={};function a(t,r,i){return"_root"==r?i:t!==i?function(t){return e||(e=t.matches?t.matches:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:t.oMatchesSelector?t.oMatchesSelector:u.matchesSelector)}(t).call(t,r)?t:t.parentNode?(n++,a(t.parentNode,r,i)):void 0:void 0}function s(t,e,n,r){i[t.id]||(i[t.id]={}),i[t.id][e]||(i[t.id][e]={}),i[t.id][e][n]||(i[t.id][e][n]=[]),i[t.id][e][n].push(r)}function c(t,e,n,r){if(i[t.id])if(e)if(r||n)if(r){if(i[t.id][e][n])for(var o=0;o<i[t.id][e][n].length;o++)if(i[t.id][e][n][o]===r){var a;Mu(a=i[t.id][e][n]).call(a,o,1);break}}else delete i[t.id][e][n];else i[t.id][e]={};else for(var s in i[t.id])i[t.id].hasOwnProperty(s)&&(i[t.id][s]={})}function l(t,e,r,l){if(this.element){t instanceof Array||(t=[t]),r||"function"!=typeof e||(r=e,e="_root");var f,h=this.id;for(f=0;f<t.length;f++)l?c(this,t[f],e,r):(i[h]&&i[h][t[f]]||u.addEvent(this,t[f],p(t[f])),s(this,t[f],e,r));return this}function p(t){return function(e){!function(t,e,r){if(i[t][r]){var s,c,l=e.target||e.srcElement,f={},h=0,p=0;for(s in n=0,i[t][r])i[t][r].hasOwnProperty(s)&&(c=a(l,s,o[t].element))&&u.matchesEvent(r,o[t].element,c,"_root"==s,e)&&(n++,i[t][r][s].match=c,f[n]=i[t][r][s]);for(e.stopPropagation=function(){e.cancelBubble=!0},h=0;h<=n;h++)if(f[h])for(p=0;p<f[h].length;p++){if(!1===f[h][p].call(f[h].match,e))return void u.cancel(e);if(e.cancelBubble)return}}}(h,e,t)}}}function u(t,e){if(!(this instanceof u)){for(var n in o)if(o[n].element===t)return o[n];return r++,o[r]=new u(t,r),o[r]}this.element=t,this.id=e}u.prototype.on=function(t,e,n){return l.call(this,t,e,n)},u.prototype.off=function(t,e,n){return l.call(this,t,e,n,!0)},u.matchesSelector=function(){},u.cancel=function(t){t.preventDefault(),t.stopPropagation()},u.addEvent=function(t,e,n){var r="blur"==e||"focus"==e;t.element.addEventListener(e,n,r)},u.matchesEvent=function(){return!0},t.exports&&(t.exports=u),"undefined"!=typeof window&&window.exports&&(window.Gator=u)})),vp=function(){function t(e){var n,r=e.minWidth,i=void 0===r?300:r,o=e.maxWidth,a=void 0===o?"100vw":o,s=e.anchorEl,c=e.contentEl;yr(this,t),this.resize=K(n=this.resize).call(n,this),this.minWidth=i,this.maxWidth=a,this.anchorEl=s,this.contentEl=c,this.elInner=document.createElement("div"),this.elInner.className="sgn-offer-details-inner",this.el=document.createElement("div"),this.el.className="sgn-offer-details",this.el.setAttribute("tabindex",-1),this.el.appendChild(this.elInner),this.el.appendChild(this.contentEl),this.position()}return wr(t,[{key:"appendTo",value:function(t){return t.appendChild(this.el),this.el.offsetWidth,this.show(),this}},{key:"show",value:function(){return this.el.className+=" in",window.addEventListener("resize",this.resize,!1),this}},{key:"destroy",value:function(){window.removeEventListener("resize",this.resize,!1),this.el.parentNode.removeChild(this.el)}},{key:"position",value:function(){var t=this.anchorEl.getBoundingClientRect(),e=window.pageYOffset+t.top+this.anchorEl.offsetHeight,n=(window.pageXOffset,t.left),r=this.anchorEl.offsetWidth;this.el.style.top=e+"px";var i=t.left>=window.outerWidth/2;n=window.pageXOffset+t.left;var o=window.pageXOffset+(window.outerWidth-t.right);i?(this.el.style.left="auto",this.el.style.right=o+"px",this.elInner.style.left="auto",this.elInner.style.right=0):(this.el.style.left=n+"px",this.el.style.right="auto",this.elInner.style.left=0,this.elInner.style.right="auto"),this.el.style.minWidth="number"==typeof this.minWidth?Math.max(r,this.minWidth)+"px":this.minWidth,this.el.style.maxWidth=this.maxWidth,this.elInner.style.width=r-8+"px"}},{key:"resize",value:function(){this.position()}}]),t}(),gp=ze.map,yp=mn("map");q({target:"Array",proto:!0,forced:!yp},{map:function(t){return gp(this,t,arguments.length>1?arguments[1]:void 0)}});var mp=G("Array").map,bp=Array.prototype,wp=function(t){var e=t.map;return t===bp||t instanceof Array&&e===bp.map?mp:e},_p=e((function(t,e){var n;n=function(){
/*!
	   * mustache.js - Logic-less {{mustache}} templates with JavaScript
	   * http://github.com/janl/mustache.js
	   */
var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}var o=RegExp.prototype.test,a=/\S/;function s(t){return!function(t,e){return o.call(t,e)}(a,t)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,u=/\s+/,f=/\s*=/,h=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function d(t){this.string=t,this.tail=t,this.pos=0}function v(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function g(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},v.prototype.push=function(t){return new v(t,this)},v.prototype.lookup=function(t){var e,r,o,a=this.cache;if(a.hasOwnProperty(t))e=a[t];else{for(var s,c,l,u=this,f=!1;u;){if(t.indexOf(".")>0)for(s=u.view,c=t.split("."),l=0;null!=s&&l<c.length;)l===c.length-1&&(f=i(s,c[l])||(r=s,o=c[l],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(o))),s=s[c[l++]];else s=u.view[t],f=i(u.view,t);if(f){e=s;break}u=u.parent}a[t]=e}return n(e)&&(e=e.call(this.view)),e},g.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},g.prototype.parse=function(t,n){var i=this.templateCache,o=t+":"+(n||y.tags).join(":"),a=void 0!==i,c=a?i.get(o):void 0;return null==c&&(c=function(t,n){if(!t)return[];var i,o,a,c=!1,v=[],g=[],m=[],b=!1,w=!1,_="",k=0;function x(){if(b&&!w)for(;m.length;)delete g[m.pop()];else m=[];b=!1,w=!1}function S(t){if("string"==typeof t&&(t=t.split(u,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(r(t[0])+"\\s*"),o=new RegExp("\\s*"+r(t[1])),a=new RegExp("\\s*"+r("}"+t[1]))}S(n||y.tags);for(var E,T,P,A,O,I,L=new d(t);!L.eos();){if(E=L.pos,P=L.scanUntil(i))for(var C=0,j=P.length;C<j;++C)s(A=P.charAt(C))?(m.push(g.length),_+=A):(w=!0,c=!0,_+=" "),g.push(["text",A,E,E+1]),E+=1,"\n"===A&&(x(),_="",k=0,c=!1);if(!L.scan(i))break;if(b=!0,T=L.scan(p)||"name",L.scan(l),"="===T?(P=L.scanUntil(f),L.scan(f),L.scanUntil(o)):"{"===T?(P=L.scanUntil(a),L.scan(h),L.scanUntil(o),T="&"):P=L.scanUntil(o),!L.scan(o))throw new Error("Unclosed tag at "+L.pos);if(O=">"==T?[T,P,E,L.pos,_,k,c]:[T,P,E,L.pos],k++,g.push(O),"#"===T||"^"===T)v.push(O);else if("/"===T){if(!(I=v.pop()))throw new Error('Unopened section "'+P+'" at '+E);if(I[1]!==P)throw new Error('Unclosed section "'+I[1]+'" at '+E)}else"name"===T||"{"===T||"&"===T?w=!0:"="===T&&S(P)}if(x(),I=v.pop())throw new Error('Unclosed section "'+I[1]+'" at '+L.pos);return function(t){for(var e,n=[],r=n,i=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}(function(t){for(var e,n,r=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}(g))}(t,n),a&&i.set(o,c)),c},g.prototype.render=function(t,e,n,r){var i=this.getConfigTags(r),o=this.parse(t,i),a=e instanceof v?e:new v(e,void 0);return this.renderTokens(o,a,n,t,r)},g.prototype.renderTokens=function(t,e,n,r,i){for(var o,a,s,c="",l=0,u=t.length;l<u;++l)s=void 0,"#"===(a=(o=t[l])[0])?s=this.renderSection(o,e,n,r,i):"^"===a?s=this.renderInverted(o,e,n,r,i):">"===a?s=this.renderPartial(o,e,n,i):"&"===a?s=this.unescapedValue(o,e):"name"===a?s=this.escapedValue(o,e,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(c+=s);return c},g.prototype.renderSection=function(t,r,i,o,a){var s=this,c="",l=r.lookup(t[1]);if(l){if(e(l))for(var u=0,f=l.length;u<f;++u)c+=this.renderTokens(t[4],r.push(l[u]),i,o,a);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)c+=this.renderTokens(t[4],r.push(l),i,o,a);else if(n(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,o.slice(t[3],t[5]),(function(t){return s.render(t,r,i,a)})))&&(c+=l)}else c+=this.renderTokens(t[4],r,i,o,a);return c}},g.prototype.renderInverted=function(t,n,r,i,o){var a=n.lookup(t[1]);if(!a||e(a)&&0===a.length)return this.renderTokens(t[4],n,r,i,o)},g.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),i=t.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},g.prototype.renderPartial=function(t,e,r,i){if(r){var o=this.getConfigTags(i),a=n(r)?r(t[1]):r[t[1]];if(null!=a){var s=t[6],c=t[5],l=t[4],u=a;0==c&&l&&(u=this.indentPartial(a,l,s));var f=this.parse(u,o);return this.renderTokens(f,e,r,u,i)}}},g.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},g.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||y.escape,i=e.lookup(t[1]);if(null!=i)return"number"==typeof i&&r===y.escape?String(i):r(i)},g.prototype.rawValue=function(t){return t[1]},g.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},g.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var y={name:"mustache.js",version:"4.1.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){m.templateCache=t},get templateCache(){return m.templateCache}},m=new g;return y.clearCache=function(){return m.clearCache()},y.parse=function(t,e){return m.parse(t,e)},y.render=function(t,n,r,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(e(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return m.render(t,n,r,i)},y.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return c[t]}))},y.Scanner=d,y.Context=v,y.Writer=g,y},t.exports=n()}));function kp(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var xp=function(t){Pr(n,t);var e=kp(n);function n(){var t,r,i,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yr(this,n),(o=e.call(this)).keyUp=K(t=o.keyUp).call(t,_r(o)),o.resize=K(r=o.resize).call(r,_r(o)),o.scroll=K(i=o.scroll).call(i,_r(o)),o.options=a,o.el=document.createElement("div"),o.backgroundEl=document.createElement("div"),o}return wr(n,[{key:"render",value:function(){var t=this.options,e=t.header,n=t.singleChoiceItems,r=t.template,i=void 0===r?'<div class="sgn-popover__background" data-close></div>\n<div class="sgn-popover__menu">\n    {{#header}}\n        <div class="sgn-popover__header">{{header}}</div>\n    {{/header}}\n    <div class="sgn-popover__content">\n        <ul>\n            {{#singleChoiceItems}}\n                <li data-index="{{index}}">\n                    <p class="sgn-popover-item__title">{{item.title}}</p>\n                    {{#item.subtitle}}\n                        <p class="sgn-popover-item__subtitle">{{item.subtitle}}</p>\n                    {{/item.subtitle}}\n                </li>\n            {{/singleChoiceItems}}\n        </ul>\n    </div>\n</div>':r,o={header:e,singleChoiceItems:null==n?void 0:wp(n).call(n,(function(t,e){return{item:t,index:e}}))};return this.el.className="sgn-popover",this.el.setAttribute("tabindex",-1),this.el.innerHTML=_p.render(i,o),this.position(),this.addEventListeners(),this}},{key:"destroy",value:function(){dp(this.el).off(),window.removeEventListener("resize",this.resize,!1),window.removeEventListener("scroll",this.scroll,!1),this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.trigger("destroyed"))}},{key:"position",value:function(){var t=this.options.y,e=this.options.x,n=this.el.querySelector(".sgn-popover__menu"),r=n.offsetWidth,i=n.offsetHeight,o=this.el.parentNode.offsetWidth,a=this.el.parentNode.offsetHeight,s=this.el.parentNode.getBoundingClientRect();t-=s.top,e-=s.left,t-=window.pageYOffset,e-=window.pageXOffset,n.style.top=t+i>a?a-i+"px":t+"px",n.style.left=e+r>o?o-r+"px":e+"px"}},{key:"addEventListeners",value:function(){var t,e=this,n=K(t=this.trigger).call(t,this);this.el.addEventListener("keyup",this.keyUp),dp(this.el).on("click","[data-index]",(function(t){t.preventDefault(),t.stopPropagation(),n("selected",{index:+this.getAttribute("data-index")})})),dp(this.el).on("click","[data-close]",(function(t){t.preventDefault(),t.stopPropagation(),e.destroy()})),dp(this.el).on("click",".sgn-popover__menu",(function(t){t.stopPropagation()})),window.addEventListener("resize",this.resize,!1),window.addEventListener("scroll",this.scroll,!1)}},{key:"keyUp",value:function(t){27===t.keyCode&&this.destroy()}},{key:"resize",value:function(){this.destroy()}},{key:"scroll",value:function(){this.destroy()}}]),n}(ns);function Sp(t,e){var n=t.items,r=null;return 1===n.length?e(n[0]):n.length>1&&(r=new xp({header:t.header,x:t.x,y:t.y,singleChoiceItems:n}),K(r).call(r,"selected",(function(t){e(n[t.index]),r.destroy()})),K(r).call(r,"destroyed",(function(){t.el.focus()})),t.el.appendChild(r.el),r.render().el.focus()),{destroy:function(){var t;null===(t=r)||void 0===t||t.destroy()}}}var Ep=Object.freeze({__proto__:null,on:function(t,e,n,r){return dp(t).on(e,n,r)},off:function(t,e,n,r){return dp(t).off(e,n,r)},OfferDetails:vp,Popover:xp,singleChoicePopover:Sp}),Tp=[].join,Pp=uo!=Object,Ap=function(t,e){var n=[][t];return!!n&&Qr((function(){n.call(null,e||function(){throw 1},1)}))}("join",",");ia({target:"Array",proto:!0,forced:Pp||!Ap},{join:function(t){return Tp.call(ho(this),void 0===t?",":t)}}),q({target:"Array",stat:!0},{isArray:$t});var Op=j.Array.isArray,Ip=Op;q({target:"Object",stat:!0,forced:Object.assign!==zs},{assign:zs});var Lp=j.Object.assign,Cp=mn("slice"),jp=se("species"),Rp=[].slice,Mp=Math.max;q({target:"Array",proto:!0,forced:!Cp},{slice:function(t,e){var n,r,i,o=v(this),a=it(o.length),s=st(t,a),c=st(void 0===e?a:e,a);if($t(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!$t(n.prototype)?g(n)&&null===(n=n[jp])&&(n=void 0):n=void 0,n===Array||void 0===n))return Rp.call(o,s,c);for(r=new(void 0===n?Array:n)(Mp(c-s,0)),i=0;s<c;s++,i++)s in o&&hr(r,i,o[s]);return r.length=i,r}});var Np=G("Array").slice,Dp=Array.prototype,zp=function(t){var e=t.slice;return t===Dp||t instanceof Array&&e===Dp.slice?Np:e},Up=zp,Fp=Q("JSON","stringify"),Bp=/[\uD800-\uDFFF]/g,qp=/^[\uD800-\uDBFF]$/,Vp=/^[\uDC00-\uDFFF]$/,Hp=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return qp.test(t)&&!Vp.test(i)||Vp.test(t)&&!qp.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},Wp=i((function(){return'"\\udf06\\ud834"'!==Fp("\udf06\ud834")||'"\\udead"'!==Fp("\udead")}));Fp&&q({target:"JSON",stat:!0,forced:Wp},{stringify:function(t,e,n){var r=Fp.apply(null,arguments);return"string"==typeof r?r.replace(Bp,Hp):r}}),j.JSON||(j.JSON={stringify:JSON.stringify});var Yp=function(t,e,n){return j.JSON.stringify.apply(null,arguments)},Xp=j.setInterval,Gp=e((function(t){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n}()})),$p={utf8:{stringToBytes:function(t){return $p.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape($p.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},Zp=$p,Kp=function(t){return null!=t&&(Jp(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Jp(t.slice(0,0))}(t)||!!t._isBuffer)};function Jp(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Qp=e((function(t){!function(){var e=Gp,n=Zp.utf8,r=Kp,i=Zp.bin,o=function(t,a){t.constructor==String?t=a&&"binary"===a.encoding?i.stringToBytes(t):n.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var s=e.bytesToWords(t),c=8*t.length,l=1732584193,u=-271733879,f=-1732584194,h=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var d=o._ff,v=o._gg,g=o._hh,y=o._ii;for(p=0;p<s.length;p+=16){var m=l,b=u,w=f,_=h;l=d(l,u,f,h,s[p+0],7,-680876936),h=d(h,l,u,f,s[p+1],12,-389564586),f=d(f,h,l,u,s[p+2],17,606105819),u=d(u,f,h,l,s[p+3],22,-1044525330),l=d(l,u,f,h,s[p+4],7,-176418897),h=d(h,l,u,f,s[p+5],12,1200080426),f=d(f,h,l,u,s[p+6],17,-1473231341),u=d(u,f,h,l,s[p+7],22,-45705983),l=d(l,u,f,h,s[p+8],7,1770035416),h=d(h,l,u,f,s[p+9],12,-1958414417),f=d(f,h,l,u,s[p+10],17,-42063),u=d(u,f,h,l,s[p+11],22,-1990404162),l=d(l,u,f,h,s[p+12],7,1804603682),h=d(h,l,u,f,s[p+13],12,-40341101),f=d(f,h,l,u,s[p+14],17,-1502002290),l=v(l,u=d(u,f,h,l,s[p+15],22,1236535329),f,h,s[p+1],5,-165796510),h=v(h,l,u,f,s[p+6],9,-1069501632),f=v(f,h,l,u,s[p+11],14,643717713),u=v(u,f,h,l,s[p+0],20,-373897302),l=v(l,u,f,h,s[p+5],5,-701558691),h=v(h,l,u,f,s[p+10],9,38016083),f=v(f,h,l,u,s[p+15],14,-660478335),u=v(u,f,h,l,s[p+4],20,-405537848),l=v(l,u,f,h,s[p+9],5,568446438),h=v(h,l,u,f,s[p+14],9,-1019803690),f=v(f,h,l,u,s[p+3],14,-187363961),u=v(u,f,h,l,s[p+8],20,1163531501),l=v(l,u,f,h,s[p+13],5,-1444681467),h=v(h,l,u,f,s[p+2],9,-51403784),f=v(f,h,l,u,s[p+7],14,1735328473),l=g(l,u=v(u,f,h,l,s[p+12],20,-1926607734),f,h,s[p+5],4,-378558),h=g(h,l,u,f,s[p+8],11,-2022574463),f=g(f,h,l,u,s[p+11],16,1839030562),u=g(u,f,h,l,s[p+14],23,-35309556),l=g(l,u,f,h,s[p+1],4,-1530992060),h=g(h,l,u,f,s[p+4],11,1272893353),f=g(f,h,l,u,s[p+7],16,-155497632),u=g(u,f,h,l,s[p+10],23,-1094730640),l=g(l,u,f,h,s[p+13],4,681279174),h=g(h,l,u,f,s[p+0],11,-358537222),f=g(f,h,l,u,s[p+3],16,-722521979),u=g(u,f,h,l,s[p+6],23,76029189),l=g(l,u,f,h,s[p+9],4,-640364487),h=g(h,l,u,f,s[p+12],11,-421815835),f=g(f,h,l,u,s[p+15],16,530742520),l=y(l,u=g(u,f,h,l,s[p+2],23,-995338651),f,h,s[p+0],6,-198630844),h=y(h,l,u,f,s[p+7],10,1126891415),f=y(f,h,l,u,s[p+14],15,-1416354905),u=y(u,f,h,l,s[p+5],21,-57434055),l=y(l,u,f,h,s[p+12],6,1700485571),h=y(h,l,u,f,s[p+3],10,-1894986606),f=y(f,h,l,u,s[p+10],15,-1051523),u=y(u,f,h,l,s[p+1],21,-2054922799),l=y(l,u,f,h,s[p+8],6,1873313359),h=y(h,l,u,f,s[p+15],10,-30611744),f=y(f,h,l,u,s[p+6],15,-1560198380),u=y(u,f,h,l,s[p+13],21,1309151649),l=y(l,u,f,h,s[p+4],6,-145523070),h=y(h,l,u,f,s[p+11],10,-1120210379),f=y(f,h,l,u,s[p+2],15,718787259),u=y(u,f,h,l,s[p+9],21,-343485551),l=l+m>>>0,u=u+b>>>0,f=f+w>>>0,h=h+_>>>0}return e.endian([l,u,f,h])};o._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(o(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}}()})),td="sgn-",ed=function(){try{var t=window.localStorage;return t["".concat(td,"test-storage")]="foobar",delete t["".concat(td,"test-storage")],t}catch(t){return{}}}();function nd(t){try{return JSON.parse(ed["".concat(td).concat(t)])}catch(t){}}function rd(t,e){try{ed["".concat(td).concat(t)]=Yp(e)}catch(t){}}var id=Object.freeze({__proto__:null,get:nd,set:rd}),od=function(){var t,e=nd("client-id");return null!==(t=e)&&void 0!==t&&t.data&&(e=e.data),null==e&&rd("client-id",e=ep()),{id:e}};function ad(){var t=nd("event-tracker-pool");return!1===Ip(t)&&(t=[]),t=xn(t).call(t,(function(t){return"string"==typeof t._i}))}var sd=ad(),cd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in yr(this,t),this.defaultOptions){var r=this.defaultOptions[n];this[n]=e[n]||r}this.client=(null==e?void 0:e.client)||od(),this.eventsTrackUrl=(null==e?void 0:e.eventsTrackUrl)||rs,this.location={geohash:null,time:null,country:null},this.dispatching=!1,this.hasMadeInitialDispatch=!1,this.eventsTrackUrl&&(fd(this.eventsTrackUrl),this.hasMadeInitialDispatch=!0)}return wr(t,[{key:"setEventsTrackUrl",value:function(t){this.eventsTrackUrl=t,this.hasMadeInitialDispatch||(fd(this.eventsTrackUrl),this.hasMadeInitialDispatch=!0)}},{key:"trackEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if("number"!=typeof t)throw tp(new Error("Event type is required"));if(null!=this.trackId){var r=Lp({},e,{_e:t,_v:n,_i:ep(),_t:Math.round((new Date).getTime()/1e3),_a:this.trackId});for(this.location.geohash&&(r["l.h"]=this.location.geohash),this.location.time&&(r["l.ht"]=this.location.time),this.location.country&&(r["l.c"]=this.location.country),sd.push(r);sd.length>this.poolLimit;)sd.shift();return fd(this.eventsTrackUrl),this}}},{key:"setLocation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in t){var n=t[e];Object.prototype.hasOwnProperty.call(this.location,e)&&(this.location[e]=n)}return this}},{key:"trackPagedPublicationOpened",value:function(t,e){return this.trackEvent(1,t,e)}},{key:"trackPagedPublicationPageDisappeared",value:function(t,e){return this.trackEvent(2,t,e)}},{key:"trackOfferOpened",value:function(t,e){return this.trackEvent(3,t,e)}},{key:"trackSearched",value:function(t,e){return this.trackEvent(5,t,e)}},{key:"trackIncitoPublicationOpened",value:function(t,e){return this.trackEvent(11,t,e)}},{key:"createViewToken",value:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=qa(t=[this.client.id]).call(t,r).join(""),a=ap(String.fromCharCode.apply(null,Up(e=Qp(o,{asBytes:!0})).call(e,0,8)));return a}}]),t}();cd.prototype.defaultOptions={trackId:null,poolLimit:1e3};var ld=!1;var ud=null;var fd=cp((function(t){if(!0!==ld&&0!==sd.length){var e=Up(sd).call(sd,0,100),n=0;ld=!0,function(){return eu(arguments.length>1?arguments[1]:void 0,{method:"post",timeout:2e4,headers:{"Content-Type":"application/json; charset=utf-8"},body:Yp({events:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]})}).then((function(t){return t.json()}))}(e,t).then((function(e){var r;ld=!1,ud&&(clearInterval(ud),ud=null),ur(r=e.events).call(r,(function(t){"validation_error"===t.status||"ack"===t.status?sd=xn(sd).call(sd,(function(e){return e._i!==t.id})):n++})),sd.length>=100&&0===n&&fd(t)})).catch((function(e){ld=!1,ud||(console.warn("We're gonna keep trying, but there was an error while dispatching events:",e),ud=Xp((function(){return fd(t)}),2e4))}))}}),4e3);rd("event-tracker-pool",[]);try{window.addEventListener("beforeunload",(function(){rd("event-tracker-pool",sd=qa(sd).call(sd,ad()))}),!1)}catch(tp){}var hd=Object.freeze({__proto__:null,Tracker:cd}),pd=Op;var dd=se("iterator"),vd=function(t){var e=Object(t);return void 0!==e[dd]||"@@iterator"in e||In.hasOwnProperty(ve(e))},gd=rc;var yd=zp,md=!Ju((function(t){Array.from(t)}));q({target:"Array",stat:!0,forced:md},{from:Ys});var bd=j.Array.from,wd=bd;function _d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kd(t,e){return function(t){if(pd(t))return t}(t)||function(t,e){if(void 0!==Mr&&vd(Object(t))){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=gd(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){var n;if(t){if("string"==typeof t)return _d(t,e);var r=yd(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?wd(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xd=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Sd=Di("species"),Ed=function(t,e){var n,r=ai(t).constructor;return void 0===r||null==(n=ai(r)[Sd])?e:xd(n)},Td=[].push,Pd=Math.min,Ad=4294967295,Od=!Qr((function(){return!RegExp(Ad,"y")}));Es("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(fo(this)),i=void 0===n?Ad:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!Nh(t))return e.call(r,t,i);for(var o,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=new RegExp(t.source,l+"g");(o=ms.call(f,r))&&!((a=f.lastIndex)>u&&(c.push(r.slice(u,o.index)),o.length>1&&o.index<r.length&&Td.apply(c,o.slice(1)),s=o[0].length,u=a,c.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return u===r.length?!s&&f.test("")||c.push(""):c.push(r.slice(u)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=fo(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=ai(t),s=String(this),c=Ed(a,RegExp),l=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Od?"y":"g"),f=new c(Od?a:"^(?:"+a.source+")",u),h=void 0===i?Ad:i>>>0;if(0===h)return[];if(0===s.length)return null===Ps(f,s)?[s]:[];for(var p=0,d=0,v=[];d<s.length;){f.lastIndex=Od?d:0;var g,y=Ps(f,Od?s:s.slice(d));if(null===y||(g=Pd(mo(f.lastIndex+(Od?0:d)),s.length))===p)d=Th(s,d,l);else{if(v.push(s.slice(p,d)),v.length===h)return v;for(var m=1;m<=y.length-1;m++)if(v.push(y[m]),v.length===h)return v;d=p=g}}return v.push(s.slice(p)),v}]}),!Od);var Id=/"/g;ia({target:"String",proto:!0,forced:function(t){return Qr((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}("link")},{link:function(t){return e="a",n="href",r=t,i=String(fo(this)),o="<"+e,""!==n&&(o+=" "+n+'="'+String(r).replace(Id,"&quot;")+'"'),o+">"+i+"</"+e+">";var e,n,r,i,o}});var Ld=ku.trim;q({target:"String",proto:!0,forced:function(t){return i((function(){return!!yu[t]()||"âÂá "!="âÂá "[t]()||yu[t].name!==t}))}("trim")},{trim:function(){return Ld(this)}});var Cd=G("String").trim,jd=String.prototype,Rd=function(t){var e=t.trim;return"string"==typeof t||t===jd||t instanceof String&&e===jd.trim?Cd:e},Md=function(t){return null==t?0:"number"==typeof t?t+"px":"string"==typeof t?t.replace("dp","px"):0},Nd=function(t){return"string"==typeof t?t.replace(/"/g,"&quot;"):t},Dd=function(t){return"string"==typeof t&&t.length>0},zd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};function Ud(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var Fd=function(t){Pr(n,t);var e=Ud(n);function n(t,r){var i,o=r.incito,a=void 0===o?{}:o;return yr(this,n),(i=e.call(this)).containerEl=t,i.incito=a,i.el=document.createElement("div"),i.imageCount=0,i.preloadImageCount=20,i.ids={},i.sections=[],i.shouldLazyload="IntersectionObserver"in window,i}return wr(n,[{key:"start",value:function(){var t=this;!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=document.createElement("style");for(var n in t){var r,i,o=t[n],a=wp(r=o.src).call(r,(function(t){var e=kd(t,2)[1];return"url('".concat(e,"')")})).join(", ");e.appendChild(document.createTextNode(qa(i="@font-face { font-family: '".concat(n,"'; font-display: swap; src: ")).call(i,a,"; }")))}document.head.appendChild(e)}(this.incito.font_assets);var e,n=this.renderHtml(),r=this.incito.theme||{};(this.el.dataset.readme="Incito by Tjek (https://incito.io)",this.el.className="incito",Ip(r.font_family)&&(this.el.style.fontFamily=r.font_family.join(", ")),Dd(r.background_color)&&(this.el.style.backgroundColor=r.background_color),Dd(r.text_color)&&(this.el.style.color=r.text_color),"number"==typeof r.line_spacing_multiplier&&(this.el.style.lineHeight=r.line_spacing_multiplier),null!=this.incito.locale&&this.el.setAttribute("lang",this.incito.locale),this.el.innerHTML=n,this.el.addEventListener("click",(function(t){var e=t.target.getAttribute("data-link");Dd(e)&&window.open(e,"_blank")})),this.containerEl.appendChild(this.el),this.shouldLazyload)&&(this.lazyloader=new IntersectionObserver((function(e){ur(e).call(e,(function(e){e.isIntersecting&&(t.loadEl(e.target),t.lazyloader.unobserve(e.target))}))}),{rootMargin:"500px"}),ur(e=this.el.querySelectorAll(".incito--lazy")).call(e,(function(e){t.lazyloader.observe(e)})))}},{key:"destroy",value:function(){this.lazyloader&&this.lazyloader.disconnect(),this.containerEl.removeChild(this.el),this.trigger("destroyed")}},{key:"loadEl",value:function(t){var e;(t.dataset.bg?t.style.backgroundImage="url(".concat(t.dataset.bg,")"):t.dataset.src&&(t.src=t.dataset.src),"video"===t.tagName.toLowerCase())&&(t.getAttribute("data-controls")&&t.setAttribute("controls","true"),ur(e=t.querySelectorAll("[data-src]")).call(e,(function(t){t.setAttribute("src",t.dataset.src)})),t.load())}},{key:"renderView",value:function(t){var e,n,r="div",i=["incito__view"],o={},a={};if("TextView"===t.view_name){r="p",i.push("incito__text-view");var s=(t.text_style||"").split("|"),c=t.text;if(Ip(t.spans)&&t.spans.length>0){var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return 0===e.length?n.push({text:t}):e[0].start>0&&n.push({text:Up(t).call(t,0,e[0].start)}),ur(e).call(e,(function(r,i){var o=r.start,a=r.end;n.push({text:Up(t).call(t,o,a),span:r}),i===e.length-1?a<t.length&&n.push({text:Up(t).call(t,a,t.length)}):a<e[i+1].start&&n.push({text:Up(t).call(t,a,e[i+1].start)})})),n}(c,t.spans);c=(c=wp(l).call(l,(function(t){var e,n,r,i=zd(t.text||"");if("link"===(null===(e=t.span)||void 0===e?void 0:e.name)&&null!=t.span.url)return qa(r='<a href="'.concat(encodeURI(t.span.url),'" rel="external" target="_blank">')).call(r,i,"</a>");if(null!=(null===(n=t.span)||void 0===n?void 0:n.name)){var o,a=t.span.name;return qa(o='<span data-name="'.concat(a,'">')).call(o,i,"</span>")}return i}))).join("")}else c=zd(c);t.text_prevent_widow&&(c=c.replace(/&nbsp;([^\s]+)$/," $1").replace(/\s([^\s]+)\s*$/,"&nbsp;$1")),n=c.replace(/\n/g,"<br>"),Ip(t.font_family)&&t.font_family.length>0&&(o["font-family"]=t.font_family.join(", ")),null!=t.text_size&&(o["font-size"]="".concat(t.text_size,"px")),null!=t.line_spacing_multiplier&&(o["line-height"]=t.line_spacing_multiplier),null!=t.text_color&&(o.color=t.text_color),-1!==cu(s).call(s,"bold")&&(o["font-weight"]="bold"),-1!==cu(s).call(s,"italic")&&(o["font-style"]="italic"),Ip(t.text_decoration_line)&&(o["text-decoration-line"]=t.text_decoration_line.join(" "));var u=function(t){if(Dd(t.text_shadow_color))return{dx:"number"==typeof t.text_shadow_dx?t.text_shadow_dx:0,dy:"number"==typeof t.text_shadow_dy?t.text_shadow_dy:0,radius:"number"==typeof t.text_shadow_radius?t.text_shadow_radius:0,color:t.text_shadow_color}}(t);if(Dd(t.text_shadow))o["text-shadow"]=t.text_shadow;else if(null!=u){var f,h,p;o["text-shadow"]=qa(f=qa(h=qa(p="".concat(u.dx,"px ")).call(p,u.dy,"px ")).call(h,u.radius,"px ")).call(f,u.color)}"left"===t.text_alignment?o["text-align"]="left":"center"===t.text_alignment?o["text-align"]="center":"right"===t.text_alignment&&(o["text-align"]="right"),!0===t.single_line||1===t.max_lines?a["data-single-line"]=!0:"number"==typeof t.max_lines&&(o.display="-webkit-box",o["webkit-line-clamp"]=t.max_lines,o["webkit-box-orient"]="vertical"),!0===t.text_all_caps&&(o["text-transform"]="uppercase")}else if("ImageView"===t.view_name)r="img",i.push("incito__image-view"),a.onerror="this.style.display='none'",Dd(t.src)&&(this.imageCount>=this.preloadImageCount&&this.shouldLazyload?(i.push("incito--lazy"),a["data-src"]=t.src):a.src=t.src,this.imageCount++),Dd(t.label)&&(a.alt=t.label);else if("VideoView"===t.view_name){var d,v;if(r="video",i.push("incito__video-view"),a.muted=!0,a.preload="metadata",a.playsinline=!0,a["webkit-playsinline"]=!0,!0===t.autoplay&&(a.autoplay=!0),!0===t.loop&&(a.loop=!0),!0===t.controls&&(a["data-controls"]=!0),this.shouldLazyload)i.push("incito--lazy"),n=qa(d='<source type="'.concat(t.mime,'" data-src="')).call(d,t.src,'"/>');else n=qa(v='<source type="'.concat(t.mime,'" src="')).call(v,t.src,'"/>')}else if("HTMLView"===t.view_name){var g,y;if(Dd(t.style))ur(g=Rd(y=t.style).call(y).split(";")).call(g,(function(t){var e=kd(Rd(t).call(t).split(":"),2),n=e[0],r=e[1];o[n]=r}))}else if("VideoEmbedView"===t.view_name||"HTMLEmbedView"===t.view_name)r="iframe",i.push("incito__html-embed-view"),a.sandbox="allow-scripts allow-same-origin",a.allowfullscreen="",this.shouldLazyload?(i.push("incito--lazy"),a["data-src"]=t.src):a.src=t.src;else if("AbsoluteLayout"===t.view_name)i.push("incito__absolute-layout-view");else if("FlexLayout"===t.view_name){var m=["stretch","center","flex-start","flex-end","baseline"],b=["flex-start","flex-end","center","space-between","space-around"],w=["row","column"];i.push("incito__flex-layout-view"),o.display="flex",-1!==cu(m).call(m,t.layout_flex_align_items)&&(o["align-items"]=t.layout_flex_align_items,o["ms-align-items"]=t.layout_flex_align_items),-1!==cu(b).call(b,t.layout_flex_justify_content)&&(o["justify-content"]=t.layout_flex_justify_content,o["ms-flex-pack"]=t.layout_flex_justify_content),-1!==cu(w).call(w,t.layout_flex_direction)&&(o["flex-direction"]=t.layout_flex_direction,o["ms-flex-direction"]=t.layout_flex_direction)}if(Dd(t.id)&&(a["data-id"]=Nd(t.id)),Dd(t.role)&&(a["data-role"]=Nd(t.role)),Dd(t.accessibility_label)&&(a["aria-label"]=Nd(t.accessibility_label)),!0===t.accessibility_hidden&&(a["aria-hidden"]=!0),Ip(t.feature_labels)){var _,k=xn(_=t.feature_labels).call(_,(function(t){return/^[a-z_-]{1,14}$/.test(t)}));k.length&&(a["data-feature-labels"]=k.join(","))}Dd(t.title)&&(a.title=Nd(t.title)),t.gravity&&(a["data-gravity"]=t.gravity),Dd(t.link)&&(a["data-link"]=t.link),"match_parent"===t.layout_width?o.width="100%":"wrap_content"===t.layout_width?o.display="inline-block":null!=t.layout_width&&(o.width=Md(t.layout_width)),"match_parent"===t.layout_height?o.height="100%":"wrap_content"===t.layout_height?o.height="auto":null!=t.layout_height&&(o.height=Md(t.layout_height)),null!=t.min_width&&(o["min-width"]=Md(t.min_width)),null!=t.max_width&&(o["max-width"]=Md(t.max_width)),null!=t.min_height&&(o["min-height"]=Md(t.min_height)),null!=t.max_height&&(o["max-height"]=Md(t.max_height)),null!=t.layout_top&&(o.top=Md(t.layout_top)),null!=t.layout_left&&(o.left=Md(t.layout_left)),null!=t.layout_right&&(o.right=Md(t.layout_right)),null!=t.layout_bottom&&(o.bottom=Md(t.layout_bottom)),t.background_color&&(o["background-color"]=t.background_color),Dd(t.background_image)&&(this.imageCount>=this.preloadImageCount&&this.shouldLazyload?(i.push("incito--lazy"),a["data-bg"]=t.background_image):o["background-image"]="url(".concat(t.background_image,")"),this.imageCount++),-1!==cu(e=["repeat_x","repeat_y","repeat"]).call(e,t.background_tile_mode)&&(o["background-repeat"]=t.background_tile_mode.replace("_","-")),Dd(t.background_image_position)&&(o["background-position"]=t.background_image_position.replace("_"," ")),"center_crop"===t.background_image_scale_type?o["background-size"]="cover":"center_inside"===t.background_image_scale_type&&(o["background-size"]="contain"),null!=t.layout_margin&&(o.margin=Md(t.layout_margin)),null!=t.layout_margin_top&&(o["margin-top"]=Md(t.layout_margin_top)),null!=t.layout_margin_left&&(o["margin-left"]=Md(t.layout_margin_left)),null!=t.layout_margin_right&&(o["margin-right"]=Md(t.layout_margin_right)),null!=t.layout_margin_bottom&&(o["margin-bottom"]=Md(t.layout_margin_bottom)),null!=t.padding&&(o.padding=Md(t.padding)),null!=t.padding_top&&(o["padding-top"]=Md(t.padding_top)),null!=t.padding_left&&(o["padding-left"]=Md(t.padding_left)),null!=t.padding_right&&(o["padding-right"]=Md(t.padding_right)),null!=t.padding_bottom&&(o["padding-bottom"]=Md(t.padding_bottom)),null!=t.corner_radius&&(o["border-radius"]=Md(t.corner_radius)),null!=t.corner_top_left_radius&&(o["border-top-left-radius"]=Md(t.corner_top_left_radius)),null!=t.corner_top_right_radius&&(o["border-top-right-radius"]=Md(t.corner_top_right_radius)),null!=t.corner_bottom_left_radius&&(o["border-bottom-left-radius"]=Md(t.corner_bottom_left_radius)),null!=t.corner_bottom_right_radius&&(o["border-bottom-right-radius"]=Md(t.corner_bottom_right_radius)),!1===t.clip_children&&(o.overflow="visible");var x,S,E,T=function(t){if(Dd(t.shadow_color))return{dx:"number"==typeof t.shadow_dx?t.shadow_dx:0,dy:"number"==typeof t.shadow_dy?t.shadow_dy:0,radius:"number"==typeof t.shadow_radius?t.shadow_radius:0,color:t.shadow_color}}(t);null!=T&&(o["box-shadow"]=qa(x=qa(S=qa(E="".concat(T.dx,"px ")).call(E,T.dy,"px ")).call(S,T.radius,"px ")).call(x,T.color));var P=["solid","dotted","dashed"];null!=t.stroke_width&&(o["border-width"]=Md(t.stroke_width)),null!=t.stroke_color&&(o["border-color"]=t.stroke_color),-1!==cu(P).call(P,t.stroke_style)&&(o["border-style"]=t.stroke_style),null!=t.stroke_top_width&&(o["border-top-width"]=Md(t.stroke_top_width)),null!=t.stroke_top_color&&(o["border-top-color"]=t.stroke_top_color),null!=t.stroke_left_width&&(o["border-left-width"]=Md(t.stroke_left_width)),null!=t.stroke_left_color&&(o["border-left-color"]=t.stroke_left_color),null!=t.stroke_right_width&&(o["border-right-width"]=Md(t.stroke_right_width)),null!=t.stroke_right_color&&(o["border-right-color"]=t.stroke_right_color),null!=t.stroke_bottom_width&&(o["border-bottom-width"]=Md(t.stroke_bottom_width)),null!=t.stroke_bottom_color&&(o["border-bottom-color"]=t.stroke_bottom_color),"number"==typeof t.layout_flex_shrink&&(o["flex-shrink"]=t.layout_flex_shrink,o["ms-flex-shrink"]=t.layout_flex_shrink),"number"==typeof t.layout_flex_grow&&(o["flex-grow"]=t.layout_flex_grow,o["ms-flex-grow"]=t.layout_flex_grow),null!=t.layout_flex_basis&&(o["flex-basis"]=Md(t.layout_flex_basis),o["ms-flex-basis"]=Md(t.layout_flex_basis));var A=function(t){var e=[],n=Md(t.transform_translate_x),r=Md(t.transform_translate_y);return 0!==n&&e.push("translateX(".concat(n,")")),0!==r&&e.push("translateY(".concat(r,")")),"number"==typeof t.transform_rotate&&0!==t.transform_rotate&&e.push("rotate(".concat(t.transform_rotate,"deg)")),"number"==typeof t.transform_scale&&1!==t.transform_scale&&e.push("scale(".concat(t.transform_scale,")")),e}(t);return A.length>0&&(o.transform=A.join(" ")),Ip(t.transform_origin)&&2===t.transform_origin.length&&(o["transform-origin"]=[Md(t.transform_origin[0]),Md(t.transform_origin[1])].join(" ")),{tagName:r,contents:n,classNames:i,styles:o,attrs:a}}},{key:"renderHtml",value:function(){var t=this,e="";return function n(r){try{var i,o=t.renderView(r),a=o.tagName,s=o.contents,c=o.classNames,l=o.styles,u=o.attrs;for(var f in null!=r.id&&"object"==typeof r.meta&&(t.ids[r.id]=r.meta),"section"===r.role&&t.sections.push({id:r.id,meta:r.meta}),e+="<".concat(a),e+=' class="'.concat(c.join(" "),'"'),u){var h,p=u[f];e+=qa(h=" ".concat(f,'="')).call(h,p,'"')}for(var d in e+=' style="',l){var v,g=l[d];e+=qa(v="".concat(d,":")).call(v,g,"; ")}for(var y in e+='"',u){var m,b=u[y];e+=qa(m=" ".concat(y,'="')).call(m,b,'"')}if(e+=">",Ip(r.child_views))ur(i=r.child_views).call(i,(function(t){n(t)}));s&&(e+=s),e+="</".concat(a,">")}catch(t){}}(this.incito.root_view),e}}]),n}(ns);function Bd(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var qd=function(t){Pr(n,t);var e=Bd(n);function n(t,r){var i;return yr(this,n),(i=e.call(this)).eventTracker=t,i.details=r,i}return wr(n,[{key:"trackOpened",value:function(){var t;return null==this.eventTracker||null==this.details||this.eventTracker.trackIncitoPublicationOpened({"ip.paged":cu(t=this.details.types).call(t,"paged")>-1,"ip.id":this.details.id,vt:this.eventTracker.createViewToken(this.details.id)}),this}}]),n}(ns);function Vd(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var Hd=function(t){Pr(n,t);var e=Vd(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yr(this,n),(r=e.call(this)).el=t,r.options=i,r.incito=new Fd(r.el,{incito:r.options.incito}),r._eventTracking=new qd(r.options.eventTracker,r.options.details),r}return wr(n,[{key:"start",value:function(){return this.incito.start(),this.el.classList.add("sgn-incito--started"),this._eventTracking.trackOpened(),this}},{key:"destroy",value:function(){this.incito.destroy()}}]),n}(ns);Gr(Hd,"Incito",Fd);var Wd=bd,Yd=Rr,Xd=Ws,Gd=function(t){return function(e,n,r,i){R(n);var o=Nt(e),a=p(o),s=it(o.length),c=t?s-1:0,l=t?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=l;break}if(c+=l,t?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=l)c in a&&(i=n(i,a[c],c,o));return i}},$d={left:Gd(!1),right:Gd(!0)}.left,Zd=ir("reduce");q({target:"Array",proto:!0,forced:!Zd||!Bt&&Yt>79&&Yt<83},{reduce:function(t){return $d(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Kd=G("Array").reduce,Jd=Array.prototype,Qd=function(t){var e=t.reduce;return t===Jd||t instanceof Array&&e===Jd.reduce?Kd:e},tv=c.f,ev=function(t){return function(e){for(var n,r=v(e),i=dt(r),a=i.length,s=0,c=[];a>s;)n=i[s++],o&&!tv.call(r,n)||c.push(t?[n,r[n]]:r[n]);return c}},nv={entries:ev(!0),values:ev(!1)},rv=nv.values;q({target:"Object",stat:!0},{values:function(t){return rv(t)}});var iv=j.Object.values,ov=function(){function t(e){var n;yr(this,t),this.scroll=K(n=this.scroll).call(n,this),this.viewer=e,this.progressEl=this.viewer.el.querySelector(".sgn-incito__progress"),this.progressEl&&(this.progressEl.textContent="0 %",window.addEventListener("scroll",this.scroll,!1))}return wr(t,[{key:"destroy",value:function(){window.removeEventListener("scroll",this.scroll,!1)}},{key:"scroll",value:function(){var t=window.innerHeight,e=this.viewer.el.getBoundingClientRect(),n=Math.min(100,Math.round(Math.abs(e.top-t)/e.height*100));this.progressEl.textContent="".concat(n," %"),this.viewer.trigger("progress",{progress:n})}}]),t}();function av(t,e){var n;if(void 0===Yd||null==Xd(t)){if(Ip(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return sv(t,e);var r=Up(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Wd(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sv(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=gd(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cv=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yr(this,t),this.fetchDetails=K(e=this.fetchDetails).call(e,this),this.options=n,this.deviceCategory=this.getDeviceCategory(),this.pixelRatio=this.getPixelRatio(),this.pointer=this.getPointer(),this.orientation=this.getOrientation(),this.time=this.getTime(),this.locale=this.getLocale(),this.maxWidth=this.getMaxWidth(),this.featureLabels=this.getFeatureLabels(),this.versionsSupported=["1.0.0"]}return wr(t,[{key:"getDeviceCategory",value:function(){return np()}},{key:"getPixelRatio",value:function(){return window.devicePixelRatio||1}},{key:"getPointer",value:function(){return rp()}},{key:"getOrientation",value:function(){var t=ip(screen.width,screen.height);return"quadratic"===t&&(t="horizontal"),t}},{key:"getTime",value:function(){return(new Date).toISOString()}},{key:"getLocale",value:function(){var t=[],e=null;Ip(navigator.languages)&&navigator.languages.length>0?t=qa(t).call(t,navigator.languages):"string"==typeof navigator.language&&navigator.language.length>0?t.push(navigator.language):"string"==typeof navigator.browserLanguage&&navigator.browserLanguage.length>0&&t.push(navigator.browserLanguage),t.push("en_US");var n,r=av(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(null!=i&&(i=i.replace("-","_"),/[a-z][a-z]_[A-Z][A-Z]/g.test(i))){e=i;break}}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"getMaxWidth",value:function(){return 90===Math.abs(window.orientation)?Math.min(this.options.el.offsetWidth,screen.width):this.options.el.offsetWidth}},{key:"getFeatureLabels",value:function(){var t=nd("incito-feature-labels");return!1===Ip(t)&&(t=[]),t}},{key:"anonymizeFeatureLabels",value:function(){var t,e,n=this.featureLabels.length,r=Qd(t=this.featureLabels).call(t,(function(t,e){return t[e]||(t[e]={key:e,value:0}),t[e].value++,t}),{});return wp(e=iv(r)).call(e,(function(t){return{key:t.key,value:Math.round(t.value/n*100)/100}}))}},{key:"fetch",value:function(t){var e=this;this.fetchDetails(this.options.id,(function(n,r){if(null!=n)return t(n);e.fetchIncito(r.incito_publication_id,(function(e,n){if(null!=e)return t(e);t(null,{details:r,incito:n})}))}))}},{key:"fetchDetails",value:function(t,e){hp({url:"/v2/catalogs/".concat(t)},e)}},{key:"fetchIncito",value:function(t,e){hp({url:"/v4/rpc/generate_incito_from_publication",method:"post",headers:{"Content-Type":"application/json"},body:Yp({id:t,device_category:this.deviceCategory,pointer:this.pointer,orientation:this.orientation,pixel_ratio:this.pixelRatio,max_width:this.maxWidth,versions_supported:this.versionsSupported,locale_code:this.locale,time:this.time,feature_labels:this.anonymizeFeatureLabels(this.featureLabels)})},e)}},{key:"createViewer",value:function(t){var e,n=this;if(null==t.incito)throw tp(new Error,"You need to supply valid Incito to create a viewer");var r=new Hd(this.options.el,{id:this.options.id,details:t.details,incito:t.incito,eventTracker:this.options.eventTracker}),i=new ov(r);return K(e=r.incito).call(e,"destroy",(function(){i.destroy()})),dp(r.el).on("click",".incito__view[data-feature-labels]",(function(){var t,e=this.getAttribute("data-feature-labels").split(",");for(n.featureLabels=qa(t=n.featureLabels).call(t,e);n.featureLabels.length>1e3;)n.featureLabels.shift();rd("incito-feature-labels",n.featureLabels)})),r}}]),t}(),lv=Object.freeze({__proto__:null,Viewer:Hd,Bootstrapper:cv}),uv=ze.find,fv="find",hv=!0;fv in[]&&Array(1).find((function(){hv=!1})),q({target:"Array",proto:!0,forced:hv},{find:function(t){return uv(this,t,arguments.length>1?arguments[1]:void 0)}});var pv=G("Array").find,dv=Array.prototype,vv=function(t){var e=t.find;return t===dv||t instanceof Array&&e===dv.find?pv:e},gv={"paged_publication.hotspot_picker.header":"Which offer did you mean?","incito_publication.product_picker.header":"Which product?"};function yv(t,e){var n,r=null!==(n=gv[t])&&void 0!==n?n:"";return _p.render(r,e)}var mv=Object.freeze({__proto__:null,t:yv,update:function(t){for(var e in t){var n=t[e];gv[e]=n}}});function bv(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var wv=function(t){Pr(n,t);var e=bv(n);function n(t){var r,i,o,a,s,c,l,u,f,h,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yr(this,n),(h=e.call(this)).destroy=K(r=h.destroy).call(r,_r(h)),h.beforeNavigation=K(i=h.beforeNavigation).call(i,_r(h)),h.prevClicked=K(o=h.prevClicked).call(o,_r(h)),h.nextClicked=K(a=h.nextClicked).call(a,_r(h)),h.closeClicked=K(s=h.closeClicked).call(s,_r(h)),h.keyDown=K(c=h.keyDown).call(c,_r(h)),h.options=p,h.els={root:t,progress:t.querySelector(".sgn-pp__progress"),progressBar:t.querySelector(".sgn-pp-progress__bar"),progressLabel:t.querySelector(".sgn-pp__progress-label"),prevControl:t.querySelector(".sgn-pp__control[data-direction=prev]"),nextControl:t.querySelector(".sgn-pp__control[data-direction=next]"),close:t.querySelector(".sgn-pp--close")},h.keyDownHandler=cp(h.keyDown,150,_r(h)),!0===h.options.keyboard&&h.els.root.addEventListener("keydown",h.keyDownHandler,!1),null===(l=h.els.prevControl)||void 0===l||l.addEventListener("mousedown",h.prevClicked,!1),null===(u=h.els.nextControl)||void 0===u||u.addEventListener("mousedown",h.nextClicked,!1),null===(f=h.els.close)||void 0===f||f.addEventListener("mousedown",h.closeClicked,!1),K(h).call(h,"beforeNavigation",h.beforeNavigation),K(h).call(h,"destroyed",h.destroy),h}return wr(n,[{key:"destroy",value:function(){var t,e,n;!0===this.options.keyboard&&this.els.root.removeEventListener("keydown",this.keyDownHandler,!1),null===(t=this.els.prevControl)||void 0===t||t.removeEventListener("mousedown",this.prevClicked,!1),null===(e=this.els.nextControl)||void 0===e||e.removeEventListener("mousedown",this.nextClicked,!1),null===(n=this.els.close)||void 0===n||n.removeEventListener("mousedown",this.closeClicked,!1)}},{key:"beforeNavigation",value:function(t){var e="string"==typeof t.progressLabel&&t.progressLabel.length>0,n="sgn-pp--hidden";this.els.progress&&this.els.progressBar&&(this.els.progressBar.style.width="".concat(t.progress,"%"),!0===e?this.els.progress.classList.remove(n):this.els.progress.classList.add(n)),this.els.progressLabel&&(!0===e?(this.els.progressLabel.textContent=t.progressLabel,this.els.progressLabel.classList.remove(n)):this.els.progressLabel.classList.add(n)),this.els.prevControl&&(0===t.verso.newPosition?this.els.prevControl.classList.add(n):this.els.prevControl.classList.remove(n)),this.els.nextControl&&(t.verso.newPosition===t.pageSpreadCount-1?this.els.nextControl.classList.add(n):this.els.nextControl.classList.remove(n))}},{key:"prevClicked",value:function(t){t.preventDefault(),this.trigger("prev")}},{key:"nextClicked",value:function(t){t.preventDefault(),this.trigger("next")}},{key:"closeClicked",value:function(t){t.preventDefault(),this.trigger("close")}},{key:"keyDown",value:function(t){var e=t.keyCode;37===e?this.trigger("prev",{duration:0}):39===e||32===e?this.trigger("next",{duration:0}):49===e&&this.trigger("first",{duration:0})}}]),n}(ns),_v="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",kv=RegExp("^"+_v+_v+"*"),xv=RegExp(_v+_v+"*$"),Sv=function(t){return function(e){var n=String(fo(e));return 1&t&&(n=n.replace(kv,"")),2&t&&(n=n.replace(xv,"")),n}},Ev={start:Sv(1),end:Sv(2),trim:Sv(3)},Tv=Yo.f,Pv=Ho.f,Av=li.f,Ov=Ev.trim,Iv="Number",Lv=Jr.Number,Cv=Lv.prototype,jv=ki(Co(Cv))==Iv,Rv=function(t){var e,n,r,i,o,a,s,c,l=si(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=Ov(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((c=o.charCodeAt(s))<48||c>i)return NaN;return parseInt(o,r)}return+l};if(na(Iv,!Lv(" 0o1")||!Lv("0b1")||Lv("+0x1"))){for(var Mv,Nv=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Nv&&(jv?Qr((function(){Cv.valueOf.call(n)})):ki(n)!=Iv)?Rh(new Lv(Rv(e)),n,Nv):Rv(e)},Dv=ti?Tv(Lv):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),zv=0;Dv.length>zv;zv++)yi(Lv,Mv=Dv[zv])&&!yi(Nv,Mv)&&Av(Nv,Mv,Pv(Lv,Mv));Nv.prototype=Cv,Cv.constructor=Nv,ro(Jr,Iv,Nv)}var Uv=function(){function t(e){yr(this,t),Gr(this,"run",0),this.el=e}return wr(t,[{key:"animate",value:function(){var t,e,n,r,i,o,a,s=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},u=null!==(t=c.x)&&void 0!==t?t:0,f=null!==(e=c.y)&&void 0!==e?e:0,h=null!==(n=c.scale)&&void 0!==n?n:1,p=null!==(r=c.easing)&&void 0!==r?r:"ease-out",d=null!==(i=c.duration)&&void 0!==i?i:0,v=++this.run,g=qa(o=qa(a="translateX(".concat(u,") translateY(")).call(a,f,") scale(")).call(o,h,")");if(this.el.style.transform===g)l();else if(d>0){var y,m=function t(){v===s.run&&(s.el.removeEventListener("transitionend",t),s.el.style.transition="none",l())};this.el.addEventListener("transitionend",m,!1),this.el.style.transition=qa(y="transform ".concat(p," ")).call(y,d,"ms"),this.el.style.transform=g}else this.el.style.transition="none",this.el.style.transform=g,l();return this}}]),t}(),Fv=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yr(this,t),Gr(this,"visibility","gone"),Gr(this,"positioned",!1),Gr(this,"active",!1),this.el=e,this.options=n,this.id=this.options.id,this.type=this.options.type,this.pageIds=this.options.pageIds,this.width=this.options.width,this.left=this.options.left,this.maxZoomScale=this.options.maxZoomScale}return wr(t,[{key:"isZoomable",value:function(){return this.getMaxZoomScale()>1&&"false"!==this.getEl().getAttribute("data-zoomable")}},{key:"isScrollable",value:function(){return this.getEl().classList.contains("verso--scrollable")}},{key:"getEl",value:function(){return this.el}},{key:"getOverlayEls",value:function(){return this.getEl().querySelectorAll(".verso__overlay")}},{key:"getPageEls",value:function(){return this.getEl().querySelectorAll(".verso__page")}},{key:"getRect",value:function(){return this.getEl().getBoundingClientRect()}},{key:"getContentRect",value:function(){for(var t,e,n,r,i={top:null,left:null,right:null,bottom:null,width:null,height:null},o=0,a=Wd(this.getPageEls());o<a.length;o++){var s=a[o].getBoundingClientRect();(s.top<i.top||null==i.top)&&(i.top=s.top),(s.left<i.left||null==i.left)&&(i.left=s.left),(s.right>i.right||null==i.right)&&(i.right=s.right),(s.bottom>i.bottom||null==i.bottom)&&(i.bottom=s.bottom)}return i.top=null!==(t=i.top)&&void 0!==t?t:0,i.left=null!==(e=i.left)&&void 0!==e?e:0,i.right=null!==(n=i.right)&&void 0!==n?n:0,i.bottom=null!==(r=i.bottom)&&void 0!==r?r:0,i.width=i.right-i.left,i.height=i.bottom-i.top,i}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"getPageIds",value:function(){return this.pageIds}},{key:"getWidth",value:function(){return this.width}},{key:"getLeft",value:function(){return this.left}},{key:"getMaxZoomScale",value:function(){return this.maxZoomScale}},{key:"getVisibility",value:function(){return this.visibility}},{key:"setVisibility",value:function(t){return this.visibility!==t&&(this.getEl().style.display="visible"===t?"block":"none",this.visibility=t),this}},{key:"position",value:function(){return!1===this.positioned&&(this.getEl().style.left="".concat(this.getLeft(),"%"),this.positioned=!0),this}},{key:"activate",value:function(){this.active=!0,this.getEl().setAttribute("data-active",this.active)}},{key:"deactivate",value:function(){this.active=!1,this.getEl().setAttribute("data-active",this.active)}}]),t}();q({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Bv=j.Date.now,qv=xr,Vv=[],Hv=Vv.sort,Wv=i((function(){Vv.sort(void 0)})),Yv=i((function(){Vv.sort(null)})),Xv=ir("sort");q({target:"Array",proto:!0,forced:Wv||!Yv||!Xv},{sort:function(t){return void 0===t?Hv.call(Nt(this)):Hv.call(Nt(this),R(t))}});var Gv=G("Array").sort,$v=Array.prototype,Zv=function(t){var e=t.sort;return t===$v||t instanceof Array&&e===$v.sort?Gv:e},Kv=ze.findIndex,Jv="findIndex",Qv=!0;Jv in[]&&Array(1).findIndex((function(){Qv=!1})),q({target:"Array",proto:!0,forced:Qv},{findIndex:function(t){return Kv(this,t,arguments.length>1?arguments[1]:void 0)}});var tg=G("Array").findIndex,eg=Array.prototype,ng=function(t){var e=t.findIndex;return t===eg||t instanceof Array&&e===eg.findIndex?tg:e},rg=nv.entries;q({target:"Object",stat:!0},{entries:function(t){return rg(t)}});var ig=j.Object.entries;function og(t,e){var n=Ft(t);if(gn){var r=gn(t);e&&(r=xn(r).call(r,(function(e){return On(t,e).enumerable}))),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)ur(n=og(Object(r),!0)).call(n,(function(e){Gr(t,e,r[e])}));else if(pr)dr(t,pr(r));else{var i;ur(i=og(Object(r))).call(i,(function(e){gr(t,e,On(r,e))}))}}return t}var sg=["","webkit","Moz","MS","ms","o"],cg=Math.round,lg=Math.abs,ug=Bv;function fg(t,e,n){return!!Ip(t)&&(hg(t,n[e],n),!0)}function hg(t,e,n){var r;if(t)if(ur(t))ur(t).call(t,e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)Object.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t)}function pg(t,e,n){var r,i=e.prototype;(r=t.prototype=qv(i)).constructor=t,r._super=i,n&&Lp(r,n)}function dg(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function vg(t,e){return void 0===t?e:t}function gg(t,e,n){var r;ur(r=wg(e)).call(r,(function(e){return t.addEventListener(e,n,!1)}))}function yg(t,e,n){var r;ur(r=wg(e)).call(r,(function(e){return t.removeEventListener(e,n,!1)}))}function mg(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function bg(t,e){return cu(t).call(t,e)>-1}function wg(t){return Rd(t).call(t).split(/\s+/g)}var _g=function(t){return Up(Array.prototype).call(t,0)};function kg(t,e,n){var r=[],i=[];return ur(t).call(t,(function(t,n){var o=e?t[e]:t;cu(i).call(i,o)<0&&r.push(t),i[n]=o})),n&&Zv(r).call(r,e?function(t,n){return t[e]>n[e]}:void 0),r}function xg(t,e){var n=e[0].toUpperCase()+Up(e).call(e,1);return vv(sg).call(sg,(function(r){return(r?r+n:e)in t}))}var Sg=1;function Eg(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||"undefined"!=typeof window&&window}var Tg=/mobile|tablet|ip(ad|hone|od)|android/i,Pg=function(){return"undefined"!=typeof window&&"ontouchstart"in window},Ag="touch",Og="mouse",Ig=24,Lg=["x","y"],Cg=["clientX","clientY"];function jg(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){dg(t.options.enable,[t])&&n.handler(e)},this.init()}function Rg(t){var e=t.options.inputClass;return new(e||("undefined"!=typeof window&&void 0!==xg(window,"PointerEvent")?Jg:Pg()&&Tg.test(navigator.userAgent)?oy:Pg()?sy:Xg))(t,Mg)}function Mg(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=Ng(e));i>1&&!n.firstMultiple?n.firstMultiple=Ng(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=Dg(r);e.timeStamp=ug(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Bg(s,c),e.distance=Fg(s,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=Ug(e.deltaX,e.deltaY);var l=zg(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=lg(l.x)>lg(l.y)?l.x:l.y,e.scale=a?Vg(a.pointers,r):1,e.rotation=a?qg(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,u=zg(s,c,l);r=u.x,i=u.y,n=lg(u.x)>lg(u.y)?u.x:u.y,o=Ug(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var u=t.element;mg(e.srcEvent.target,u)&&(u=e.srcEvent.target);e.target=u}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Ng(t){var e,n=wp(e=t.pointers).call(e,(function(t){return{clientX:cg(t.clientX),clientY:cg(t.clientY)}}));return{timeStamp:ug(),pointers:n,center:Dg(n),deltaX:t.deltaX,deltaY:t.deltaY}}function Dg(t){var e=t.length;if(1===e)return{x:cg(t[0].clientX),y:cg(t[0].clientY)};var n=0,r=0;return ur(t).call(t,(function(t){var e=t.clientX,i=t.clientY;n+=e,r+=i})),{x:cg(n/e),y:cg(r/e)}}jg.prototype={handler:function(){},init:function(){this.evEl&&gg(this.element,this.evEl,this.domHandler),this.evTarget&&gg(this.target,this.evTarget,this.domHandler),this.evWin&&gg(Eg(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&yg(this.element,this.evEl,this.domHandler),this.evTarget&&yg(this.target,this.evTarget,this.domHandler),this.evWin&&yg(Eg(this.element),this.evWin,this.domHandler)}};var zg=function(t,e,n){return{x:e/t||0,y:n/t||0}};function Ug(t,e){return t===e?1:lg(t)>=lg(e)?t<0?2:4:e<0?8:16}var Fg=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lg,r=kd(n,2),i=r[0],o=r[1];return Math.sqrt(Math.pow(e[i]-t[i],2)+Math.pow(e[o]-t[o],2))},Bg=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lg,r=kd(n,2),i=r[0],o=r[1];return 180*Math.atan2(e[o]-t[o],e[i]-t[i])/Math.PI},qg=function(t,e){return Bg(e[1],e[0],Cg)+Bg(t[1],t[0],Cg)},Vg=function(t,e){return Fg(e[0],e[1],Cg)/Fg(t[0],t[1],Cg)},Hg={mousedown:1,mousemove:2,mouseup:4},Wg="mousedown",Yg="mousemove mouseup";function Xg(){this.evEl=Wg,this.evWin=Yg,this.pressed=!1,jg.apply(this,arguments)}pg(Xg,jg,{handler:function(t){var e=Hg[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Og,srcEvent:t}))}});var Gg={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},$g={2:Ag,3:"pen",4:Og,5:"kinect"},Zg="pointerdown",Kg="pointermove pointerup pointercancel";function Jg(){this.evEl=Zg,this.evWin=Kg,jg.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}"undefined"!=typeof window&&window.MSPointerEvent&&!window.PointerEvent&&(Zg="MSPointerDown",Kg="MSPointerMove MSPointerUp MSPointerCancel"),pg(Jg,jg,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Gg[r],o=$g[t.pointerType]||t.pointerType,a=o==Ag,s=ng(e).call(e,(function(e){return e.pointerId==t.pointerId}));1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&Mu(e).call(e,s,1))}});var Qg={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ty="touchstart",ey="touchstart touchmove touchend touchcancel";function ny(){this.evTarget=ty,this.evWin=ey,this.started=!1,jg.apply(this,arguments)}pg(ny,jg,{handler:function(t){var e=Qg[t.type];if(1===e&&(this.started=!0),this.started){var n=kd(function(t,e){var n=_g(t.touches),r=_g(t.changedTouches);12&e&&(n=kg(qa(n).call(n,r),"identifier",!0));return[n,r]}(t,e),2),r=n[0],i=n[1];12&e&&r.length-i.length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:r,changedPointers:i,pointerType:Ag,srcEvent:t})}}});var ry={touchstart:1,touchmove:2,touchend:4,touchcancel:8},iy="touchstart touchmove touchend touchcancel";function oy(){this.evTarget=iy,this.targetIds={},jg.apply(this,arguments)}function ay(t,e){var n=_g(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o=_g(t.changedTouches),a=[],s=this.target;return i=xn(n).call(n,(function(t){return mg(t.target,s)})),1===e&&ur(i).call(i,(function(t){r[t.identifier]=!0})),ur(o).call(o,(function(t){r[t.identifier]&&a.push(t),12&e&&delete r[t.identifier]})),a.length?[kg(qa(i).call(i,a),"identifier",!0),a]:void 0}pg(oy,jg,{handler:function(t){var e=ry[t.type],n=ay.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ag,srcEvent:t})}});function sy(){var t;jg.apply(this,arguments);var e=K(t=this.handler).call(t,this);this.touch=new oy(this.manager,e),this.mouse=new Xg(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function cy(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ly.call(this,e)):12&t&&ly.call(this,e)}function ly(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;Uu((function(){var t=cu(r).call(r,n);t>-1&&Mu(r).call(r,t,1)}),2500)}}function uy(t){var e,n=t.srcEvent,r=n.clientX,i=n.clientY;return!!vv(e=this.lastTouches).call(e,(function(t){return Math.abs(r-t.x)<=25&&Math.abs(i-t.y)<=25}))}pg(sy,jg,{handler:function(t,e,n){var r=n.pointerType==Ag,i=n.pointerType==Og;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)cy.call(this,e,n);else if(i&&uy.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var fy=function(){var t="undefined"!=typeof document&&document.createElement("div");if(t)return xg(t.style,"touchAction")},hy=function(){return void 0!==fy()},py="compute",dy="auto",vy="manipulation",gy="none",yy="pan-x",my="pan-y";function by(t,e){this.manager=t,this.set(e)}by.prototype={set:function(t){var e;t==py&&(t=this.compute());var n=_y();hy()&&this.manager.element.style&&n[t]&&(this.manager.element.style[fy()]=t),this.actions=Rd(e=t.toLowerCase()).call(e)},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t,e=[];return ur(t=this.manager.recognizers).call(t,(function(t){dg(t.options.enable,[t])&&(e=qa(e).call(e,t.getTouchAction()))})),function(t){if(bg(t,gy))return gy;var e=bg(t,yy),n=bg(t,my);return e&&n?gy:e||n?e?yy:my:bg(t,vy)?vy:dy}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=_y(),o=bg(r,gy)&&!i.none,a=bg(r,my)&&!i["pan-y"],s=bg(r,yy)&&!i["pan-x"];if(o){var c=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(c&&l&&u)return}if(!s||!a)return o||a&&6&n||s&&n&Ig?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var wy=["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"];function _y(){if(!hy())return!1;var t="undefined"!=typeof window&&window.CSS&&window.CSS.supports;return Qd(wy).call(wy,(function(e,n){return e[n]=!t||window.CSS.supports("touch-action",n),e}),{})}var ky=32;function xy(t){this.options=ag(ag({},this.defaults),t),this.id=Sg++,this.manager=null,this.options.enable=vg(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Sy(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Ey(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}xy.prototype={defaults:{},set:function(t){return Lp(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(fg(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ty(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return fg(t,"dropRecognizeWith",this)||(t=Ty(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(fg(t,"requireFailure",this))return this;var e=this.requireFail;return t=Ty(t,this),-1===cu(e).call(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){var e,n;if(fg(t,"dropRequireFailure",this))return this;t=Ty(t,this);var r=cu(e=this.requireFail).call(e,t);return r>-1&&Mu(n=this.requireFail).call(n,r,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Sy(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Sy(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=ky},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=ag({},t);if(!dg(this.options.enable,[this,e]))return this.reset(),void(this.state=ky);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(){},getTouchAction:function(){},reset:function(){}};var Ty=function(t,e){var n=e.manager;return n?n.get(t):t};function Py(){xy.apply(this,arguments)}function Ay(){Py.apply(this,arguments),this.pX=null,this.pY=null}function Oy(){Py.apply(this,arguments)}function Iy(){xy.apply(this,arguments),this._timer=null,this._input=null}function Ly(){Py.apply(this,arguments)}function Cy(){Py.apply(this,arguments)}function jy(){xy.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ry(t,e){return(e=e||{}).recognizers=vg(e.recognizers,Ry.defaults.preset),new My(t,e)}pg(Py,xy,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:ky}}),pg(Ay,Py,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(my),t&Ig&&e.push(yy),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Py.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ey(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),pg(Oy,Py,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[gy]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),pg(Iy,xy,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[dy]},process:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!i||!r||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=Uu((function(){e.state=8,e.tryEmit()}),n.time);else if(4&t.eventType)return 8;return ky},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ug(),this.manager.emit(this.options.event,this._input)))}}),pg(Ly,Py,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[gy]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),pg(Cy,Py,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ay.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&Ig&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&lg(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Ey(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),pg(jy,xy,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[vy]},process:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&o&&r){if(4!=t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||Fg(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=Uu((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return ky},failTimeout:function(){var t=this;return this._timer=Uu((function(){t.state=ky}),this.options.interval),ky},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ry.VERSION="2.0.7",Ry.defaults={domEvents:!1,touchAction:py,enable:!0,inputTarget:null,inputClass:null,preset:[[Ly,{enable:!1}],[Oy,{enable:!1},["rotate"]],[Cy,{direction:6}],[Ay,{direction:6},["swipe"]],[jy],[jy,{event:"doubletap",taps:2},["tap"]],[Iy]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function My(t,e){var n,r=this;(this.options=ag(ag({},Ry.defaults),e),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=Rg(this),this.touchAction=new by(this,this.options.touchAction),Ny(this,!0),this.options.recognizers)&&ur(n=this.options.recognizers).call(n,(function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}))}function Ny(t,e){var n,r,i=t.element;i.style&&(ur(n=ig(t.options.cssProps)).call(n,(function(n){var o=kd(n,2),a=o[0],s=o[1];r=xg(i.style,s),e?(t.oldCssProps[r]=i.style[r],i.style[r]=a):i.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}My.prototype={set:function(t){return Lp(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null),ur(n).call(n,(function(n){2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n)}))}},get:function(t){var e;return t instanceof xy?t:vv(e=this.recognizers).call(e,(function(e){return e.options.event==t}))||null},add:function(t){if(fg(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(fg(t,"remove",this))return this;if(t=this.get(t)){var e,n,r=cu(e=this.recognizers).call(e,t);if(-1!==r)Mu(n=this.recognizers).call(n,r,1),this.touchAction.update()}return this},on:function(t,e){var n;if(void 0!==t&&void 0!==e){var r=this.handlers;return ur(n=wg(t)).call(n,(function(t){r[t]=r[t]||[],r[t].push(e)})),this}},off:function(t,e){var n;if(void 0!==t){var r=this.handlers;return ur(n=wg(t)).call(n,(function(t){if(e){if(r[t]){var n,i;Mu(n=r[t]).call(n,cu(i=r[t]).call(i,e),1)}}else delete r[t]})),this}},emit:function(t,e){var n;this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var r=this.handlers[t]&&Up(n=this.handlers[t]).call(n);r&&r.length&&(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()},ur(r).call(r,(function(t){return t(e)})))},destroy:function(){this.element&&Ny(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Lp(Ry,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:ky,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:Ig,DIRECTION_ALL:30,Manager:My,Input:jg,TouchAction:by,TouchInput:oy,MouseInput:Xg,PointerEventInput:Jg,TouchMouseInput:sy,SingleTouchInput:ny,Recognizer:xy,AttrRecognizer:Py,Tap:jy,Pan:Ay,Swipe:Cy,Pinch:Oy,Rotate:Ly,Press:Iy,on:gg,off:yg,each:hg,inherit:pg,prefixed:xg});var Dy=Ry,zy=function(){function t(e){var n,r,i,o,a,s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yr(this,t),this.el=e,this.options=c,this.swipeVelocity=null!==(n=this.options.swipeVelocity)&&void 0!==n?n:.3,this.swipeThreshold=null!==(r=this.options.swipeThreshold)&&void 0!==r?r:10,this.navigationDuration=null!==(i=this.options.navigationDuration)&&void 0!==i?i:240,this.navigationPanDuration=null!==(o=this.options.navigationPanDuration)&&void 0!==o?o:200,this.zoomDuration=null!==(a=this.options.zoomDuration)&&void 0!==a?a:200,this.doubleTapDelay=null!==(s=this.options.doubleTapDelay)&&void 0!==s?s:300,this.position=-1,this.pinching=!1,this.panning=!1,this.transform={left:0,top:0,scale:1},this.startTransform={left:0,top:0,scale:1},this.tap={count:0,delay:this.doubleTapDelay},this.started=!1,this.destroyed=!1,this._events={}}return wr(t,[{key:"bind",value:function(t,e){return this._events[t]=this._events[t]||[],this._events[t].push(e)}},{key:"unbind",value:function(t,e){var n,r;if(this._events[t])return Mu(n=this._events[t]).call(n,cu(r=this._events[t]).call(r,e),1)}},{key:"trigger",value:function(t){for(var e,n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];null===(e=this._events[t])||void 0===e||ur(e).call(e,(function(t){return t.apply(n,i)}))}},{key:"start",value:function(){var t,e,n,r,i,o,a,s,c,l,u,f,h,p,d,v;this.scrollerEl=this.el.querySelector(".verso__scroller"),this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this.animation=new Uv(this.scrollerEl),this.hammer=new Dy.Manager(this.scrollerEl,{touchAction:"none",enable:!1,inputClass:this.getHammerInputClass()}),this.hammer.add(new Dy.Pan({threshold:5,direction:Dy.DIRECTION_ALL})),this.hammer.add(new Dy.Tap({event:"singletap",interval:0})),this.hammer.add(new Dy.Pinch),this.hammer.add(new Dy.Press({time:500})),this.hammer.on("panstart",K(t=this.onPanStart).call(t,this)),this.hammer.on("panmove",K(e=this.onPanMove).call(e,this)),this.hammer.on("panend",K(n=this.onPanEnd).call(n,this)),this.hammer.on("pancancel",K(r=this.onPanEnd).call(r,this)),this.hammer.on("singletap",K(i=this.onSingletap).call(i,this)),this.hammer.on("pinchstart",K(o=this.onPinchStart).call(o,this)),this.hammer.on("pinchmove",K(a=this.onPinchMove).call(a,this)),this.hammer.on("pinchend",K(s=this.onPinchEnd).call(s,this)),this.hammer.on("pinchcancel",K(c=this.onPinchEnd).call(c,this)),this.hammer.on("press",K(l=this.onPress).call(l,this)),this.scrollerEl.addEventListener("contextmenu",K(u=this.onContextmenu).call(u,this),!1),this.scrollerEl.addEventListener("wheel",K(f=this.onWheel).call(f,this),!1);var g=null!==(h=this.getPageSpreadPositionFromPageId(this.options.pageId))&&void 0!==h?h:0;return this.hammer.set({enable:!0}),this.started=!0,this.destroyed=!1,this.navigateTo(g,{duration:0}),this.resizeListener=K(p=this.onResize).call(p,this),this.touchStartListener=K(d=this.onTouchStart).call(d,this),this.touchEndListener=K(v=this.onTouchEnd).call(v,this),this.el.addEventListener("touchstart",this.touchStartListener,!1),this.el.addEventListener("touchend",this.touchEndListener,!1),"undefined"!=typeof window&&null!==window&&window.addEventListener("resize",this.resizeListener,!1),this}},{key:"destroy",value:function(){var t,e;return this.started?this.destroyed?console.warn("You've called .destroy() on a viewer that has already been destroyed and not restarted, this is a no-op."):(this.scrollerEl.removeEventListener("contextmenu",K(t=this.onContextmenu).call(t,this)),this.scrollerEl.removeEventListener("wheel",K(e=this.onWheel).call(e,this)),this.hammer.destroy(),this.el.removeEventListener("touchstart",this.touchStartListener),this.el.removeEventListener("touchend",this.touchEndListener),window.removeEventListener("resize",this.resizeListener),this.started=!1,this.destroyed=!0,this):console.warn("You've called .destroy() on a viewer that was not started yet, this is a no-op.")}},{key:"first",value:function(t){return this.navigateTo(0,t)}},{key:"prev",value:function(t){return this.navigateTo(this.getPosition()-1,t)}},{key:"next",value:function(t){return this.navigateTo(this.getPosition()+1,t)}},{key:"last",value:function(t){return this.navigateTo(this.getPageSpreadCount()-1,t)}},{key:"navigateTo",value:function(t){var e,n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.destroyed)return console.warn("You've called a navigation method on a viewer that was previously destroyed, this is a no-op.\nPlease call viewer.start() again, if you want to reuse this Viewer instance.\n\nYou might have forgotten to remove an event handler that\ncalls first/prev/next/last/navigateTo on the viewer.");if(!this.started)return console.warn("\nYou've called a navigation method on a viewer that hasn't been started yet, this is a no-op.\nPlease call viewer.start() first.\n\nYou might have forgotten to remove an event handler that\ncalls .first()/.prev()/.next()/.last()/.navigateTo() on the viewer.\n");if(!(t<0||t>this.getPageSpreadCount()-1)){var a=this.getPosition(),s=this.getPageSpreadFromPosition(a),c=this.getPageSpreadFromPosition(t),l=this.getCarouselFromPageSpread(c),u=null!==(e=o.velocity)&&void 0!==e?e:1,f=null!==(n=o.duration)&&void 0!==n?n:this.navigationDuration;f/=Math.abs(u);var h=c.isScrollable()?"pan-y":"none";null==s||s.deactivate(),c.activate(),ur(r=l.visible).call(r,(function(t){return t.position().setVisibility("visible")})),this.hammer.set({touchAction:h}),this.transform.left=this.getLeftTransformFromPageSpread(t,c),this.setPosition(t),this.transform.scale>1&&(this.transform.top=0,this.transform.scale=1,this.trigger("zoomedOut",{position:a})),this.trigger("beforeNavigation",{currentPosition:a,newPosition:t}),this.animation.animate({x:"".concat(this.transform.left,"%"),duration:f},(function(){var t;l=i.getCarouselFromPageSpread(i.getActivePageSpread()),ur(t=l.gone).call(t,(function(t){return t.setVisibility("gone")})),i.trigger("afterNavigation",{newPosition:i.getPosition(),previousPosition:a})}))}}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return this.position=t,this}},{key:"getLeftTransformFromPageSpread",value:function(t,e){var n=0;return t===this.getPageSpreadCount()-1?n=100-e.getWidth()-e.getLeft():t>0&&(n=(100-e.getWidth())/2-e.getLeft()),n}},{key:"getCarouselFromPageSpread",value:function(t){var e,n={visible:[],gone:[]};return ur(e=this.pageSpreads).call(e,(function(e){var r=!1;e.getLeft()<=t.getLeft()?e.getLeft()+e.getWidth()>t.getLeft()-100&&(r=!0):e.getLeft()-e.getWidth()<t.getLeft()+100&&(r=!0),!0===r?n.visible.push(e):n.gone.push(e)})),n}},{key:"traversePageSpreads",value:function(t){for(var e=[],n=0,r=0,i=Wd(t);r<i.length;r++){var o,a,s,c=i[r],l=c.getAttribute("data-id"),u=c.getAttribute("data-type"),f=(null===(o=c.getAttribute("data-page-ids"))||void 0===o?void 0:o.split(","))||[],h=Number(null!==(a=c.getAttribute("data-max-zoom-scale"))&&void 0!==a?a:1),p=Number(null!==(s=c.getAttribute("data-width"))&&void 0!==s?s:100),d=new Fv(c,{id:l,type:u,pageIds:f,maxZoomScale:h,width:p,left:n});n+=p,e.push(d)}return e}},{key:"buildPageIds",value:function(t){var e={};return ur(t).call(t,(function(t){var n;ur(n=t.options.pageIds).call(n,(function(n){e[n]=t}))})),e}},{key:"isCoordinateInsideElement",value:function(t,e,n){var r=n.getBoundingClientRect();return t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom}},{key:"getCoordinateInfo",value:function(t,e,n){for(var r,i={x:t-=this.el.offsetLeft,y:e-=this.el.offsetTop,contentX:0,contentY:0,pageX:0,pageY:0,overlayEls:[],pageEl:null,isInsideContentX:!1,isInsideContentY:!1,isInsideContent:!1},o=n.getContentRect(),a=n.getOverlayEls(),s=n.getPageEls(),c=0,l=Wd(a);c<l.length;c++){var u=l[c];this.isCoordinateInsideElement(t,e,u)&&i.overlayEls.push(u)}for(var f=0,h=Wd(s);f<h.length;f++)if(r=h[f],this.isCoordinateInsideElement(t,e,r)){i.pageEl=r;break}return i.contentX=(t-o.left)/Math.max(1,o.width),i.contentY=(e-o.top)/Math.max(1,o.height),i.pageEl&&(i.isInsideContentX=i.contentX>=0&&i.contentX<=1,i.isInsideContentY=i.contentY>=0&&i.contentY<=1,i.isInsideContent=i.isInsideContentX&&i.isInsideContentY),i}},{key:"getPageSpreadCount",value:function(){return this.pageSpreads.length}},{key:"getActivePageSpread",value:function(){return this.getPageSpreadFromPosition(this.getPosition())}},{key:"getPageSpreadFromPosition",value:function(t){return this.pageSpreads[t]}},{key:"getPageSpreadPositionFromPageId",value:function(t){for(var e=0;e<this.pageSpreads.length;e++){var n,r=this.pageSpreads[e];if(cu(n=r.options.pageIds).call(n,t)>-1)return e}}},{key:"getPageSpreadBounds",value:function(t){var e=t.getRect(),n=t.getContentRect();return{left:(n.left-e.left)/e.width*100,top:(n.top-e.top)/e.height*100,width:n.width/e.width*100,height:n.height/e.height*100,pageSpreadRect:e,pageSpreadContentRect:n}}},{key:"clipCoordinate",value:function(t,e,n,r){return n*e<100?t=r*-e+50-n*e/2:(t=Math.min(t,r*-e),t=Math.max(t,r*-e-n*e+100)),t}},{key:"zoomTo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=n.scale,o=this.transform.scale,a=this.getActivePageSpread(),s=this.getPageSpreadBounds(a),c=a.getLeft(),l=c*o,u=null!==(t=n.x)&&void 0!==t?t:0,f=null!==(e=n.y)&&void 0!==e?e:0;1!==i?(u-=s.pageSpreadRect.left,f-=s.pageSpreadRect.top,u=u/(s.pageSpreadRect.width/o)*100,f=f/(s.pageSpreadRect.height/o)*100,u=this.transform.left+l+u-u*i/o,f=this.transform.top+f-f*i/o,!1!==n.bounds&&i>1&&(u=this.clipCoordinate(u,i,s.width,s.left),f=this.clipCoordinate(f,i,s.height,s.top))):(u=0,f=0),u-=c*i,this.transform.left=u,this.transform.top=f,this.transform.scale=i,this.animation.animate({x:"".concat(u,"%"),y:"".concat(f,"%"),scale:i,easing:n.easing,duration:n.duration},r)}},{key:"refresh",value:function(){return this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this}},{key:"getHammerInputClass",value:function(){return"undefined"!=typeof window&&"ontouchstart"in window&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?Dy.TouchInput:null}},{key:"onPanStart",value:function(t){if(this.transform.scale>1||t.direction===Dy.DIRECTION_LEFT||t.direction===Dy.DIRECTION_RIGHT){var e=t.center.x,n=this.scrollerEl.offsetWidth;e>30&&e<n-30&&(this.startTransform.left=this.transform.left,this.startTransform.top=this.transform.top,this.panning=!0,this.trigger("panStart"))}}},{key:"onPanMove",value:function(t){var e;if(!0!==this.pinching&&!1!==this.panning)if(this.transform.scale>1){var n=this.getActivePageSpread(),r=n.getLeft()*this.transform.scale,i=this.getPageSpreadBounds(n),o=this.transform.scale;e=this.startTransform.left+r+t.deltaX/this.scrollerEl.offsetWidth*100;var a=this.startTransform.top+t.deltaY/this.scrollerEl.offsetHeight*100;e=this.clipCoordinate(e,o,i.width,i.left),a=this.clipCoordinate(a,o,i.height,i.top),e-=r,this.transform.left=e,this.transform.top=a,this.animation.animate({x:"".concat(e,"%"),y:"".concat(a,"%"),scale:o,easing:"linear"})}else e=this.transform.left+t.deltaX/this.scrollerEl.offsetWidth*100,this.animation.animate({x:"".concat(e,"%"),easing:"linear"})}},{key:"onPanEnd",value:function(t){if(!1!==this.panning&&(this.panning=!1,this.trigger("panEnd"),1===this.transform.scale&&!1===this.pinching)){var e=this.getPosition(),n=t.overallVelocityX;Math.abs(n)>=this.swipeVelocity&&Math.abs(t.deltaX)>=this.swipeThreshold&&(t.offsetDirection===Dy.DIRECTION_LEFT?this.next({velocity:n,duration:this.navigationPanDuration}):t.offsetDirection===Dy.DIRECTION_RIGHT&&this.prev({velocity:n,duration:this.navigationPanDuration})),e===this.getPosition()&&(this.animation.animate({x:"".concat(this.transform.left,"%"),duration:this.navigationPanDuration}),this.trigger("attemptedNavigation",{position:this.getPosition()}))}}},{key:"onPinchStart",value:function(){this.getActivePageSpread().isZoomable()&&(this.pinching=!0,this.el.setAttribute("data-pinching",!0),this.startTransform.scale=this.transform.scale)}},{key:"onPinchMove",value:function(t){!1!==this.pinching&&this.zoomTo({x:t.center.x,y:t.center.y,scale:this.startTransform.scale*t.scale,bounds:!1,easing:"linear"})}},{key:"onPinchEnd",value:function(t){var e=this;if(!1!==this.pinching){var n=this.getActivePageSpread().getMaxZoomScale(),r=Math.max(1,Math.min(this.transform.scale,n)),i=this.getPosition();1===this.startTransform.scale&&r>1?this.trigger("zoomedIn",{position:i}):this.startTransform.scale>1&&1===r&&this.trigger("zoomedOut",{position:i}),this.zoomTo({x:t.center.x,y:t.center.y,scale:r,duration:this.zoomDuration},(function(){e.pinching=!1,e.el.setAttribute("data-pinching",!1)}))}}},{key:"onPress",value:function(t){this.trigger("pressed",this.getCoordinateInfo(t.center.x,t.center.y,this.getActivePageSpread()))}},{key:"onContextmenu",value:function(t){return t.preventDefault(),this.trigger("contextmenu",this.getCoordinateInfo(t.clientX,t.clientY,this.getActivePageSpread())),!1}},{key:"onWheel",value:function(t){var e,n,r=this,i=this.getActivePageSpread();if(!1!==i.isZoomable()){var o=t.deltaY;event.webkitDirectionInvertedFromDevice&&(o=-o),o>0&&1===this.transform.scale?(n=i.getMaxZoomScale(),e=this.getPosition(),this.zoomTo({x:t.clientX,y:t.clientY,scale:n,duration:this.zoomDuration},(function(){r.trigger("zoomedIn",{position:e})}))):o<0&&this.transform.scale>1&&(e=this.getPosition(),this.zoomTo({x:t.clientX,y:t.clientY,scale:1,duration:this.zoomDuration},(function(){r.trigger("zoomedOut",{position:e})})))}}},{key:"onSingletap",value:function(t){var e=this,n=this.getActivePageSpread(),r=this.getCoordinateInfo(t.center.x,t.center.y,n);if(clearTimeout(this.tap.timeout),1===this.tap.count){if(this.tap.count=0,this.trigger("doubleClicked",r),n.isZoomable()){var i=n.getMaxZoomScale(),o=this.transform.scale>1,a=o?1:i,s=o?"zoomedOut":"zoomedIn",c=this.getPosition();this.zoomTo({x:t.center.x,y:t.center.y,scale:a,duration:this.zoomDuration},(function(){e.trigger(s,{position:c})}))}}else this.tap.count++,this.tap.timeout=Uu((function(){e.tap.count=0,e.trigger("clicked",r)}),this.tap.delay)}},{key:"onTouchStart",value:function(t){this.getActivePageSpread().isScrollable()||t.preventDefault()}},{key:"onTouchEnd",value:function(t){this.getActivePageSpread().isScrollable()||t.preventDefault()}},{key:"onResize",value:function(){if(this.transform.scale>1){var t=this.getPosition(),e=this.getActivePageSpread();this.transform.left=this.getLeftTransformFromPageSpread(t,e),this.transform.top=0,this.transform.scale=1,this.zoomTo({x:this.transform.left,y:this.transform.top,scale:this.transform.scale,duration:0}),this.trigger("zoomedOut",{position:t})}}}]),t}();function Uy(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var Fy=function(t){Pr(n,t);var e=Uy(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yr(this,n),(t=e.call(this)).options=r,t.contentsRendered=!1,t.hotspotsRendered=!1,t.el=t.renderEl(),t}return wr(n,[{key:"getId",value:function(){return this.options.id}},{key:"getEl",value:function(){return this.el}},{key:"getPages",value:function(){return this.options.pages}},{key:"renderEl",value:function(){var t,e=document.createElement("div"),n=wp(t=this.getPages()).call(t,(function(t){return t.id}));return e.className="verso__page-spread sgn-pp__page-spread",e.setAttribute("data-id",this.getId()),e.setAttribute("data-type","page"),e.setAttribute("data-width",this.options.width),e.setAttribute("data-page-ids",n.join(",")),e.setAttribute("data-max-zoom-scale",this.options.maxZoomScale),e.setAttribute("data-zoomable",!1),e}},{key:"renderContents",value:function(){var t=this,e=this.getId(),n=this.getEl(),r=this.getPages(),i=r.length,o=0,a=n.clientWidth*(window.devicePixelRatio||1);"double"===this.options.pageMode&&(a/=2);var s=a>700;return ur(r).call(r,(function(a,c){var l=a.images.medium;s&&(l=a.images.large);var u=document.createElement("div"),f=document.createElement("div");u.className="sgn-pp__page verso__page",null!=a.id&&u.setAttribute("data-id",a.id),2===i&&(u.className+=0===c?" verso-page--verso":" verso-page--recto"),u.appendChild(f),n.appendChild(u),f.className="sgn-pp-page__loader",f.innerHTML="<span>".concat(a.label,"</span>"),lp(l,(function(s,c,h){if(null==s){var p=++o===i;u.style.backgroundImage="url(".concat(l,")"),u.setAttribute("data-width",c),u.setAttribute("data-height",h),u.innerHTML="&nbsp;",p&&n.setAttribute("data-zoomable",!0),t.trigger("pageLoaded",{pageSpreadId:e,page:a}),p&&t.trigger("pagesLoaded",{pageSpreadId:e,pages:r})}else f.innerHTML="<span>!</span>"}))})),this.contentsRendered=!0,this}},{key:"clearContents",value:function(){return this.el.innerHTML="",this.contentsRendered=!1,this}},{key:"zoomIn",value:function(){var t=this,e=Up([]).call(this.el.querySelectorAll(".sgn-pp__page")),n=this.getPages();ur(e).call(e,(function(e){var r=e.getAttribute("data-id"),i=vv(n).call(n,(function(t){return t.id===r})).images.large;lp(i,(function(n){null==n&&"true"===t.el.getAttribute("data-active")&&(e.setAttribute("data-image",e.style.backgroundImage),e.style.backgroundImage="url(".concat(i,")"))}))}))}},{key:"zoomOut",value:function(){var t=Wd(this.el.querySelectorAll(".sgn-pp__page[data-image]"));ur(t).call(t,(function(t){t.style.backgroundImage=t.getAttribute("data-image"),t.removeAttribute("data-image")}))}}]),n}(ns);function By(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var qy=function(t){Pr(n,t);var e=By(n);function n(t){var r;return yr(this,n),(r=e.call(this)).options=t,r.collection=[],r.ids={},r}return wr(n,[{key:"get",value:function(t){return this.ids[t]}},{key:"getFrag",value:function(){var t,e=document.createDocumentFragment();return ur(t=this.collection).call(t,(function(t){return e.appendChild(t.el)})),e}},{key:"update",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"single",r=[],i={},o=Up(t=this.options.pages).call(t),a=this.options,s=a.width,c=a.maxZoomScale;if("single"===n)ur(o).call(o,(function(t){return r.push([t])}));else{var l=o.shift(),u=o.length%2==1?o.pop():null,f=sp(o,2);l&&r.push([l]),ur(f).call(f,(function(t){return r.push(wp(t).call(t,(function(t){return t})))})),u&&r.push([u])}return this.collection=wp(r).call(r,(function(t,r){var o,a=qa(o="".concat(n,"-")).call(o,r),l=new Fy({width:s,pageMode:n,maxZoomScale:c,pages:t,id:a});return K(l).call(l,"pageLoaded",(function(t){return e.trigger("pageLoaded",t)})),K(l).call(l,"pagesLoaded",(function(t){return e.trigger("pagesLoaded",t)})),i[a]=l,l})),this.ids=i,this}}]),n}(ns);function Vy(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var Hy=function(t){Pr(n,t);var e=Vy(n);function n(t){var r,i,o,a,s,c,l,u,f,h,p,d,v,g,y,m,b,w,_,k,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yr(this,n),(k=e.call(this)).beforeNavigation=K(r=k.beforeNavigation).call(r,_r(k)),k.afterNavigation=K(i=k.afterNavigation).call(i,_r(k)),k.attemptedNavigation=K(o=k.attemptedNavigation).call(o,_r(k)),k.clicked=K(a=k.clicked).call(a,_r(k)),k.doubleClicked=K(s=k.doubleClicked).call(s,_r(k)),k.pressed=K(c=k.pressed).call(c,_r(k)),k.contextmenu=K(l=k.contextmenu).call(l,_r(k)),k.panStart=K(u=k.panStart).call(u,_r(k)),k.panEnd=K(f=k.panEnd).call(f,_r(k)),k.zoomedIn=K(h=k.zoomedIn).call(h,_r(k)),k.zoomedOut=K(p=k.zoomedOut).call(p,_r(k)),k.resize=K(d=k.resize).call(d,_r(k)),k.unload=K(v=k.unload).call(v,_r(k)),k.options=k.makeOptions(x,k.defaults),k.pageId=k.getOption("pageId"),k.els={root:t,pages:t.querySelector(".sgn-pp__pages"),verso:t.querySelector(".verso")},k.pageMode=k.getPageMode(),k.pageSpreads=new qy({pages:k.getOption("pages"),maxZoomScale:k.getOption("pageSpreadMaxZoomScale"),width:k.getOption("pageSpreadWidth")}),K(g=k.pageSpreads).call(g,"pageLoaded",K(y=k.pageLoaded).call(y,_r(k))),K(m=k.pageSpreads).call(m,"pagesLoaded",K(b=k.pagesLoaded).call(b,_r(k))),k.setColor(k.getOption("color")),k.els.pages.parentNode.insertBefore(k.pageSpreads.update(k.pageMode).getFrag(),k.els.pages),k.verso=k.createVerso(),K(k).call(k,"started",K(w=k.start).call(w,_r(k))),K(k).call(k,"destroyed",K(_=k.destroy).call(_,_r(k))),k}return wr(n,[{key:"start",value:function(){var t,e,n=this.getVerso();n.start(),ur(t=n.pageSpreads).call(t,K(e=this.overridePageSpreadContentRect).call(e,this)),this.resizeListener=cp(this.resize,this.getOption("resizeDelay")),window.addEventListener("resize",this.resizeListener,!1),window.addEventListener("beforeunload",this.unload,!1),this.els.root.setAttribute("data-started",""),this.els.root.setAttribute("tabindex","-1"),this.els.root.focus()}},{key:"destroy",value:function(){var t,e=this.getVerso(),n=e.el.querySelectorAll(".sgn-pp__page-spread");this.els.root.removeAttribute("data-started"),this.els.root.removeAttribute("data-idle"),this.els.root.removeAttribute("data-navigating"),this.els.root.removeAttribute("data-color-brightness"),this.els.root.removeAttribute("data-zoomed-in"),this.els.root.style.backgroundColor="#ffffff",ur(t=Wd(n)).call(t,(function(t){t.parentNode.removeChild(t)})),e.destroy(),window.removeEventListener("resize",this.resizeListener,!1),window.removeEventListener("beforeunload",this.unload,!1)}},{key:"makeOptions",value:function(t,e){var n={};for(var r in t){var i;n[r]=null!==(i=t[r])&&void 0!==i?i:e[r]}return n}},{key:"getOption",value:function(t){return this.options[t]}},{key:"setColor",value:function(t){this.els.root.setAttribute("data-color-brightness",op(t)),this.els.root.style.backgroundColor=t}},{key:"createVerso",value:function(){var t=new zy(this.els.verso,{pageId:this.pageId});return K(t).call(t,"beforeNavigation",this.beforeNavigation),K(t).call(t,"afterNavigation",this.afterNavigation),K(t).call(t,"attemptedNavigation",this.attemptedNavigation),K(t).call(t,"clicked",this.clicked),K(t).call(t,"doubleClicked",this.doubleClicked),K(t).call(t,"pressed",this.pressed),K(t).call(t,"contextmenu",this.contextmenu),K(t).call(t,"panStart",this.panStart),K(t).call(t,"panEnd",this.panEnd),K(t).call(t,"zoomedIn",this.zoomedIn),K(t).call(t,"zoomedOut",this.zoomedOut),t}},{key:"getVerso",value:function(){return this.verso}},{key:"getContentRect",value:function(t){var e={top:0,left:0,right:0,bottom:0,width:0,height:0},n=t.getPageEls(),r=n[0],i=n.length;if(!i)return e;var o=this.getVerso().transform.scale,a=r.offsetWidth*i*o,s=r.offsetHeight*o,c=+r.getAttribute("data-height")/(+r.getAttribute("data-width")*i),l=s,u=l/c;l=(u=Math.min(a,u))*c;var f=r.getBoundingClientRect();return e.width=u,e.height=l,e.top=f.top+(s-l)/2,e.left=f.left+(a-u)/2,e.right=e.width+e.left,e.bottom=e.height+e.top,e}},{key:"formatProgressLabel",value:function(t){var e,n=null!==(e=null==t?void 0:t.options.pages)&&void 0!==e?e:[],r=wp(n).call(n,(function(t){return t.id})),i=wp(n).call(n,(function(t){return t.label})),o=this.getOption("pages").length;return r.length>0?i.join("-")+" / "+o:null}},{key:"renderPageSpreads",value:function(){var t,e=this;return ur(t=this.getVerso().pageSpreads).call(t,(function(t){var n=t.getVisibility(),r=e.pageSpreads.get(t.getId());if(r){var i,o;if("visible"===n&&!1===r.contentsRendered)Uu(K(i=r.renderContents).call(i,r),0);if("gone"===n&&!0===r.contentsRendered)Uu(K(o=r.clearContents).call(o,r),0)}})),this}},{key:"findPage",value:function(t){var e;return vv(e=this.getOption("pages")).call(e,(function(e){return e.id===t}))}},{key:"pageLoaded",value:function(t){this.trigger("pageLoaded",t)}},{key:"pagesLoaded",value:function(t){this.trigger("pagesLoaded",t)}},{key:"beforeNavigation",value:function(t){var e=t.newPosition,n=this.getVerso(),r=n.getPageSpreadFromPosition(e),i=this.pageSpreads.get(r.getId()),o=n.getPageSpreadCount(),a=n.pageSpreadEls[t.newPosition],s=e/(o-1)*100,c=this.formatProgressLabel(i);this.els.root.setAttribute("data-navigating",!0),this.renderPageSpreads(),this.resetIdleTimer(),this.startIdleTimer(),this.trigger("beforeNavigation",{verso:t,pageSpread:i,newSpreadEl:a,progress:s,progressLabel:c,pageSpreadCount:o,newPositionIsEnd:t.newPosition+1===o})}},{key:"afterNavigation",value:function(t){var e=t.newPosition,n=this.getVerso(),r=n.getPageSpreadFromPosition(e),i=this.pageSpreads.get(r.getId()),o=n.getPageSpreadCount(),a=n.pageSpreadEls[t.newPosition];this.els.root.setAttribute("data-navigating",!1),this.trigger("afterNavigation",{verso:t,pageSpread:i,pageSpreadCount:o,newSpreadEl:a,newPositionIsEnd:t.newPosition+1===o})}},{key:"attemptedNavigation",value:function(t){this.trigger("attemptedNavigation",{verso:t})}},{key:"clicked",value:function(t){if(t.isInsideContent){var e=t.pageEl.getAttribute("data-id"),n=this.findPage(e);this.trigger("clicked",{verso:t,page:n})}}},{key:"doubleClicked",value:function(t){if(t.isInsideContent){var e=t.pageEl.getAttribute("data-id"),n=this.findPage(e);this.trigger("doubleClicked",{verso:t,page:n})}}},{key:"pressed",value:function(t){if(t.isInsideContent){var e=t.pageEl.getAttribute("data-id"),n=this.findPage(e);this.trigger("pressed",{verso:t,page:n})}}},{key:"contextmenu",value:function(t){if(t.isInsideContent){var e=t.pageEl.getAttribute("data-id"),n=this.findPage(e);this.trigger("contextmenu",{verso:t,page:n})}}},{key:"panStart",value:function(){this.resetIdleTimer(),this.trigger("panStart",{scale:this.getVerso().transform.scale})}},{key:"panEnd",value:function(){this.startIdleTimer(),this.trigger("panEnd")}},{key:"zoomedIn",value:function(t){var e=t.position,n=this.getVerso().getPageSpreadFromPosition(e),r=this.pageSpreads.get(n.getId());null==r||r.zoomIn(),this.els.root.setAttribute("data-zoomed-in",!0),this.trigger("zoomedIn",{verso:t,pageSpread:r})}},{key:"zoomedOut",value:function(t){var e=t.position,n=this.getVerso().getPageSpreadFromPosition(e),r=this.pageSpreads.get(n.getId());null==r||r.zoomOut(),this.els.root.setAttribute("data-zoomed-in",!1),this.trigger("zoomedOut",{verso:t,pageSpread:r})}},{key:"getPageMode",value:function(){var t=this.getOption("pageMode");if(null==t){var e=this.els.root.offsetWidth;t=this.els.root.offsetHeight/e<.8?"double":"single"}return t}},{key:"resetIdleTimer",value:function(){return clearTimeout(this.idleTimeout),this.els.root.setAttribute("data-idle",!1),this}},{key:"startIdleTimer",value:function(){var t=this;return this.idleTimeout=Uu((function(){t.els.root.setAttribute("data-idle",!0)}),this.getOption("idleDelay")),this}},{key:"switchPageMode",value:function(t){var e,n,r;if(this.pageMode===t)return this;var i=this.getVerso(),o=i.getPageSpreadFromPosition(i.getPosition()).getPageIds(),a=this.getVerso().el.querySelectorAll(".sgn-pp__page-spread");return this.pageMode=t,this.pageSpreads.update(this.pageMode),ur(e=Wd(a)).call(e,(function(t){t.parentNode.removeChild(t)})),this.els.pages.parentNode.insertBefore(this.pageSpreads.getFrag(),this.els.pages),i.refresh(),i.navigateTo(i.getPageSpreadPositionFromPageId(o[0]),{duration:0}),ur(n=i.pageSpreads).call(n,K(r=this.overridePageSpreadContentRect).call(r,this)),this}},{key:"overridePageSpreadContentRect",value:function(t){var e=this;if("page"===t.getType())return t.getContentRect=function(){return e.getContentRect(t)}}},{key:"resize",value:function(){var t=this.getPageMode();null==this.getOption("pageMode")&&t!==this.pageMode?this.switchPageMode(t):this.trigger("resized")}},{key:"unload",value:function(){this.trigger("disappeared")}}]),n}(ns);function Wy(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}Hy.prototype.defaults={pages:[],pageSpreadWidth:100,pageSpreadMaxZoomScale:2.3,idleDelay:1e3,resizeDelay:400,color:"#ffffff"};var Yy=function(t){Pr(n,t);var e=Wy(n);function n(t,r){var i,o,a,s,c,l,u,f;return yr(this,n),(f=e.call(this)).eventTracker=t,f.id=r,f.hidden=!0,f.pageSpread=null,K(f).call(f,"appeared",K(i=f.appeared).call(i,_r(f))),K(f).call(f,"disappeared",K(o=f.disappeared).call(o,_r(f))),K(f).call(f,"beforeNavigation",K(a=f.beforeNavigation).call(a,_r(f))),K(f).call(f,"afterNavigation",K(s=f.afterNavigation).call(s,_r(f))),K(f).call(f,"attemptedNavigation",K(c=f.attemptedNavigation).call(c,_r(f))),K(f).call(f,"panStart",K(l=f.panStart).call(l,_r(f))),K(f).call(f,"destroyed",K(u=f.destroy).call(u,_r(f))),f}return wr(n,[{key:"destroy",value:function(){this.pageSpreadDisappeared()}},{key:"trackOpened",value:function(){return null==this.eventTracker||this.eventTracker.trackPagedPublicationOpened({"pp.id":this.id,vt:this.eventTracker.createViewToken(this.id)}),this}},{key:"trackPageSpreadDisappeared",value:function(t){var e=this;return null==this.eventTracker||ur(t).call(t,(function(t){e.eventTracker.trackPagedPublicationPageDisappeared({"pp.id":e.id,"ppp.n":t,vt:e.eventTracker.createViewToken(e.id,t)})})),this}},{key:"appeared",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"disappeared",value:function(){this.pageSpreadDisappeared()}},{key:"beforeNavigation",value:function(){this.pageSpreadDisappeared()}},{key:"afterNavigation",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"attemptedNavigation",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"panStart",value:function(t){1===t.scale&&this.pageSpreadDisappeared()}},{key:"pageSpreadAppeared",value:function(t){t&&!0===this.hidden&&(this.pageSpread=t,this.hidden=!1)}},{key:"pageSpreadDisappeared",value:function(){var t;this.pageSpread&&!1===this.hidden&&(this.trackPageSpreadDisappeared(wp(t=this.pageSpread.getPages()).call(t,(function(t){return t.pageNumber}))),this.hidden=!0,this.pageSpread=null)}}]),n}(ns);function Xy(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var Gy=function(t){Pr(n,t);var e=Xy(n);function n(){var t,r,i,o,a;return yr(this,n),(a=e.call(this)).currentPageSpreadId=null,a.pageSpreadsLoaded={},a.cache={},K(a).call(a,"hotspotsReceived",K(t=a.hotspotsReceived).call(t,_r(a))),K(a).call(a,"afterNavigation",K(r=a.afterNavigation).call(r,_r(a))),K(a).call(a,"pagesLoaded",K(i=a.pagesLoaded).call(i,_r(a))),K(a).call(a,"resized",K(o=a.resized).call(o,_r(a))),a}return wr(n,[{key:"renderHotspots",value:function(t){var e,n=document.createDocumentFragment(),r=t.versoPageSpread.getContentRect(),i=t.pageSpread.getEl(),o=i.querySelectorAll(".sgn-pp__hotspot"),a=i.getBoundingClientRect();for(var s in ur(e=Wd(o)).call(e,(function(t){t.parentNode.removeChild(t)})),t.hotspots){var c=t.hotspots[s],l=this.getPosition(t.pages,t.ratio,c),u=this.renderHotspot(c,l,r,a);n.appendChild(u)}return i.appendChild(n),this}},{key:"renderHotspot",value:function(t,e,n,r){var i=document.createElement("div"),o=Math.round(n.height/100*e.top),a=Math.round(n.width/100*e.left),s=Math.round(n.width/100*e.width),c=Math.round(n.height/100*e.height);return o+=Math.round(n.top),a+=Math.round(n.left),o-=r.top,a-=r.left,i.className="sgn-pp__hotspot verso__overlay",null!=t.id&&i.setAttribute("data-id",t.id),null!=t.type&&i.setAttribute("data-type",t.type),i.innerHTML=_p.render("",t),i.style.top="".concat(o,"px"),i.style.left="".concat(a,"px"),i.style.width="".concat(s,"px"),i.style.height="".concat(c,"px"),i}},{key:"getPosition",value:function(t,e,n){var r=null,i=null,o=null,a=null,s=wp(t).call(t,(function(t){return t.pageNumber}));for(var c in n.locations){var l;-1!==cu(s).call(s,+c)&&ur(l=n.locations[c]).call(l,(function(e){var n=kd(e,2),l=n[0],u=n[1];if(t[1]&&s[1]===+c&&(l+=1),l/=t.length,null==r&&(r=o=l,i=a=u),l<r&&(r=l),l>o&&(o=l),u<i&&(i=u),u>a)return a=u}))}return{top:i/e*100,left:100*r,width:100*(o-r),height:(a-i)/e*100}}},{key:"requestHotspots",value:function(t,e){this.trigger("hotspotsRequested",{id:t,pages:e})}},{key:"hotspotsReceived",value:function(t){var e=t.pageSpread.getId();this.setCache(e,t),this.renderHotspots(t)}},{key:"getCache",value:function(t){return this.cache[t]}},{key:"setCache",value:function(t,e){return this.cache[t]=e,this}},{key:"afterNavigation",value:function(t){if(null!=t.pageSpread){var e=t.pageSpread.getId();this.currentPageSpreadId=e,this.pageSpreadsLoaded[e]&&this.requestHotspots(e,t.pageSpread.getPages())}}},{key:"pagesLoaded",value:function(t){this.pageSpreadsLoaded[t.pageSpreadId]=!0,this.currentPageSpreadId===t.pageSpreadId&&this.requestHotspots(t.pageSpreadId,t.pages)}},{key:"resized",value:function(){var t=this.getCache(this.currentPageSpreadId);t&&this.renderHotspots(t)}}]),n}(ns);function $y(t,e){var n;if(void 0===Yd||null==Xd(t)){if(Ip(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Zy(t,e);var r=Up(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Wd(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zy(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=gd(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Zy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ky(t){var e=function(){if("undefined"==typeof Reflect||!Mt)return!1;if(Mt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Mt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Mt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}function Jy(t,e,n,r){var i;return Sp({el:n,header:yv("paged_publication.hotspot_picker.header"),x:e.verso.x,y:e.verso.y,items:wp(i=xn(t).call(t,(function(t){return"offer"===t.type}))).call(i,(function(t){return{id:t.id,title:t.offer.heading,subtitle:t.offer.pricing.currency+""+t.offer.pricing.price}}))},(function(e){return r(vv(t).call(t,(function(t){return t.id===e.id})))})).destroy}var Qy=function(t){Pr(n,t);var e=Ky(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yr(this,n),(r=e.call(this)).el=t,r.options=i,r._core=new Hy(r.el,{id:r.options.id,pages:r.options.pages,pageSpreadWidth:r.options.pageSpreadWidth,pageSpreadMaxZoomScale:r.options.pageSpreadMaxZoomScale,pageId:r.options.pageId,idleDelay:r.options.idleDelay,resizeDelay:r.options.resizeDelay,color:r.options.color}),r._hotspots=new Gy,r._controls=new wv(r.el,{keyboard:r.options.keyboard}),r._eventTracking=new Yy(r.options.eventTracker,r.options.id),r.hotspots=null,r.hotspotQueue=[],r.popover=null,r._setupEventListeners(),r}return wr(n,[{key:"start",value:function(){return this._eventTracking.trackOpened(),this._core.trigger("started"),this}},{key:"destroy",value:function(){return this._core.trigger("destroyed"),this._hotspots.trigger("destroyed"),this._controls.trigger("destroyed"),this._eventTracking.trigger("destroyed"),this.trigger("destroyed"),this}},{key:"navigateTo",value:function(t,e){return this.navigateToIndex(t,e),this}},{key:"navigateToIndex",value:function(t,e){return this._core.getVerso().navigateTo(t,e),this}},{key:"navigateToPageId",value:function(t,e){var n=this._core.getVerso().getPageSpreadPositionFromPageId(t);return this._core.getVerso().navigateTo(n,e)}},{key:"first",value:function(t){return this._core.getVerso().first(t),this}},{key:"prev",value:function(t){return this._core.getVerso().prev(t),this}},{key:"next",value:function(t){return this._core.getVerso().next(t),this}},{key:"last",value:function(t){return this._core.getVerso().last(t),this}},{key:"_setupEventListeners",value:function(){var t,e,n,r,i,o,a,s,c,l,u,f,h,p,d,v,g,y,m,b,w,_,k,x,S,E,T=this;K(t=this._controls).call(t,"prev",(function(t){T.prev(t)})),K(e=this._controls).call(e,"next",(function(t){T.next(t)})),K(n=this._controls).call(n,"first",(function(t){T.first(t)})),K(r=this._controls).call(r,"last",(function(t){T.last(t)})),K(i=this._controls).call(i,"close",(function(t){T.destroy(t)})),K(o=this._hotspots).call(o,"hotspotsRequested",(function(t){T.trigger("hotspotsRequested",t)})),K(a=this._core).call(a,"appeared",(function(t){T._eventTracking.trigger("appeared",t),T.trigger("appeared",t)})),K(s=this._core).call(s,"disappeared",(function(t){T._eventTracking.trigger("disappeared",t),T.trigger("disappeared",t)})),K(c=this._core).call(c,"beforeNavigation",(function(t){T._eventTracking.trigger("beforeNavigation",t),T._controls.trigger("beforeNavigation",t),T.trigger("beforeNavigation",t)})),K(l=this._core).call(l,"afterNavigation",(function(t){T._eventTracking.trigger("afterNavigation",t),T._hotspots.trigger("afterNavigation",t),T.trigger("afterNavigation",t)})),K(u=this._core).call(u,"attemptedNavigation",(function(t){T._eventTracking.trigger("attemptedNavigation",t),T.trigger("attemptedNavigation",t)})),K(f=this._core).call(f,"clicked",(function(t){T._eventTracking.trigger("clicked",t),T.trigger("clicked",t)})),K(h=this._core).call(h,"doubleClicked",(function(t){T._eventTracking.trigger("doubleClicked",t),T.trigger("doubleClicked",t)})),K(p=this._core).call(p,"contextmenu",(function(t){T.trigger("contextmenu",t)})),K(d=this._core).call(d,"pressed",(function(t){T._eventTracking.trigger("pressed",t),T.trigger("pressed",t)})),K(v=this._core).call(v,"panStart",(function(t){T._eventTracking.trigger("panStart",t),T.trigger("panStart",t)})),K(g=this._core).call(g,"zoomedIn",(function(t){T._eventTracking.trigger("zoomedIn",t),T.trigger("zoomedIn",t)})),K(y=this._core).call(y,"zoomedOut",(function(t){T._eventTracking.trigger("zoomedOut",t),T.trigger("zoomedOut",t)})),K(m=this._core).call(m,"pageLoaded",(function(t){T._eventTracking.trigger("pageLoaded",t),T.trigger("pageLoaded",t)})),K(b=this._core).call(b,"pagesLoaded",(function(t){T._hotspots.trigger("pagesLoaded",t),T.trigger("pagesLoaded",t)})),K(w=this._core).call(w,"resized",(function(t){T._hotspots.trigger("resized"),T.trigger("resized",t)})),K(this).call(this,"hotspotsRequested",K(_=this.hotspotsRequested).call(_,this)),K(this).call(this,"beforeNavigation",K(k=this.beforeNavigation).call(k,this)),K(this).call(this,"clicked",K(x=this.clicked).call(x,this)),K(this).call(this,"contextmenu",K(S=this.contextmenu).call(S,this)),K(this).call(this,"pressed",K(E=this.pressed).call(E,this))}},{key:"pickHotspot",value:function(t,e){var n,r=this;if(null!=this.hotspots){var i,o;if(null!=this.popover)null===(i=(o=this.popover).destroy)||void 0===i||i.call(o),this.popover=null;var a=wp(n=t.verso.overlayEls).call(n,(function(t){return r.hotspots[t.getAttribute("data-id")]}));1===a.length?e(a[0]):a.length>1&&(this.popover={destroy:(this.options.pickHotspot||Jy)(a,t,this.el,e)})}}},{key:"processHotspotQueue",value:function(){var t,e=this;null!=this.hotspots&&(this.hotspotQueue=xn(t=this.hotspotQueue).call(t,(function(t){var n,r,i={},o=vv(n=e._core.getVerso().pageSpreads).call(n,(function(e){return e.getId()===t.id}));for(r in e.hotspots){var a=e.hotspots[r];if(!i[r]){var s,c=$y(t.pages);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(a.locations[l.pageNumber]){i[r]={type:a.type,id:a.id,locations:a.locations};break}}}catch(t){c.e(t)}finally{c.f()}}}return e._hotspots.trigger("hotspotsReceived",{pageSpread:e._core.pageSpreads.get(t.id),versoPageSpread:o,ratio:e.options.hotspotRatio,pages:t.pages,hotspots:i}),!1})))}},{key:"hotspotsRequested",value:function(t){this.hotspotQueue.push(t),this.processHotspotQueue()}},{key:"applyHotspots",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hotspots=t,this.processHotspotQueue()}},{key:"beforeNavigation",value:function(){var t,e;null===(t=this.popover)||void 0===t||null===(e=t.destroy)||void 0===e||e.call(t)}},{key:"clicked",value:function(t){var e=this;this.pickHotspot(t,(function(t){e.trigger("hotspotClicked",t)}))}},{key:"contextmenu",value:function(t){var e=this;this.pickHotspot(t,(function(t){e.trigger("hotspotContextmenu",t)}))}},{key:"pressed",value:function(t){var e=this;this.pickHotspot(t,(function(t){e.trigger("hotspotPressed",t)}))}}]),n}(ns);q({target:"Promise",stat:!0},{try:function(t){var e=Uf.f(this),n=Bf(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var tm=gh;function em(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):tm.resolve(c).then(r,i)}var nm=e((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?d:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function m(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==n&&r.call(_,o)&&(b=_);var k=m.prototype=g.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:e,done:!0}}return y.prototype=k.constructor=m,m.constructor=y,y.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,s,"Generator"),k[o]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})),rm=Jr.Promise,im=Di("iterator"),om=Array.prototype,am=function(t,e,n){if(xd(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},sm=Di("iterator"),cm=function(t){var e=t.return;if(void 0!==e)return ai(e.call(t)).value},lm=function(t,e){this.stopped=t,this.result=e},um=function(t,e,n){var r,i,o,a,s,c,l,u,f=n&&n.that,h=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=am(e,f,1+h+d),g=function(t){return r&&cm(r),new lm(!0,t)},y=function(t){return h?(ai(t),d?v(t[0],t[1],g):v(t[0],t[1])):d?v(t,g):v(t)};if(p)r=t;else{if("function"!=typeof(i=function(t){if(null!=t)return t[sm]||t["@@iterator"]||Uo[ao(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(u=i)&&(Uo.Array===u||om[im]===u)){for(o=0,a=mo(t.length);a>o;o++)if((s=y(t[o]))&&s instanceof lm)return s;return new lm(!1)}r=i.call(t)}for(c=r.next;!(l=c.call(r)).done;){try{s=y(l.value)}catch(t){throw cm(r),t}if("object"==typeof s&&s&&s instanceof lm)return s}return new lm(!1)},fm=Di("iterator"),hm=!1;try{var pm=0,dm={next:function(){return{done:!!pm++}},return:function(){hm=!0}};dm[fm]=function(){return this},Array.from(dm,(function(){throw 2}))}catch(tp){}var vm,gm,ym,mm=/(iphone|ipod|ipad).*applewebkit/i.test(Pi),bm=Jr.location,wm=Jr.setImmediate,_m=Jr.clearImmediate,km=Jr.process,xm=Jr.MessageChannel,Sm=Jr.Dispatch,Em=0,Tm={},Pm="onreadystatechange",Am=function(t){if(Tm.hasOwnProperty(t)){var e=Tm[t];delete Tm[t],e()}},Om=function(t){return function(){Am(t)}},Im=function(t){Am(t.data)},Lm=function(t){Jr.postMessage(t+"",bm.protocol+"//"+bm.host)};wm&&_m||(wm=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Tm[++Em]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},vm(Em),Em},_m=function(t){delete Tm[t]},xi?vm=function(t){km.nextTick(Om(t))}:Sm&&Sm.now?vm=function(t){Sm.now(Om(t))}:xm&&!mm?(ym=(gm=new xm).port2,gm.port1.onmessage=Im,vm=am(ym.postMessage,ym,1)):Jr.addEventListener&&"function"==typeof postMessage&&!Jr.importScripts&&bm&&"file:"!==bm.protocol&&!Qr(Lm)?(vm=Lm,Jr.addEventListener("message",Im,!1)):vm=Pm in ii("script")?function(t){Po.appendChild(ii("script")).onreadystatechange=function(){Po.removeChild(this),Am(t)}}:function(t){setTimeout(Om(t),0)});var Cm,jm,Rm,Mm,Nm,Dm,zm,Um,Fm={set:wm,clear:_m},Bm=/web0s(?!.*chrome)/i.test(Pi),qm=Ho.f,Vm=Fm.set,Hm=Jr.MutationObserver||Jr.WebKitMutationObserver,Wm=Jr.document,Ym=Jr.process,Xm=Jr.Promise,Gm=qm(Jr,"queueMicrotask"),$m=Gm&&Gm.value;$m||(Cm=function(){var t,e;for(xi&&(t=Ym.domain)&&t.exit();jm;){e=jm.fn,jm=jm.next;try{e()}catch(t){throw jm?Mm():Rm=void 0,t}}Rm=void 0,t&&t.enter()},mm||xi||Bm||!Hm||!Wm?Xm&&Xm.resolve?(zm=Xm.resolve(void 0),Um=zm.then,Mm=function(){Um.call(zm,Cm)}):Mm=xi?function(){Ym.nextTick(Cm)}:function(){Vm.call(Jr,Cm)}:(Nm=!0,Dm=Wm.createTextNode(""),new Hm(Cm).observe(Dm,{characterData:!0}),Mm=function(){Dm.data=Nm=!Nm}));var Zm,Km,Jm,Qm,tb=$m||function(t){var e={fn:t,next:void 0};Rm&&(Rm.next=e),jm||(jm=e,Mm()),Rm=e},eb=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=xd(e),this.reject=xd(n)},nb={f:function(t){return new eb(t)}},rb=function(t,e){if(ai(t),ei(e)&&e.constructor===t)return e;var n=nb.f(t);return(0,n.resolve)(e),n.promise},ib=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ob=Fm.set,ab=Di("species"),sb="Promise",cb=no.get,lb=no.set,ub=no.getterFor(sb),fb=rm,hb=Jr.TypeError,pb=Jr.document,db=Jr.process,vb=Ti("fetch"),gb=nb.f,yb=gb,mb=!!(pb&&pb.createEvent&&Jr.dispatchEvent),bb="function"==typeof PromiseRejectionEvent,wb="unhandledrejection",_b=na(sb,(function(){if(!(Hi(fb)!==String(fb))){if(66===Li)return!0;if(!xi&&!bb)return!0}if(Li>=51&&/native code/.test(fb))return!1;var t=fb.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[ab]=e,!(t.then((function(){}))instanceof e)})),kb=_b||!function(t,e){if(!e&&!hm)return!1;var n=!1;try{var r={};r[fm]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){fb.all(t).catch((function(){}))})),xb=function(t){var e;return!(!ei(t)||"function"!=typeof(e=t.then))&&e},Sb=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;tb((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,c,l=n[o++],u=i?l.ok:l.fail,f=l.resolve,h=l.reject,p=l.domain;try{u?(i||(2===t.rejection&&Ab(t),t.rejection=1),!0===u?a=r:(p&&p.enter(),a=u(r),p&&(p.exit(),c=!0)),a===l.promise?h(hb("Promise-chain cycle")):(s=xb(a))?s.call(a,f,h):f(a)):h(r)}catch(t){p&&!c&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Tb(t)}))}},Eb=function(t,e,n){var r,i;mb?((r=pb.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),Jr.dispatchEvent(r)):r={promise:e,reason:n},!bb&&(i=Jr["on"+t])?i(r):t===wb&&function(t,e){var n=Jr.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Tb=function(t){ob.call(Jr,(function(){var e,n=t.facade,r=t.value;if(Pb(t)&&(e=ib((function(){xi?db.emit("unhandledRejection",r,n):Eb(wb,n,r)})),t.rejection=xi||Pb(t)?2:1,e.error))throw e.value}))},Pb=function(t){return 1!==t.rejection&&!t.parent},Ab=function(t){ob.call(Jr,(function(){var e=t.facade;xi?db.emit("rejectionHandled",e):Eb("rejectionhandled",e,t.value)}))},Ob=function(t,e,n){return function(r){t(e,r,n)}},Ib=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Sb(t,!0))},Lb=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw hb("Promise can't be resolved itself");var r=xb(e);r?tb((function(){var n={done:!1};try{r.call(e,Ob(Lb,n,t),Ob(Ib,n,t))}catch(e){Ib(n,e,t)}})):(t.value=e,t.state=1,Sb(t,!1))}catch(e){Ib({done:!1},e,t)}}};_b&&(fb=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,fb,sb),xd(t),Zm.call(this);var e=cb(this);try{t(Ob(Lb,e),Ob(Ib,e))}catch(t){Ib(e,t)}},(Zm=function(t){lb(this,{type:sb,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)ro(t,r,e[r],n);return t}(fb.prototype,{then:function(t,e){var n=ub(this),r=gb(Ed(this,fb));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=xi?db.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Sb(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Km=function(){var t=new Zm,e=cb(t);this.promise=t,this.resolve=Ob(Lb,e),this.reject=Ob(Ib,e)},nb.f=gb=function(t){return t===fb||t===Jm?new Km(t):yb(t)},"function"==typeof rm&&(Qm=rm.prototype.then,ro(rm.prototype,"then",(function(t,e){var n=this;return new fb((function(t,e){Qm.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof vb&&ia({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return rb(fb,vb.apply(Jr,arguments))}}))),ia({global:!0,wrap:!0,forced:_b},{Promise:fb}),ga(fb,sb,!1),zh(sb),Jm=Ti(sb),ia({target:sb,stat:!0,forced:_b},{reject:function(t){var e=gb(this);return e.reject.call(void 0,t),e.promise}}),ia({target:sb,stat:!0,forced:_b},{resolve:function(t){return rb(this,t)}}),ia({target:sb,stat:!0,forced:kb},{all:function(t){var e=this,n=gb(e),r=n.resolve,i=n.reject,o=ib((function(){var n=xd(e.resolve),o=[],a=0,s=1;um(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=gb(e),r=n.reject,i=ib((function(){var i=xd(e.resolve);um(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Cb=Sh.charAt,jb="String Iterator",Rb=no.set,Mb=no.getterFor(jb);function Nb(t,e){var n=Ft(t);if(gn){var r=gn(t);e&&(r=xn(r).call(r,(function(e){return On(t,e).enumerable}))),n.push.apply(n,r)}return n}Pa(String,"String",(function(t){Rb(this,{type:jb,string:String(t),index:0})}),(function(){var t,e=Mb(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Cb(n,r),e.index+=t.length,{value:t,done:!1})}));var Db,zb=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yr(this,t),Gr(this,"fetchDetails",(function(t){return hp({url:"/v2/catalogs/".concat(e.options.id)},t)})),Gr(this,"fetchPages",(function(t){return hp({url:"/v2/catalogs/".concat(e.options.id,"/pages")},t)})),Gr(this,"fetchHotspots",(function(t){return hp({url:"/v2/catalogs/".concat(e.options.id,"/hotspots")},t)})),this.options=n}var e,n;return wr(t,[{key:"createViewer",value:function(t,e){return new Qy(this.options.el,function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)ur(n=Nb(Object(r),!0)).call(n,(function(e){Gr(t,e,r[e])}));else if(pr)dr(t,pr(r));else{var i;ur(i=Nb(Object(r))).call(i,(function(e){gr(t,e,On(r,e))}))}}return t}({id:this.options.id,ownedBy:t.details.dealer_id,color:"#"+t.details.branding.pageflip.color,hotspotRatio:t.details.dimensions.height,keyboard:!0,pageId:this.options.pageId,eventTracker:this.options.eventTracker,pages:this.transformPages(t.pages)},e))}},{key:"transformPages",value:function(t){return wp(t).call(t,(function(t,e){var n=e+1;return{id:"page"+n,label:n+"",pageNumber:n,images:{medium:t.view,large:t.zoom}}}))}},{key:"applyHotspots",value:function(t,e){var n={};ur(e).call(e,(function(t){return n[t.id]=t})),t.applyHotspots(n)}},{key:"fetch",value:(e=nm.mark((function t(e){var n,r,i,o;return nm.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,yh.all([this.fetchDetails(),this.fetchPages()]);case 3:if(n=t.sent,r=kd(n,2),i=r[0],o=r[1],!i||!o){t.next=11;break}e(null,{details:i,pages:o}),t.next=12;break;case 11:throw new Error;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),e(t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})),n=function(){var t=this,n=arguments;return new tm((function(r,i){var o=e.apply(t,n);function a(t){em(o,r,i,a,s,"next",t)}function s(t){em(o,r,i,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})}]),t}(),Ub=Object.freeze({__proto__:null,Viewer:Qy,Bootstrapper:zb}),Fb={config:new cs,util:fp,translations:mv};if(Fb.storage={local:id},Fb.EventsKit=hd,Fb.CoreKit=pp,Fb.PagedPublicationKit=Ub,Fb.IncitoPublicationKit=lv,Fb.CoreUIKit=Ep,K(Db=Fb.config).call(Db,"change",(function(t){var e,n=t.eventTracker,r=t.appKey;if((r||n)&&(null===(e=n||Fb.config.get("eventTracker"))||void 0===e?void 0:e.trackId)===(r||Fb.config.get("appKey")))throw tp(new Error("Track identifier must not be identical to app key. Go to https://etilbudsavis.dk/developers/apps to get a track identifier for your app"));null!=n&&(n.eventsTrackUrl||n.setEventsTrackUrl(Fb.config.get("eventsTrackUrl")));var i=t.eventsTrackUrl;i&&Fb.config.get("eventTracker")&&Fb.config.get("eventTracker").setEventsTrackUrl(i)})),Qh()){var Bb=document.getElementById("sgn-sdk");if(Bb){var qb=Bb.getAttribute("data-app-key"),Vb=Bb.getAttribute("data-track-id"),Hb={};qb&&(Hb.appKey=qb),Vb&&(Hb.eventTracker=new Fb.EventsKit.Tracker({trackId:Vb})),Fb.config.set(Hb)}}return Fb}));
//# sourceMappingURL=sgn-sdk.min.js.map
